import{d as y,e as x,o,z as j,y as w,a,P as z,u as t,g as b,c as n,r as V,D as B,E as C,x as v,V as h,G as m,a3 as P,t as S,af as H,a2 as I,F,X as O,Y as U}from"./vendor.9ddd0f99.js";import{_ as $,a as W,A as L,b as N,u as E,B as G,I as J,F as q,g as M,c as R,d as A,e as T,h as X,f as Y}from"./index.ad3dfe2a.js";const K={class:"frame-scroller"},Q=["src"],Z={props:["src"],emits:["load"],setup(r,{emit:s}){const e=y(null),l=y(null),i=y(null),c=_=>{console.log(_),l.value=_.width/_.height},u=()=>{i.value=e.value.naturalWidth/e.value.naturalHeight,s("load")},p=x(()=>l.value&&i.value&&l.value<i.value),f=x(()=>l.value&&i.value&&l.value>=i.value);return(_,d)=>(o(),j(W,{observe:"resize",onResize:c,class:z(["img",{x:t(p),y:t(f)}])},{default:w(()=>[a("div",K,[a("img",{ref_key:"imgRef",ref:e,src:r.src,onLoad:u},null,40,Q)])]),_:1},8,["class"]))}};var ee=$(Z,[["__scopeId","data-v-62b2c2eb"]]);const te={class:"smart-weave"},ae={props:["tx"],setup(r){const s=r;return b(()=>s.tx,e=>{console.log(e),!!e},{immediate:!0}),(e,l)=>(o(),n("div",te," SmartWeave Contract "))}};const se={key:"iframe",class:"selector iframe-container box"},oe=["src"],ne={key:"img",class:"selector img-container box"},re={key:"smartweave",class:"selector"},le={key:"json",class:"selector data-container box"},de={class:"raw"},ie={props:["tx"],setup(r){const s=r,e=V({handler:null,loaded:!1,payload:null}),l=x(()=>L.gatewayURL+s.tx.id);return b(()=>s.tx,async()=>{var i,c,u,p,f,_;if(!!s.tx&&(e.handler=null,e.loaded=!1,((i=s.tx.data)==null?void 0:i.size)!=="0"))if(((c=s.tx.data)==null?void 0:c.type)==="application/x.arweave-manifest+json"||((u=s.tx.data)==null?void 0:u.type)==="text/html"||((p=s.tx.data)==null?void 0:p.type)==="application/pdf")e.handler="iframe";else if(((_=(f=s.tx.data)==null?void 0:f.type)==null?void 0:_.split("/")[0])==="image")e.handler="img";else{e.handler="raw";try{if(e.payload=await N.transactions.getData(s.tx.id,{decode:!0,string:!0}),e.payload[0]==="{")try{e.payload=JSON.stringify(JSON.parse(e.payload),null,2),e.handler="json"}catch{}}catch{}}},{immediate:!0}),(i,c)=>t(e).handler==="iframe"?B((o(),n("div",se,[a("iframe",{class:"iframe",src:t(l),onLoad:c[0]||(c[0]=u=>t(e).loaded=!0)},null,40,oe)],512)),[[C,t(e).loaded]]):t(e).handler==="img"?B((o(),n("div",ne,[v(ee,{src:t(l),onLoad:c[1]||(c[1]=u=>t(e).loaded=!0)},null,8,["src"])],512)),[[C,t(e).loaded]]):t(e).handler==="smartweave"?(o(),n("div",re,[v(ae,{tx:r.tx},null,8,["tx"])])):t(e).handler==="json"||t(e).handler==="raw"?(o(),n("div",le,[a("pre",de,h(t(e).payload),1)])):m("",!0)}};var ce=$(ie,[["__scopeId","data-v-359f4608"]]);const g=r=>(O("data-v-38d93bc0"),r=r(),U(),r),ue={class:"meta flex-column"},_e={class:"card"},ve={class:"row flex-row"},he={class:"item",style:{"font-size":"1.5em"}},me={class:"row flex-row"},pe={class:"item"},fe={class:"row flex-row"},xe={class:"item"},ge=g(()=>a("h3",null,"Properties",-1)),ye={class:"card flex-column"},ke=g(()=>a("h3",null,"ID",-1)),we={class:"ellipsis"},be={key:0},Se=["href"],Ie={key:1},$e=["href"],Le={key:0},De=g(()=>a("h3",null,"Pending",-1)),je={key:0},ze={key:1},Be=g(()=>a("h3",null,"Block",-1)),Ce={class:"ellipsis"},Fe=g(()=>a("h3",null,"Data",-1)),Ne=I(" Fee "),Re=g(()=>a("h3",null,"Tags",-1)),Ae={style:{background:"var(--background2)","border-radius":"var(--border-radius)"}},Te={key:1},Ve=P({props:{txId:null},setup(r){const s=r,e=E(S(s,"txId")),l=x(()=>{var d;return((d=e.value.data)==null?void 0:d.size)!=0}),i=x(()=>!e.value.block),c=x(()=>{if(!e.value.block)return"";const d=new Date(e.value.block.timestamp*1e3);return d.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})+" "+d.toLocaleTimeString()}),u=y(null),p=S(G,"currentHeight"),f=x(()=>{if(!e.value.tags)return;const d=[];for(const k of e.value.tags)d.push({items:[{name:"",value:k.name,attrs:{disabled:!0}},{name:"",value:k.value,attrs:{disabled:!0}}]});return d});b(()=>s.txId,async()=>{M(),N.transactions.getStatus(s.txId).then(d=>u.value=d.status).catch(()=>u.value="Not Found")},{immediate:!0});const _=S(J.breakpoints,"verticalContent");return(d,k)=>t(e)?(o(),j(q,{key:0},H({left:w(()=>{var D;return[a("div",ue,[a("div",_e,[a("div",ve,[a("div",he,[v(R,{ar:t(e).quantity.ar},null,8,["ar"])])]),a("div",me,[a("div",pe,[v(A,{address:t(e).owner.address},null,8,["address"]),v(T,{class:"secondary-text",address:t(e).owner.address},null,8,["address"])])]),a("div",fe,[a("div",xe,[v(A,{address:t(e).recipient},null,8,["address"]),v(T,{class:"secondary-text",address:t(e).recipient},null,8,["address"])])])]),ge,a("div",ye,[a("div",null,[ke,a("div",we,h(t(e).id),1),t(l)?(o(),n("div",be,[a("a",{href:t(L).gatewayURL+t(e).id,target:"_blank"},"Link",8,Se)])):m("",!0),((D=t(e).data)==null?void 0:D.type)==="application/x.arweave-manifest+json"?(o(),n("div",Ie,[a("a",{href:t(L).gatewayURL+"tx/"+t(e).id+"/data.json",target:"_blank"},"Manifest",8,$e)])):m("",!0)]),t(i)?(o(),n("div",Le,[De,u.value?(o(),n("div",je,"Status: "+h(u.value),1)):m("",!0)])):(o(),n("div",ze,[Be,a("div",Ce,h(t(e).block.id),1),a("span",null,[I(h(t(e).block.height)+" ",1),t(p)?(o(),n(F,{key:0},[I("/ "+h(t(p)),1)],64)):m("",!0)]),a("div",null,h(t(c)),1)])),a("div",null,[Fe,a("div",null,"Data size "+h(t(X)(t(e).data.size)),1),a("div",null,[Ne,v(R,{ar:t(e).fee.ar},null,8,["ar"])])])]),t(f).length?(o(),n(F,{key:0},[Re,a("div",Ae,[v(Y,{schema:t(f),disabled:""},null,8,["schema"])])],64)):m("",!0),t(_)?(o(),n("br",Te)):m("",!0)])]}),_:2},[t(l)?{name:"right",fn:w(()=>[v(ce,{tx:t(e),class:z({inline:!t(_)})},null,8,["tx","class"])])}:void 0]),1024)):m("",!0)}});var Oe=$(Ve,[["__scopeId","data-v-38d93bc0"]]);export{Oe as default};
//# sourceMappingURL=Tx.0de1950a.js.map
