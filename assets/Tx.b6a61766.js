import{d as I,e as m,o as n,x as j,s as S,a,P as D,u as t,r as U,w as T,z,C as B,c as r,q as c,V as g,D as p,W as O,t as L,ai as P,n as J,a5 as $,a1 as q,a2 as E}from"./vendor.864071fb.js";import{_ as C,a as G,A,u as M,b as N,c as K,g as R,B as Q,I as X,F as Y,d as Z,T as ee,e as W,W as V,f as F,n as H,h as te,i as ae,j as se}from"./index.6164ec01.js";const ne={class:"frame-scroller"},oe=["src"],le={props:["src"],emits:["load"],setup(u,{emit:s}){const e=I(null),_=I(null),i=I(null),o=d=>{console.log(d),_.value=d.width/d.height},v=()=>{i.value=e.value&&e.value.naturalWidth/e.value.naturalHeight,s("load")},x=m(()=>_.value&&i.value&&_.value<i.value),h=m(()=>_.value&&i.value&&_.value>=i.value);return(d,k)=>(n(),j(G,{observe:"resize",onResize:o,class:D(["img",{x:t(x),y:t(h)}])},{default:S(()=>[a("div",ne,[a("img",{ref_key:"imgRef",ref:e,src:u.src,onLoad:v},null,40,oe)])]),_:1},8,["class"]))}};var re=C(le,[["__scopeId","data-v-597b5404"]]);const de={key:"iframe",class:"selector iframe-container box"},ie=["src"],ce={key:"img",class:"selector img-container box"},ue={key:"smartweave",class:"selector iframe-container box"},_e=["src"],ve={key:"json",class:"selector data-container box"},he={class:"raw"},me={props:["tx"],setup(u){const s=u,e=U({handler:null,loaded:!1,payload:null}),_=m(()=>A.gatewayURL+s.tx.id);return T(()=>s.tx,async()=>{var i,o,v,x,h,d,k,l,y,b;if(!!s.tx&&(e.handler=null,e.loaded=!1,((i=s.tx.data)==null?void 0:i.size)!=="0")){if(M(s.tx.tags)["Bundle-Version"])return;if(((o=s.tx.data)==null?void 0:o.type)==="application/x.arweave-manifest+json"||((v=s.tx.data)==null?void 0:v.type)==="text/html"||((x=s.tx.data)==null?void 0:x.type)==="application/pdf")e.handler="iframe";else if(((d=(h=s.tx.data)==null?void 0:h.type)==null?void 0:d.split("/")[0])==="image")e.handler="img";else if(((l=(k=s.tx.tags)==null?void 0:k.find(w=>w.name==="App-Name"))==null?void 0:l.value)==="SmartWeaveContract"||((b=(y=s.tx.tags)==null?void 0:y.find(w=>w.name==="App-Name"))==null?void 0:b.value)==="SmartWeaveContractSource")e.handler="smartweave";else{e.handler="raw";try{if(e.payload=await N.transactions.getData(s.tx.id,{decode:!0,string:!0}),e.payload[0]==="{")try{e.payload=JSON.stringify(JSON.parse(e.payload),null,2),e.handler="json"}catch{}}catch{}}}},{immediate:!0}),(i,o)=>t(e).handler==="iframe"?z((n(),r("div",de,[a("iframe",{class:"iframe",src:t(_),onLoad:o[0]||(o[0]=v=>t(e).loaded=!0)},null,40,ie)],512)),[[B,t(e).loaded]]):t(e).handler==="img"?z((n(),r("div",ce,[c(re,{src:t(_),onLoad:o[1]||(o[1]=v=>t(e).loaded=!0)},null,8,["src"])],512)),[[B,t(e).loaded]]):t(e).handler==="smartweave"?(n(),r("div",ue,[a("iframe",{class:"iframe",src:"https://arcode.studio/#/"+u.tx.id,onLoad:o[2]||(o[2]=v=>t(e).loaded=!0)},null,40,_e)])):t(e).handler==="json"||t(e).handler==="raw"?(n(),r("div",ve,[a("pre",he,g(t(e).payload),1)])):p("",!0)}};var pe=C(me,[["__scopeId","data-v-0c4b26b3"]]);const f=u=>(q("data-v-64a01d34"),u=u(),E(),u),fe={class:"meta flex-column"},ge={class:"box",style:{padding:"0"}},xe=f(()=>a("div",{class:"spacer"},null,-1)),ye={class:"row flex-column",style:{"align-items":"center"}},we={class:"address-icon-margin"},ke=f(()=>a("div",{class:"spacer"},null,-1)),be={key:0,class:"row flex-column",style:{"align-items":"center"}},Se={class:"address-icon-margin"},Ie=f(()=>a("div",{class:"spacer"},null,-1)),$e=f(()=>a("h3",null,"Transaction",-1)),Ae=$("ID:\xA0"),Le={key:0},Ce=["href"],je={key:1},De=["href"],Te={key:1},ze=f(()=>a("h3",null,"Pending",-1)),Be={key:0},Ne={key:2},Re=f(()=>a("h3",null,"Block",-1)),We=$("ID:\xA0"),Ve={key:0,class:"secondary-text"},Fe=f(()=>a("h3",null,"Data",-1)),He=$(" Fee: "),Ue={key:3},Oe=f(()=>a("h3",null,"Tags",-1)),Pe=[Oe],Je={key:0,style:{background:"var(--background2)","border-radius":"var(--border-radius)"}},qe=O({props:{txId:null},setup(u){const s=u,e=K(L(s,"txId")),_=m(()=>e.value.owner&&R(e.value.owner.address)),i=m(()=>e.value.recipient&&R(e.value.recipient)),o=m(()=>{var l;return((l=e.value.data)==null?void 0:l.size)!=0}),v=m(()=>!e.value.block),x=m(()=>{if(!e.value.block)return"";const l=new Date(e.value.block.timestamp*1e3);return l.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})+" "+l.toLocaleTimeString()}),h=I(null);L(Q,"currentHeight");const d=m(()=>{if(!e.value.tags)return;const l=[];for(const y of e.value.tags)l.push({items:[{name:"",value:y.name,attrs:{disabled:!0}},{name:"",value:y.value,attrs:{disabled:!0}}]});return l});T(()=>s.txId,async()=>{Z(),N.transactions.getStatus(s.txId).then(l=>h.value=l.status).catch(()=>h.value="Not Found")},{immediate:!0});const k=L(X.breakpoints,"verticalContent");return(l,y)=>t(e)?(n(),j(Y,{key:0},P({left:S(()=>{var b,w;return[a("div",fe,[a("div",ge,[a("div",{class:"box-padding flex-column",style:J([t(d).length&&"padding-bottom: 0"])},[c(ee,{tx:t(e),half:"true"},null,8,["tx"]),xe,a("div",ye,[a("div",we,[c(W,{address:t(e).owner.address},null,8,["address"])]),c(V,{wallet:t(_)},null,8,["wallet"]),ke]),t(e).recipient?(n(),r("div",be,[a("div",Se,[c(W,{address:t(e).recipient},null,8,["address"])]),c(V,{wallet:t(i)},null,8,["wallet"]),Ie])):p("",!0),a("div",null,[$e,c(F,{address:t(e).id},{default:S(()=>[Ae]),_:1},8,["address"]),t(o)?(n(),r("div",Le,[a("a",{href:t(A).gatewayURL+t(e).id,target:"_blank"},g(t(A).gatewayURL),9,Ce)])):p("",!0),((b=t(e).data)==null?void 0:b.type)==="application/x.arweave-manifest+json"?(n(),r("div",je,[a("a",{href:t(A).gatewayURL+"tx/"+t(e).id+"/data.json",target:"_blank"},"Manifest",8,De)])):p("",!0)]),t(v)?(n(),r("div",Te,[ze,h.value?(n(),r("div",Be,"Status: "+g(h.value),1)):p("",!0)])):(n(),r("div",Ne,[Re,c(F,{address:t(e).block.id},{default:S(()=>[We]),_:1},8,["address"]),a("div",null,[$(" Height: "+g(t(e).block.height)+" ",1),((w=t(H))==null?void 0:w.height)?(n(),r("span",Ve,"/ "+g(t(H).height),1)):p("",!0)]),a("div",null,g(t(x)),1)])),a("div",null,[Fe,a("div",null,"Size: "+g(t(te)(t(e).data.size)),1),a("div",null,[He,c(ae,{ar:t(e).fee.ar},null,8,["ar"])])]),t(d).length?(n(),r("div",Ue,Pe)):p("",!0)],4),t(d).length?(n(),r("div",Je,[c(se,{schema:t(d),disabled:""},null,8,["schema"])])):p("",!0)])])]}),_:2},[t(o)?{name:"right",fn:S(()=>[c(pe,{tx:t(e),class:D({inline:!t(k)})},null,8,["tx","class"])])}:void 0]),1024)):p("",!0)}});var Me=C(qe,[["__scopeId","data-v-64a01d34"]]);export{Me as default};
//# sourceMappingURL=Tx.b6a61766.js.map
