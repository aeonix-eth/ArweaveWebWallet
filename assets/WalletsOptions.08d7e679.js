import{_ as L,d as R,r as S,aA as V,aB as E,c as w,aC as N,aD as O,o as t,g as o,b as r,q as c,a2 as P,a3 as U,aE as D,x as u,u as e,a as _,w as v,aF as K,B as m,aG as M,aH as q,h as g,aI as z,aJ as W,ax as F,am as T,aK as b,ay as j,az as $,aL as I,aM as k,aN as A,aO as C,aP as G,aQ as H,t as J,ab as Q,aR as X,aS as Z,v as Y,$ as B,Z as ee,E as te,k as ae}from"./index.7ba8413b.js";import{I as se}from"./download.a0dac939.js";const le={class:"wallet-options flex-column"},oe={class:"left"},ne={class:"profile-info"},ie={class:"content flex-column"},re={key:0,class:"flex-row"},ce={class:"flex-row"},de=g("Add Relay"),ue=g("Backup Keyfile"),ve=g("Delete"),fe=R({props:{wallet:null},setup(a){const f=a,x=[{value:void 0,text:"Unencrypted",icon:z},{value:"inactivity",text:"Encrypted - Lock when away",icon:W},{value:"always",text:"Encrypted - Always locked",icon:W}],d=S(!0);V(async()=>{const y=new Promise(l=>E(l)),s=setInterval(()=>d.value=!d.value,1e3);await y,clearInterval(s)});const h=w(()=>{if(!(!N.value?.status||!f.wallet.hasPrivateKey||f.wallet.state.hot))return()=>O(f.wallet)});return(y,s)=>(t(),o("div",le,[r("div",oe,[c(P,{class:"profile",address:a.wallet.key},null,8,["address"]),r("div",ne,[c(U,{wallet:a.wallet},null,8,["wallet"])])]),r("div",ie,[a.wallet.hasPrivateKey?(t(),o("div",re,[c(D,{modelValue:a.wallet.settings.securityLevel,"onUpdate:modelValue":s[0]||(s[0]=l=>a.wallet.settings.securityLevel=l),options:x},null,8,["modelValue"])])):u("",!0),r("div",ce,[e(h)?(t(),_(m,{key:0,run:e(h),icon:e(K),glow:d.value,color:"var(--blue)"},{default:v(()=>[de]),_:1},8,["run","icon","glow"])):u("",!0),a.wallet.download&&!a.wallet.metadata.methods.download?.unavailable?(t(),_(m,{key:1,icon:e(se),onClick:s[1]||(s[1]=()=>a.wallet.download())},{default:v(()=>[ue]),_:1},8,["icon"])):u("",!0),c(m,{icon:e(M),onClick:s[2]||(s[2]=l=>e(q)(a.wallet))},{default:v(()=>[ve]),_:1},8,["icon"])])])]))}});var ye=L(fe,[["__scopeId","data-v-47f78d30"]]);const pe={class:"flex-row",style:{"justify-content":"space-between","align-items":"center"}},we={key:0},_e={key:1},me={key:2},he={class:"flex-column"},ke=g("Connect"),ge=R({setup(a){const f=F(),x=T(),d=w(()=>{const n=f.query.wallet;if(!n)return b.value;const p=Array.isArray(n)?n:[n];return b.value.filter(i=>p.includes(i.id+""))}),h=w(()=>["popup","iframe","ws"].includes(j.value.type)&&!$.value?.walletId),y=w(()=>I.value||k.value),s=w(()=>{if(k.value)return()=>A("");if(I.value)return C.value?()=>G():()=>A("",!0)});let l;return H(()=>{if(!y.value)return;const{promise:n,close:p}=te.confirm({title:"Security changes are not applied",body:"Are you sure you want to leave this page?"});return l&&l(),l=p,ae(I,i=>i&&p()),n}),(n,p)=>(t(),o("div",null,[r("div",pe,[r("h2",null,"Wallet"+J(e(d).length>1?"s":""),1),c(Y,{fast:!0},{default:v(()=>[e(y)?(t(),_(Z,{class:"update-message",key:""+e(k)+e(C),onClick:e(s),style:{"text-align":"right"}},{default:v(()=>[c(Q,{icon:e(X),style:{"vertical-align":"text-top"}},null,8,["icon"]),e(k)?(t(),o("span",we," Select wallets to encrypt or click here to remove password")):e(C)?(t(),o("span",_e," Click here to update encryption")):(t(),o("span",me," Click here to create a new password"))]),_:1},8,["onClick"])):u("",!0)]),_:1})]),r("div",he,[(t(!0),o(B,null,ee(e(d),i=>(t(),o(B,{key:i.id},[c(ye,{wallet:i},null,8,["wallet"]),e(h)?(t(),_(m,{key:0,onClick:()=>{e($).walletId=i.id,e(x).push("Connect")}},{default:v(()=>[ke]),_:2},1032,["onClick"])):u("",!0)],64))),128))]),e(b).length?u("",!0):(t(),_(m,{key:0,style:{"font-size":"1.5em",background:"var(--background3)",width:"100%"},to:{name:"AddWallet"},icon:"+"}))]))}});var Ie=L(ge,[["__scopeId","data-v-5be246f3"]]);export{Ie as W};
//# sourceMappingURL=WalletsOptions.08d7e679.js.map
