{"version":3,"file":"Explore.c190afaf.js","sources":["../../src/functions/UtilsVue.ts","../../src/components/composed/GlobalSearch.vue","../../src/components/composed/BlockCard.vue","../../src/components/composed/BlockCarousel.vue"],"sourcesContent":["import { customRef } from 'vue'\n\nexport function useDebouncedRef<T>(value: T, delay = 200) {\n\tlet timeout: any\n\treturn customRef((track, trigger) => {\n\t\treturn {\n\t\t\tget() {\n\t\t\t\ttrack()\n\t\t\t\treturn value\n\t\t\t},\n\t\t\tset(newValue: T) {\n\t\t\t\tclearTimeout(timeout)\n\t\t\t\ttimeout = setTimeout(() => {\n\t\t\t\t\tvalue = newValue\n\t\t\t\t\ttrigger()\n\t\t\t\t}, delay)\n\t\t\t}\n\t\t}\n\t})\n}","<template>\n\t<div class=\"global-search\">\n\t\t<div class=\"input-container\">\n\t\t\t<Input v-model=\"search\" :actions=\"[searchAction]\" placeholder=\"Search - username, address, transaction id\" style=\"flex:1 1 0;\" />\n\t\t</div>\n\t\t<TransitionsManager>\n\t\t\t<div v-if=\"data.query?.length\" class=\"results input-box\">\n\t\t\t\t<List class=\"query-list input-box\">\n\t\t\t\t\t<List v-if=\"wallet\" class=\"flex-column\">\n\t\t\t\t\t\t<div class=\"secondary-text\">User</div>\n\t\t\t\t\t\t<ProfileCard :wallet=\"wallet\" compact=\"true\" />\n\t\t\t\t\t\t<div />\n\t\t\t\t\t</List>\n\t\t\t\t\t<div class=\"secondary-text\">Transactions</div>\n\t\t\t\t\t<div v-for=\"item in data.query\" :key=\"item\" class=\"result\">\n\t\t\t\t\t\t<TxCard :tx=\"item.node\" :current-address=\"wallet?.key\"></TxCard>\n\t\t\t\t\t</div>\n\t\t\t\t</List>\n\t\t\t</div>\n\t\t</TransitionsManager>\n\t</div>\n</template>\n\n\n\n<script setup lang=\"ts\">\nimport Input from '@/components/atomic/Input.vue'\nimport List from '@/components/layout/List.vue'\nimport IconSearch from '@/assets/icons/search.svg?component'\nimport { computed, reactive, ref, watch } from 'vue'\nimport { arweaveQuery, queryAggregator } from '@/store/ArweaveStore'\nimport TxCard from '@/components/composed/TxCard.vue'\nimport TransitionsManager from '@/components/visual/TransitionsManager.vue'\nimport ProfileCard from '@/components/composed/ProfileCard.vue'\nimport { getAccountByAddress } from '@/functions/Wallets'\nimport { useDebouncedRef } from '@/functions/UtilsVue'\n\n\nconst search = useDebouncedRef('')\nconst isId = computed(() => search.value.match(/^[a-z0-9_-]{43}$/i))\nconst searchAction = { run: () => {}, icon: IconSearch }\n\nlet query: any\nconst data = ref({} as any)\nconst wallet = computed(() => isId.value && !data.value.idQuery?.state?.length && getAccountByAddress(search.value))\n\nwatch(search, () => {\n\tquery = undefined\n\tdata.value = {}\n\tif (isId.value) {\n\t\tconst idQuery = arweaveQuery({ ids: [search.value] })\n\t\tdata.value.idQuery = idQuery\n\t\tquery = queryAggregator([\n\t\t\tidQuery,\n\t\t\tarweaveQuery({ owners: [search.value] }),\n\t\t\tarweaveQuery({ recipients: [search.value] }),\n\t\t])\n\t}\n\telse if (search.value.length) { query = queryAggregator([\n\t\tarweaveQuery({ tags: [{ name: 'App-Name', values: ['arweave-id'] }, { name: 'Name', values: [search.value] }] }),\n\t])}\n\tdata.value.query = query?.state\n\tquery?.fetchQuery.query()\n})\n</script>\n\n\n\n<style scoped>\n.global-search {\n\tposition: relative;\n}\n\n.input-container {\n\tbackground: var(--background2);\n\tborder-radius: var(--border-radius);\n\tposition: relative;\n\tz-index: 10;\n}\n\n.results {\n\ttop: calc(100% - var(--border-radius));\n\tbackground: var(--background2);\n\tborder-top-left-radius: 0;\n\tborder-top-right-radius: 0;\n\tposition: absolute;\n\twidth: 100%;\n\toverflow: hidden;\n\tz-index: 1;\n}\n\n.query-list {\n\tborder: 0;\n\tborder-radius: 0;\n\tpadding: var(--spacing);\n\t/*padding-top: var(--border-radius);*/\n}\n\n.result {\n}\n</style>","<template>\n\t<div class=\"block-card\">\n\t\t<Observer @intersection=\"visible = true\" />\n\t\t\t<div class=\"flex-row\" style=\"align-items: center; justify-content: space-between\">\n\t\t\t\t<h2>\n\t\t\t\t\tBlock {{ block.node.height }}\n\t\t\t\t</h2>\n\t\t\t\t<div v-if=\"data\" style=\"text-align: end\">\n\t\t\t\t\t<div>{{ data.txs?.length }} Transactions | {{ humanFileSize(data.block_size) }}</div>\n\t\t\t\t\t<div><Date :timestamp=\"data.timestamp * 1000\" /></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t</div>\n</template>\n\n\n\n<script setup lang=\"ts\">\nimport Observer from '@/components/function/Observer.vue'\nimport { ref, watch } from 'vue'\nimport { arweave } from '@/store/ArweaveStore'\nimport { humanFileSize } from '@/functions/Utils'\nimport Date from '@/components/atomic/Date.vue'\n\nconst props = defineProps<{ block: any }>()\n\nconst visible = ref(false)\nconst data = ref(undefined as any)\n\n\nwatch(visible, async visible => visible && !data.value && (data.value = await arweave.blocks.get(props.block.node.id)))\n</script>\n\n\n\n<style>\n.block-card {\n\n}\n</style>","<template>\n\t<Carousel v-model=\"index\" :options=\"{ align: 'center', overscroll: true }\" @start=\"start\" @end=\"end\" class=\"block-carousel\">\n\t\t<BlockCard v-for=\"block in state\" :key=\"block.node.id\" :block=\"block\" class=\"block fade-list-item box\">\n\t\t\n\t\t</BlockCard>\n\t</Carousel>\n</template>\n\n\n\n<script setup lang=\"ts\">\nimport Carousel from '@/components/layout/Carousel.vue'\nimport { ref, computed, watch } from 'vue'\nimport { getAccountByAddress } from '@/functions/Wallets'\nimport { arweaveQuery, arweaveQueryBlocks, queryAggregator } from '@/store/ArweaveStore'\nimport BlockCard from '@/components/composed/BlockCard.vue'\n\nconst index = ref(undefined as undefined | number)\n\nconst query = arweaveQueryBlocks({})\nconst state = computed(() => query.state.value && [...query.state.value].reverse())\nwatch(state, (state, oldState) => !oldState?.length && state?.length && (index.value = state.length - 1))\nquery?.fetchQuery.query()\n\nconst start = (val: IntersectionObserverEntry) => val.isIntersecting && query?.fetchQuery.query()\nconst end = (val: IntersectionObserverEntry) => val.isIntersecting\n</script>\n\n\n\n<style>\n\n\n.block {\n\tmargin-top: var(--spacing);\n\t/*height: var(--current-vh);*/\n\twidth: var(--current-vw);\n\tmax-width: var(--column-width-small);\n\t/*padding: 0;*/\n\tdisplay: inline-block;\n}\n</style>"],"names":[],"mappings":"w4BAEmC,EAAU,EAAQ,IAAK,IACrD,SACG,GAAU,CAAC,EAAO,IACjB,EACN,KAAM,YAEE,GAER,IAAI,EAAa,cACH,KACH,WAAW,IAAM,GAClB,OAEN,0TCuBD,GAAS,GAAgB,IACzB,EAAO,EAAS,IAAM,EAAO,MAAM,MAAM,sBACzC,EAAe,CAAE,IAAK,IAAM,GAAI,KAAM,MAExC,QACE,GAAO,EAAI,IACX,EAAS,EAAS,aAAM,SAAK,OAAS,CAAC,SAAK,MAAM,UAAX,cAAoB,QAApB,cAA2B,SAAU,EAAoB,EAAO,kBAEvG,EAAQ,IAAM,MACX,SACH,MAAQ,GACT,EAAK,MAAO,MACT,GAAU,EAAa,CAAE,IAAK,CAAC,EAAO,WACvC,MAAM,QAAU,IACb,EAAgB,CACvB,EACA,EAAa,CAAE,OAAQ,CAAC,EAAO,SAC/B,EAAa,CAAE,WAAY,CAAC,EAAO,eAG5B,GAAO,MAAM,WAAkB,EAAgB,CACvD,EAAa,CAAE,KAAM,CAAC,CAAE,KAAM,WAAY,OAAQ,CAAC,eAAiB,CAAE,KAAM,OAAQ,OAAQ,CAAC,EAAO,gBAEhG,MAAM,MAAQ,iBAAO,iBACnB,WAAW,i/BCpCb,EAAU,EAAI,IACd,EAAO,EAAI,iBAGX,EAAS,KAAM,IAAW,GAAW,CAAC,EAAK,UAAe,MAAQ,KAAM,GAAQ,OAAO,IAAI,EAAM,MAAM,KAAK,mZCb5G,GAAQ,EAAI,QAEZ,EAAQ,EAAmB,IAC3B,EAAQ,EAAS,IAAM,EAAM,MAAM,OAAS,CAAC,GAAG,EAAM,MAAM,OAAO,aACnE,EAAO,CAAC,EAAO,IAAa,CAAC,kBAAU,SAAU,kBAAO,YAAiB,MAAQ,EAAM,OAAS,eAC/F,WAAW,aAEZ,GAAQ,AAAC,GAAmC,EAAI,gBAAkB,kBAAO,WAAW,SACpF,EAAM,AAAC,GAAmC,EAAI"}