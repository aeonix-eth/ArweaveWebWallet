import{Y as L,d as j,e as _,o as n,y as C,x as k,a,Q as $,u as t,r as W,w as R,c as r,s as f,X as y,C as E,D as H,a9 as z,a3 as J,E as u,a7 as A,af as G,k as B,ak as M,p as Q,a4 as X,a5 as Y}from"./vendor.06acf495.js";import{_ as T,a as q,A as D,B as K,u as Z,b as N,c as ee,g as P,I as te,T as ae,d as F,n as V,h as se,e as ne,f as oe,F as re}from"./index.9e3c96d9.js";import{I as le}from"./download.7d86b71f.js";import{P as O}from"./ProfilePreview.8bef3112.js";const ie={class:"frame-scroller"},de=["src"],ce=L({props:["src"],emits:["load"],setup(v,{emit:s}){const e=j(null),i=j(null),h=j(null),m=l=>{console.log(l),i.value=l.contentRect.width/l.contentRect.height},p=()=>{h.value=e.value&&e.value.naturalWidth/e.value.naturalHeight,s("load")},d=_(()=>i.value&&h.value&&i.value<h.value),c=_(()=>i.value&&h.value&&i.value>=h.value);return(l,w)=>(n(),C(q,{observe:"resize",onResize:m,class:$(["img",{x:t(d),y:t(c)}])},{default:k(()=>[a("div",ie,[a("img",{ref_key:"imgRef",ref:e,src:v.src,onLoad:p},null,40,de)])]),_:1},8,["class"]))}});var ue=T(ce,[["__scopeId","data-v-3baf12d9"]]);const _e=A("Load large file"),ve={key:"json",class:"selector data-container box"},he={class:"raw"},pe=L({props:["tx"],setup(v){const s=v,e=W({handler:void 0,payload:void 0,loaded:!1,intent:!1}),i=_(()=>D.gatewayURL+s.tx.id),h=_(()=>"https://arcode.studio/#/"+s.tx.id+"?theme=dark-blue&hideToolbar=true"),m=async()=>{var d,c,l,w,o,x,b,S,I;if(!s.tx||((d=s.tx.data)==null?void 0:d.size)==="0")return;const p=Z(s.tx.tags);if(!p["Bundle-Version"]){if(((c=s.tx.data)==null?void 0:c.type)==="application/x.arweave-manifest+json"||((l=s.tx.data)==null?void 0:l.type)==="text/html"||((w=s.tx.data)==null?void 0:w.type)==="application/pdf")return e.handler={is:"iframe",attrs:{src:i.value,class:["hover"]},containerAttrs:{class:["iframe-container"]}};if(((x=(o=s.tx.data)==null?void 0:o.type)==null?void 0:x.split("/")[0])==="video")return e.handler={is:"iframe",attrs:{src:i.value},containerAttrs:{class:["iframe-container"]}};if(((b=s.tx.data)==null?void 0:b.size)>104857600&&!e.intent)return e.handler="intent";if(((I=(S=s.tx.data)==null?void 0:S.type)==null?void 0:I.split("/")[0])==="image")return e.handler={is:G(ue),attrs:{src:i.value},containerAttrs:{class:["img-container"]}};if(p["App-Name"]==="SmartWeaveContract"||p["App-Name"]==="SmartWeaveContractSource")return e.handler={is:"iframe",attrs:{src:h.value},containerAttrs:{class:["iframe-container"]}};e.handler="raw";try{if(e.payload=await N.transactions.getData(s.tx.id,{decode:!0,string:!0}),e.payload[0]==="{")try{e.payload=JSON.stringify(JSON.parse(e.payload),null,2),e.handler="json"}catch{}}catch{}}};return R(()=>s.tx.id,()=>{e.handler=void 0,e.payload=void 0,e.loaded=!1,e.intent=!1,m()},{immediate:!0}),R(()=>e.intent,()=>{e.intent&&m()}),(p,d)=>t(e).handler==="intent"?(n(),r("div",{key:0,onClick:d[0]||(d[0]=c=>t(e).intent=!0),class:"selector data-container box",style:{display:"flex","justify-content":"center","padding-top":"5em"}},[f(K,{icon:t(le)},{default:k(()=>[_e]),_:1},8,["icon"])])):t(e).handler==="json"||t(e).handler==="raw"?(n(),r("div",ve,[a("pre",he,y(t(e).payload),1)])):t(e).handler?E((n(),r("div",z({key:2},t(e).handler.containerAttrs,{class:"selector box"}),[(n(),C(J(t(e).handler.is),z(t(e).handler.attrs,{onLoad:d[1]||(d[1]=c=>t(e).loaded=!0)}),null,16))],16)),[[H,t(e).loaded]]):u("",!0)}});var fe=T(pe,[["__scopeId","data-v-8b857f30"]]);const g=v=>(X("data-v-755297a0"),v=v(),Y(),v),me={class:"meta flex-column"},ye={class:"box",style:{padding:"0"}},ge=g(()=>a("div",{class:"spacer"},null,-1)),xe={key:1,class:"spacer"},ke={key:2,class:"divider"},we=g(()=>a("div",{class:"spacer"},null,-1)),be=g(()=>a("h3",null,"Transaction",-1)),Se=A("ID:\xA0"),Ie={key:0},Ae=["href"],je={key:1},Ce=["href"],De={key:3},Le=g(()=>a("h3",null,"Pending",-1)),Re={key:0},Te={key:4},$e=g(()=>a("h3",null,"Block",-1)),ze=A("ID:\xA0"),Be={key:0,class:"secondary-text"},Ne=g(()=>a("h3",null,"Data",-1)),Pe=A(" Fee: "),Fe={key:5},Ve=g(()=>a("h3",null,"Tags",-1)),Oe=[Ve],Ue={key:0,style:{background:"var(--background2)","border-radius":"var(--border-radius)"}},We=L({props:{txId:null},setup(v){const s=v,e=ee(B(s,"txId")),i=_(()=>e.value.owner&&P(e.value.owner.address)),h=_(()=>e.value.recipient&&P(e.value.recipient)),m=_(()=>{var o;return((o=e.value.data)==null?void 0:o.size)!=0}),p=_(()=>!e.value.block),d=_(()=>{if(!e.value.block)return"";const o=new Date(e.value.block.timestamp*1e3);return o.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})+" "+o.toLocaleTimeString()}),c=j(null),l=_(()=>{if(!e.value.tags)return;const o=[];for(const x of e.value.tags)o.push({items:[{name:"",value:x.name,attrs:{disabled:!0}},{name:"",value:x.value,attrs:{disabled:!0}}]});return o});R(()=>s.txId,async()=>{N.transactions.getStatus(s.txId).then(o=>c.value=o.status).catch(()=>c.value="Not Found")},{immediate:!0});const w=B(te.breakpoints,"verticalContent");return(o,x)=>t(e)?(n(),C(re,{key:0},M({left:k(()=>{var b,S,I;return[a("div",me,[a("div",ye,[a("div",{class:"box-padding flex-column",style:Q([t(l).length&&"padding-bottom: 0"])},[f(ae,{tx:t(e),half:"true"},null,8,["tx"]),ge,t(e).recipient?(n(),C(O,{key:0,wallet:t(h)},null,8,["wallet"])):u("",!0),t(e).recipient?(n(),r("div",xe)):u("",!0),t(e).recipient?(n(),r("div",ke)):u("",!0),f(O,{wallet:t(i)},null,8,["wallet"]),we,a("div",null,[be,f(F,{address:t(e).id},{default:k(()=>[Se]),_:1},8,["address"]),t(m)?(n(),r("div",Ie,[a("a",{href:t(D).gatewayURL+t(e).id,target:"_blank"},y((b=t(D).gatewayURLObject)==null?void 0:b.hostname),9,Ae)])):u("",!0),((S=t(e).data)==null?void 0:S.type)==="application/x.arweave-manifest+json"?(n(),r("div",je,[a("a",{href:t(D).gatewayURL+"tx/"+t(e).id+"/data.json",target:"_blank"},"Manifest",8,Ce)])):u("",!0)]),t(p)?(n(),r("div",De,[Le,c.value?(n(),r("div",Re,"Status: "+y(c.value),1)):u("",!0)])):(n(),r("div",Te,[$e,f(F,{address:t(e).block.id},{default:k(()=>[ze]),_:1},8,["address"]),a("div",null,[A(" Height: "+y(t(e).block.height)+" ",1),((I=t(V))==null?void 0:I.height)?(n(),r("span",Be,"/ "+y(t(V).height),1)):u("",!0)]),a("div",null,y(t(d)),1)])),a("div",null,[Ne,a("div",null,"Size: "+y(t(se)(t(e).data.size)),1),a("div",null,[Pe,f(ne,{ar:t(e).fee.ar},null,8,["ar"])])]),t(l).length?(n(),r("div",Fe,Oe)):u("",!0)],4),t(l).length?(n(),r("div",Ue,[f(oe,{schema:t(l),disabled:""},null,8,["schema"])])):u("",!0)])])]}),_:2},[t(m)?{name:"right",fn:k(()=>[f(fe,{tx:t(e),class:$({inline:!t(w)})},null,8,["tx","class"])])}:void 0]),1024)):u("",!0)}});var Me=T(We,[["__scopeId","data-v-755297a0"]]);export{Me as default};
//# sourceMappingURL=Tx.9bca3736.js.map
