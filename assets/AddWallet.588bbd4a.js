import{_ as z,d as G,r as o,c as P,o as t,g as p,b as e,q as c,aj as L,a as i,w as d,u as _,B as m,h as w,t as b,x as k,O as U,a9 as F,ab as B,ak as K,$ as D,Z as q,al as R,V as Y,W as Z,am as H,an as J,ao as E,ap as x,aq as Q,ar as X,as as T,at as ee,au as ae,D as te,av as se,C as le,aw as ne,E as oe}from"./index.7ba8413b.js";const h=y=>(Y("data-v-c766ebc8"),y=y(),Z(),y),ce={class:"add-wallet flex-column"},ie={class:"card"},de=h(()=>e("h2",{style:{display:"flex","justify-content":"space-between"}},[e("span",null,"Passphrase"),e("span",null,"Keyfile")],-1)),re={class:"flex-column"},ue=h(()=>e("div",null,null,-1)),pe=w("Create new wallet"),me=w("Import passphrase"),he={key:0,style:{"text-align":"center"}},ve=h(()=>e("p",null,"This passphrase was not generated by arweave.app",-1)),_e=h(()=>e("p",null,"Make sure that it was entered correctly, without typing errors or extra characters. You can still import the wallet and use it normally",-1)),we=[ve,_e],ye={class:"card"},ge={class:"flex-row",style:{"align-items":"center"}},fe=h(()=>e("span",null,"Watch public address",-1)),be={class:"flex-row",style:{"align-items":"center"}},ke={class:"flex-column"},xe={class:"flex-row"},Ce={class:"flex-row"},Ie={key:0,class:"popup"},We={class:"card flex-column",style:{"min-width":"300px"}},Ae={class:"flex-row",style:{"justify-content":"space-between","align-items":"center"}},Se=h(()=>e("h2",null,"Settings",-1)),Ve=G({setup(y){const g=H(),l=o(""),C=o(""),v=o(void 0),W=P(()=>l.value.trim().split(/\s+/g).length>=12),f=o(!1),A=o(!1),r=o(null),$=async()=>{f.value=!0,l.value=await J();const n=E(l.value);setTimeout(async()=>r.value=await n,1e4),x.account("Account Create")},j=()=>{!r.value||g.push({name:"EditWallet",query:{wallet:r.value.id}})},S=async()=>{A.value=!0;const n=E(l.value);v.value={icon:"loader",message:"importing"},g.push({name:"EditWallet",query:{wallet:(await n).id}}),x.account("Account Import")},M=async()=>{if(await Q(l.value))return S();v.value={messageType:"invalid",actions:[{name:"Back",run:()=>v.value=void 0},{name:"Import",run:()=>S()}]}},N=async n=>{try{const s=await T(void 0,n);g.push({name:"EditWallet",query:{wallet:s.id}}),x.account("Account Ledger")}catch(s){console.error(s),oe.error(s.message||s)}},O={icon:X,run:async()=>{const n=await T(C.value);g.push({name:"EditWallet",query:{wallet:n.id}}),x.account("Account Watch")}},I=o(-1);return P(()=>ee(!1)),(n,s)=>(t(),p("div",ce,[e("div",ie,[de,e("div",re,[c(L,{modelValue:l.value,"onUpdate:modelValue":s[0]||(s[0]=a=>l.value=a),type:"keyfile",disabled:f.value,placeholder:"Type passphrase or import keyfile",autocapitalize:"none"},null,8,["modelValue","disabled"]),ue,!f.value&&!l.value.length?(t(),i(m,{key:0,onClick:$,disabled:l.value.length&&!_(W),class:"main",glow:!0},{default:d(()=>[pe]),_:1},8,["disabled"])):f.value?(t(),i(m,{key:1,disabled:r.value==null,onClick:j,icon:r.value==null?"loader":"",class:"main",glow:!0},{default:d(()=>[w(b(r.value==null?"Generating, write down the passphrase":"Passphrase saved? Click here to proceed"),1)]),_:1},8,["disabled","icon"])):(t(),i(m,{key:2,disabled:!_(W)||A.value,onClick:M,class:"main",glow:!0},{default:d(()=>[me]),_:1},8,["disabled"]))]),c(U,{options:v.value},{default:d(()=>[v.value.messageType==="invalid"?(t(),p("div",he,we)):k("",!0)]),_:1},8,["options"])]),e("div",ye,[e("h2",ge,[c(B,{icon:_(F)},null,8,["icon"]),fe]),c(K,{modelValue:C.value,"onUpdate:modelValue":s[1]||(s[1]=a=>C.value=a),submit:O},null,8,["modelValue"])]),(t(!0),p(D,null,q(_(R),(a,V)=>(t(),p("div",{class:"card",key:a.metadata.name},[e("h2",be,[c(B,{icon:a.metadata.icon},null,8,["icon"]),e("span",null,b(a.metadata.name),1)]),e("div",ke,[e("div",xe,[c(m,{disabled:a.metadata.disabled,onClick:u=>N(a),class:"main",glow:!0},{default:d(()=>[w(b(a.metadata.disabled?`${a.metadata.name} not supported for this browser`:`Connect with ${a.metadata.name}`),1)]),_:2},1032,["disabled","onClick"]),a.metadata.componentSettings?(t(),i(m,{key:0,icon:_(ae),square:!0,onClick:u=>I.value=V},null,8,["icon","onClick"])):k("",!0)]),e("div",Ce,[(t(!0),p(D,null,q(a.metadata.actions,u=>(t(),i(m,te({key:u.name},u),{default:d(()=>[w(b(u.name),1)]),_:2},1040))),128))]),a.metadata.componentSettings?(t(),i(ne,{key:0,background:!0},{default:d(()=>[I.value===V?(t(),p("div",Ie,[e("div",We,[e("div",Ae,[Se,c(se,{onExit:s[2]||(s[2]=u=>I.value=-1)})]),(t(),i(le(a.metadata.componentSettings)))])])):k("",!0)]),_:2},1024)):k("",!0)])]))),128))]))}});var Be=z(Ve,[["__scopeId","data-v-c766ebc8"]]);export{Be as default};
//# sourceMappingURL=AddWallet.588bbd4a.js.map
