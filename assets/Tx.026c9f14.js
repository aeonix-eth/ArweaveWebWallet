import{d as $,e as v,o as n,x as z,s as w,a,P as D,u as t,c as r,W as T,r as O,w as L,q as m,V as g,z as U,C as M,a7 as B,a3 as J,D as u,a5 as A,ad as q,t as N,ai as E,n as G,a1 as K,a2 as Q}from"./vendor.807e0a43.js";import{_ as j,a as X,A as C,B as Y,u as Z,b as P,c as ee,g as R,I as te,F as ae,T as se,d as V,n as H,h as ne,e as oe,f as re}from"./index.9cd929cc.js";import{P as F}from"./ProfilePreview.1043edad.js";const le={class:"frame-scroller"},ie=["src"],de={props:["src"],emits:["load"],setup(_,{emit:s}){const e=$(null),i=$(null),h=$(null),f=l=>{console.log(l),i.value=l.width/l.height},p=()=>{h.value=e.value&&e.value.naturalWidth/e.value.naturalHeight,s("load")},d=v(()=>i.value&&h.value&&i.value<h.value),c=v(()=>i.value&&h.value&&i.value>=h.value);return(l,k)=>(n(),z(X,{observe:"resize",onResize:f,class:D(["img",{x:t(d),y:t(c)}])},{default:w(()=>[a("div",le,[a("img",{ref_key:"imgRef",ref:e,src:_.src,onLoad:p},null,40,ie)])]),_:1},8,["class"]))}};var ce=j(de,[["__scopeId","data-v-597b5404"]]);const ue={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},_e=a("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),ve=a("path",{d:"M19 9h-4V3H9v6H5l7 7 7-7zm-8 2V5h2v6h1.17L12 13.17 9.83 11H11zm-6 7h14v2H5z"},null,-1),he=[_e,ve];function pe(_,s){return n(),r("svg",ue,he)}var me={render:pe};const fe=A("Load large file"),ge={key:"json",class:"selector data-container box"},ye={class:"raw"},xe=T({props:["tx"],setup(_){const s=_,e=O({handler:void 0,payload:void 0,loaded:!1,intent:!1}),i=v(()=>C.gatewayURL+s.tx.id),h=v(()=>"https://arcode.studio/#/"+s.tx.id+"?theme=dark-blue&hideToolbar=true"),f=async()=>{var d,c,l,k,o,x,b,S,I;if(!s.tx||((d=s.tx.data)==null?void 0:d.size)==="0")return;const p=Z(s.tx.tags);if(!p["Bundle-Version"]){if(((c=s.tx.data)==null?void 0:c.type)==="application/x.arweave-manifest+json"||((l=s.tx.data)==null?void 0:l.type)==="text/html"||((k=s.tx.data)==null?void 0:k.type)==="application/pdf")return e.handler={is:"iframe",attrs:{src:i.value,class:["hover"]},containerAttrs:{class:["iframe-container"]}};if(((x=(o=s.tx.data)==null?void 0:o.type)==null?void 0:x.split("/")[0])==="video")return e.handler={is:"iframe",attrs:{src:i.value},containerAttrs:{class:["iframe-container"]}};if(((b=s.tx.data)==null?void 0:b.size)>104857600&&!e.intent)return e.handler="intent";if(((I=(S=s.tx.data)==null?void 0:S.type)==null?void 0:I.split("/")[0])==="image")return e.handler={is:q(ce),attrs:{src:i.value},containerAttrs:{class:["img-container"]}};if(p["App-Name"]==="SmartWeaveContract"||p["App-Name"]==="SmartWeaveContractSource")return e.handler={is:"iframe",attrs:{src:h.value},containerAttrs:{class:["iframe-container"]}};e.handler="raw";try{if(e.payload=await P.transactions.getData(s.tx.id,{decode:!0,string:!0}),e.payload[0]==="{")try{e.payload=JSON.stringify(JSON.parse(e.payload),null,2),e.handler="json"}catch{}}catch{}}};return L(()=>s.tx.id,()=>{e.handler=void 0,e.payload=void 0,e.loaded=!1,e.intent=!1,f()},{immediate:!0}),L(()=>e.intent,()=>{e.intent&&f()}),(p,d)=>t(e).handler==="intent"?(n(),r("div",{key:0,onClick:d[0]||(d[0]=c=>t(e).intent=!0),class:"selector data-container box",style:{display:"flex","justify-content":"center","padding-top":"5em"}},[m(Y,{icon:t(me)},{default:w(()=>[fe]),_:1},8,["icon"])])):t(e).handler==="json"||t(e).handler==="raw"?(n(),r("div",ge,[a("pre",ye,g(t(e).payload),1)])):t(e).handler?U((n(),r("div",B({key:2},t(e).handler.containerAttrs,{class:"selector box"}),[(n(),z(J(t(e).handler.is),B(t(e).handler.attrs,{onLoad:d[1]||(d[1]=c=>t(e).loaded=!0)}),null,16))],16)),[[M,t(e).loaded]]):u("",!0)}});var we=j(xe,[["__scopeId","data-v-8b857f30"]]);const y=_=>(K("data-v-755297a0"),_=_(),Q(),_),ke={class:"meta flex-column"},be={class:"box",style:{padding:"0"}},Se=y(()=>a("div",{class:"spacer"},null,-1)),Ie={key:1,class:"spacer"},Ae={key:2,class:"divider"},$e=y(()=>a("div",{class:"spacer"},null,-1)),ze=y(()=>a("h3",null,"Transaction",-1)),Ce=A("ID:\xA0"),Le={key:0},je=["href"],De={key:1},Te=["href"],Be={key:3},Ne=y(()=>a("h3",null,"Pending",-1)),Pe={key:0},Re={key:4},Ve=y(()=>a("h3",null,"Block",-1)),He=A("ID:\xA0"),Fe={key:0,class:"secondary-text"},We=y(()=>a("h3",null,"Data",-1)),Oe=A(" Fee: "),Ue={key:5},Me=y(()=>a("h3",null,"Tags",-1)),Je=[Me],qe={key:0,style:{background:"var(--background2)","border-radius":"var(--border-radius)"}},Ee=T({props:{txId:null},setup(_){const s=_,e=ee(N(s,"txId")),i=v(()=>e.value.owner&&R(e.value.owner.address)),h=v(()=>e.value.recipient&&R(e.value.recipient)),f=v(()=>{var o;return((o=e.value.data)==null?void 0:o.size)!=0}),p=v(()=>!e.value.block),d=v(()=>{if(!e.value.block)return"";const o=new Date(e.value.block.timestamp*1e3);return o.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})+" "+o.toLocaleTimeString()}),c=$(null),l=v(()=>{if(!e.value.tags)return;const o=[];for(const x of e.value.tags)o.push({items:[{name:"",value:x.name,attrs:{disabled:!0}},{name:"",value:x.value,attrs:{disabled:!0}}]});return o});L(()=>s.txId,async()=>{P.transactions.getStatus(s.txId).then(o=>c.value=o.status).catch(()=>c.value="Not Found")},{immediate:!0});const k=N(te.breakpoints,"verticalContent");return(o,x)=>t(e)?(n(),z(ae,{key:0},E({left:w(()=>{var b,S,I;return[a("div",ke,[a("div",be,[a("div",{class:"box-padding flex-column",style:G([t(l).length&&"padding-bottom: 0"])},[m(se,{tx:t(e),half:"true"},null,8,["tx"]),Se,t(e).recipient?(n(),z(F,{key:0,wallet:t(h)},null,8,["wallet"])):u("",!0),t(e).recipient?(n(),r("div",Ie)):u("",!0),t(e).recipient?(n(),r("div",Ae)):u("",!0),m(F,{wallet:t(i)},null,8,["wallet"]),$e,a("div",null,[ze,m(V,{address:t(e).id},{default:w(()=>[Ce]),_:1},8,["address"]),t(f)?(n(),r("div",Le,[a("a",{href:t(C).gatewayURL+t(e).id,target:"_blank"},g((b=t(C).gatewayURLObject)==null?void 0:b.hostname),9,je)])):u("",!0),((S=t(e).data)==null?void 0:S.type)==="application/x.arweave-manifest+json"?(n(),r("div",De,[a("a",{href:t(C).gatewayURL+"tx/"+t(e).id+"/data.json",target:"_blank"},"Manifest",8,Te)])):u("",!0)]),t(p)?(n(),r("div",Be,[Ne,c.value?(n(),r("div",Pe,"Status: "+g(c.value),1)):u("",!0)])):(n(),r("div",Re,[Ve,m(V,{address:t(e).block.id},{default:w(()=>[He]),_:1},8,["address"]),a("div",null,[A(" Height: "+g(t(e).block.height)+" ",1),((I=t(H))==null?void 0:I.height)?(n(),r("span",Fe,"/ "+g(t(H).height),1)):u("",!0)]),a("div",null,g(t(d)),1)])),a("div",null,[We,a("div",null,"Size: "+g(t(ne)(t(e).data.size)),1),a("div",null,[Oe,m(oe,{ar:t(e).fee.ar},null,8,["ar"])])]),t(l).length?(n(),r("div",Ue,Je)):u("",!0)],4),t(l).length?(n(),r("div",qe,[m(re,{schema:t(l),disabled:""},null,8,["schema"])])):u("",!0)])])]}),_:2},[t(f)?{name:"right",fn:w(()=>[m(we,{tx:t(e),class:D({inline:!t(k)})},null,8,["tx","class"])])}:void 0]),1024)):u("",!0)}});var Xe=j(Ee,[["__scopeId","data-v-755297a0"]]);export{Xe as default};
//# sourceMappingURL=Tx.026c9f14.js.map
