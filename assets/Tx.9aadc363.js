import{Y as T,d as A,e as l,o as n,y as w,x as m,a as s,Q as V,u as e,r as E,w as C,c as r,s as u,X as p,C as H,D as J,a9 as B,a2 as G,E as i,a7 as g,af as M,k as j,ak as Q,p as X,a3 as Y,a4 as K}from"./vendor.284ce6b0.js";import{_ as R,a as Z,A as D,B as ee,u as te,b as U,c as z,I as ae,T as N,d as L,n as P,h as se,e as ne,f as oe,F as re,g as O}from"./index.29489321.js";import{I as ie}from"./download.8d2831c7.js";import{P as F}from"./ProfilePreview.011c19e5.js";import{O as le}from"./OverlayPrompt.7ae40646.js";const de={class:"frame-scroller"},ce=["src"],ue=T({props:["src"],emits:["load"],setup(_,{emit:o}){const a=A(null),t=A(null),d=A(null),x=f=>{console.log(f),t.value=f.contentRect.width/f.contentRect.height},v=()=>{d.value=a.value&&a.value.naturalWidth/a.value.naturalHeight,o("load")},c=l(()=>t.value&&d.value&&t.value<d.value),k=l(()=>t.value&&d.value&&t.value>=d.value);return(f,$)=>(n(),w(Z,{observe:"resize",onResize:x,class:V(["img",{x:e(c),y:e(k)}])},{default:m(()=>[s("div",de,[s("img",{ref_key:"imgRef",ref:a,src:_.src,onLoad:v},null,40,ce)])]),_:1},8,["class"]))}});var _e=R(ue,[["__scopeId","data-v-3baf12d9"]]);const ve=g("Load large file"),he={key:"json",class:"selector data-container box"},pe={class:"raw"},me=T({props:["tx"],setup(_){const o=_,a=E({handler:void 0,payload:void 0,loaded:!1,intent:!1}),t=l(()=>D.gatewayURL+o.tx.id),d=l(()=>"https://arcode.studio/#/"+o.tx.id+"?theme=dark-blue&hideToolbar=true"),x=async()=>{if(!o.tx||o.tx.data?.size==="0")return;const v=te(o.tx.tags);if(!v["Bundle-Version"]){if(o.tx.data?.type==="application/x.arweave-manifest+json"||o.tx.data?.type==="text/html"||o.tx.data?.type==="application/pdf")return a.handler={is:"iframe",attrs:{src:t.value,class:["hover"]},containerAttrs:{class:["iframe-container"]}};if(o.tx.data?.type?.split("/")[0]==="video")return a.handler={is:"iframe",attrs:{src:t.value},containerAttrs:{class:["iframe-container"]}};if(o.tx.data?.size>104857600&&!a.intent)return a.handler="intent";if(o.tx.data?.type?.split("/")[0]==="image")return a.handler={is:M(_e),attrs:{src:t.value},containerAttrs:{class:["img-container"]}};if(v["App-Name"]==="SmartWeaveContract"||v["App-Name"]==="SmartWeaveContractSource")return a.handler={is:"iframe",attrs:{src:d.value},containerAttrs:{class:["iframe-container"]}};a.handler="raw";try{if(a.payload=await U.transactions.getData(o.tx.id,{decode:!0,string:!0}),a.payload[0]==="{")try{a.payload=JSON.stringify(JSON.parse(a.payload),null,2),a.handler="json"}catch{}}catch{}}};return C(()=>o.tx.id,()=>{a.handler=void 0,a.payload=void 0,a.loaded=!1,a.intent=!1,x()},{immediate:!0}),C(()=>a.intent,()=>{a.intent&&x()}),(v,c)=>e(a).handler==="intent"?(n(),r("div",{key:0,onClick:c[0]||(c[0]=k=>e(a).intent=!0),class:"selector data-container box",style:{display:"flex","justify-content":"center","padding-top":"5em"}},[u(ee,{icon:e(ie)},{default:m(()=>[ve]),_:1},8,["icon"])])):e(a).handler==="json"||e(a).handler==="raw"?(n(),r("div",he,[s("pre",pe,p(e(a).payload),1)])):e(a).handler?H((n(),r("div",B({key:2},e(a).handler.containerAttrs,{class:"selector box"}),[(n(),w(G(e(a).handler.is),B(e(a).handler.attrs,{onLoad:c[1]||(c[1]=k=>e(a).loaded=!0)}),null,16))],16)),[[J,e(a).loaded]]):i("",!0)}});var fe=R(me,[["__scopeId","data-v-8b857f30"]]);const y=_=>(Y("data-v-67beda68"),_=_(),K(),_),ye={key:0,style:{position:"relative",width:"100%","min-height":"var(--current-vh)",color:"var(--element-secondary)"}},xe={key:0},ge={key:1},ke={class:"meta flex-column"},be={class:"box",style:{padding:"0"}},we={key:1,class:"spacer"},Ie={key:2,class:"divider"},Se=y(()=>s("h3",null,"Transaction",-1)),Ae={class:"flex-column"},De={key:0},Le=["href"],Ce={key:1},Te=["href"],Re={class:"secondary-text"},$e=g("ID:\xA0"),Be={key:3},je=y(()=>s("h3",null,"Bundle",-1)),ze={class:"flex-column"},Ne={class:"secondary-text"},Pe=g("ID:\xA0"),Oe={key:4},Fe=y(()=>s("h3",null,"Pending",-1)),Ve={key:0},Ue={key:5},We=y(()=>s("h3",null,"Block",-1)),qe={key:0,class:"secondary-text"},Ee=y(()=>s("div",{class:"spacer"},null,-1)),He={class:"secondary-text"},Je=g("ID:\xA0"),Ge=y(()=>s("h3",null,"Data",-1)),Me=g(" Fee: "),Qe={key:6},Xe=y(()=>s("h3",null,"Tags",-1)),Ye=[Xe],Ke={key:0,style:{background:"var(--background2)","border-radius":"var(--border-radius)"}},Ze=T({props:{txId:null},setup(_){const o=_,a=z(j(o,"txId")),t=a.state,d=a.queryStatus,x=l(()=>t.value?.bundledIn?.id),v=z(x).state,c=l(()=>t.value?.owner&&O(t.value?.owner.address)),k=l(()=>t.value?.recipient&&O(t.value?.recipient)),f=l(()=>t.value?.data?.size!=0),$=l(()=>!t.value?.block),W=l(()=>{if(!t.value?.block)return"";const h=new Date(t.value?.block.timestamp*1e3);return h.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})+" "+h.toLocaleTimeString()}),I=A(null),S=l(()=>{if(!t.value?.tags)return;const h=[];for(const b of t.value?.tags)h.push({items:[{name:"",value:b.name,attrs:{disabled:!0}},{name:"",value:b.value,attrs:{disabled:!0}}]});return h});C(()=>o.txId,async()=>{const h=t.value?.bundledIn?.id||o.txId;!h||U.transactions.getStatus(h).then(b=>I.value=b.status).catch(()=>I.value="Not Found")},{immediate:!0});const q=j(ae.breakpoints,"verticalContent");return(h,b)=>e(t)?(n(),w(re,{key:1},Q({left:m(()=>[s("div",ke,[s("div",be,[s("div",{class:"box-padding flex-column",style:X([e(S).length&&"padding-bottom: 0"])},[u(N,{tx:e(t),options:{half:!0}},null,8,["tx"]),e(t).recipient?(n(),w(F,{key:0,wallet:e(k)},null,8,["wallet"])):i("",!0),e(t).recipient?(n(),r("div",we)):i("",!0),e(t).recipient?(n(),r("div",Ie)):i("",!0),u(F,{wallet:e(c)},null,8,["wallet"]),s("div",null,[Se,s("div",Ae,[s("div",null,[e(f)?(n(),r("div",De,[s("a",{href:e(D).gatewayURL+e(t).id,target:"_blank"},p(e(D).gatewayURLObject?.hostname),9,Le)])):i("",!0),e(t).data?.type==="application/x.arweave-manifest+json"?(n(),r("div",Ce,[s("a",{href:e(D).gatewayURL+"tx/"+e(t).id+"/data.json",target:"_blank"},"Manifest",8,Te)])):i("",!0)]),s("div",Re,[u(L,{address:e(t).id},{default:m(()=>[$e]),_:1},8,["address"])])])]),e(t).bundledIn?.id?(n(),r("div",Be,[je,s("div",ze,[e(v)?(n(),w(N,{key:0,tx:e(v),options:{space:!0}},null,8,["tx"])):i("",!0),s("div",Ne,[u(L,{address:e(t).bundledIn?.id},{default:m(()=>[Pe]),_:1},8,["address"])])])])):i("",!0),e($)?(n(),r("div",Oe,[Fe,I.value?(n(),r("div",Ve,"Status: "+p(I.value),1)):i("",!0)])):(n(),r("div",Ue,[We,s("div",null,[g(" Height: "+p(e(t).block.height)+" ",1),e(P)?.height?(n(),r("span",qe,"/ "+p(e(P).height),1)):i("",!0)]),s("div",null,p(e(W)),1),Ee,s("div",He,[u(L,{address:e(t).block.id},{default:m(()=>[Je]),_:1},8,["address"])])])),s("div",null,[Ge,s("div",null,"Size: "+p(e(se)(e(t).data.size)),1),s("div",null,[Me,u(ne,{ar:e(t).fee.ar},null,8,["ar"])])]),e(S).length?(n(),r("div",Qe,Ye)):i("",!0)],4),e(S).length?(n(),r("div",Ke,[u(oe,{schema:e(S),disabled:""},null,8,["schema"])])):i("",!0)])])]),_:2},[e(t)&&e(f)?{name:"right",fn:m(()=>[u(fe,{tx:e(t),class:V({inline:!e(q)})},null,8,["tx","class"])])}:void 0]),1024)):(n(),r("div",ye,[u(le,{options:{icon:"loader"},class:"box"},{default:m(()=>[e(d).error?(n(),r("h2",xe,p(e(d).error),1)):(n(),r("h2",ge,"Loading"))]),_:1})]))}});var ot=R(Ze,[["__scopeId","data-v-67beda68"]]);export{ot as default};
//# sourceMappingURL=Tx.9aadc363.js.map
