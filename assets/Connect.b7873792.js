var me=Object.defineProperty,fe=Object.defineProperties;var pe=Object.getOwnPropertyDescriptors;var O=Object.getOwnPropertySymbols;var he=Object.prototype.hasOwnProperty,xe=Object.prototype.propertyIsEnumerable;var X=(e,t,s)=>t in e?me(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Y=(e,t)=>{for(var s in t||(t={}))he.call(t,s)&&X(e,s,t[s]);if(O)for(var s of O(t))xe.call(t,s)&&X(e,s,t[s]);return e},G=(e,t)=>fe(e,pe(t));import{a2 as z,g as y,d as S,w as ge,a5 as ye,o as a,c as o,v as m,x as C,E as f,a0 as K,a7 as P,q as we,O as c,P as W,X as F,Y as H,a as l,F as w,p as T,y as $,V,f as A,T as Q,a1 as E,t as $e}from"./vendor.13941add.js";import{_ as b,i as J,c as Z,W as M,j as N,D as be,d as ke,I as ee,h as Ie,k as Ve,T as Ce,l as te,m as ae,n as se,o as ne,p as Se,q as oe,s as le,r as ie}from"./index.c2057b62.js";const ze={class:"margin fade-list-item",key:"margin1"},Te={class:"margin fade-list-item",key:"margin2"},Be=z({props:{modelValue:null,options:null},emits:["update:modelValue"],setup(e,{emit:t}){const s=e,n=y({get(){return s.modelValue},set(u){t("update:modelValue",u)}}),d=S(null),i=y(()=>{var u;return((u=d.value)==null?void 0:u.children)?Array(...d.value.children).slice(1,d.value.children.length-1):null}),r=y(()=>{var u;return{"--position":((u=s.options)==null?void 0:u.position)||"start"}}),h=u=>{var x,g,k;const _=Math.max(n.value||0,0);!_||(k=(x=i.value)==null?void 0:x[_])==null||k.scrollIntoView({behavior:u?"instant":"smooth",block:"start",inline:((g=s.options)==null?void 0:g.position)||"start"})};return ge(()=>h()),ye(()=>setTimeout(()=>h(s.options.immediate))),(u,_)=>(a(),o("div",{ref_key:"root",ref:d,class:"carousel flex-row no-scrollbar",style:we(c(r))},[m(P,{name:"fade-list"},{default:C(()=>{var x,g;return[((x=e.options)==null?void 0:x.overscroll)?(a(),o("div",ze)):f("",!0),K(u.$slots,"default",{},void 0,!0),((g=e.options)==null?void 0:g.overscroll)?(a(),o("div",Te)):f("",!0)]}),_:3})],4))}});var de=b(Be,[["__scopeId","data-v-73cbd4c0"]]);const ce=e=>(F("data-v-7b045f16"),e=e(),H(),e),Ee={class:"wallet-selector"},Me=ce(()=>l("div",{class:"exit-background"},null,-1)),Le=ce(()=>l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[l("path",{d:"M0 0h24v24H0V0z",fill:"none"}),l("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"})],-1)),We=[Me,Le],Ae=z({props:{modelValue:String,default:String,exit:Boolean,active:Boolean},emits:["update:modelValue","selectWallet","exit"],setup(e,{emit:t}){const s=e,n=y({get(){return s.modelValue||s.default},set(i){t("update:modelValue",i)}}),d=y(()=>{var i;return(i=J(n.value))==null?void 0:i.key});return(i,r)=>(a(),o("div",Ee,[c(n)?(a(),o("button",{key:0,type:"button",onClick:r[0]||(r[0]=h=>i.$emit("selectWallet")),class:W(["tab",{active:e.active}])},[m(Z,{address:c(d)},null,8,["address"])],2)):f("",!0),e.exit?(a(),o("button",{key:1,class:"exit",type:"button",onClick:r[1]||(r[1]=h=>i.$emit("exit"))},We)):f("",!0)]))}});var Ne=b(Ae,[["__scopeId","data-v-7b045f16"]]);const Pe={class:"wallet-tabs"},Fe=["onClick"],He=z({props:["modelValue"],emits:["update:modelValue"],setup(e,{emit:t}){const s=e,n=y({get(){return s.modelValue},set(i){t("update:modelValue",i)}}),d=0;return(i,r)=>(a(),o("div",Pe,[m(de,{modelValue:d,"onUpdate:modelValue":r[0]||(r[0]=h=>d=h),options:{position:"start",overscroll:!1}},{default:C(()=>[(a(!0),o(w,null,T(c(M),h=>(a(),o("button",{key:h.id,type:"button",onClick:u=>n.value=h.id,class:W(["tab",{active:h.id==c(n)}])},[m(Z,{address:h.key},null,8,["address"])],10,Fe))),128))]),_:1})]))}});var ue=b(He,[["__scopeId","data-v-bcc72fbc"]]);const je={class:"icon-background"},De={props:["icon","img"],setup(e){return(t,s)=>(a(),o("div",je,[e.img?(a(),$(N,{key:0,class:"page-logo",icon:e.img},null,8,["icon"])):(a(),$(N,{key:1,class:"page-logo placeholder",icon:e.icon},null,8,["icon"]))]))}};var re=b(De,[["__scopeId","data-v-7bef1ba0"]]);const Ue={props:["modelValue"],setup(e,{emit:t}){return{expanded:y({get(){return e.modelValue},set(n){t("update:modelValue",n)}})}}},_e=e=>(F("data-v-52e2fbe0"),e=e(),H(),e),qe=_e(()=>l("path",{d:"M24 24H0V0h24v24z",fill:"none",opacity:".87"},null,-1)),Re=_e(()=>l("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6-1.41-1.41z"},null,-1)),Oe=[qe,Re];function Xe(e,t,s,n,d,i){return a(),o("button",{type:"button",class:"expand",onClick:t[0]||(t[0]=r=>n.expanded=!n.expanded)},[(a(),o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:W({expanded:n.expanded})},Oe,2))])}var Ye=b(Ue,[["render",Xe],["__scopeId","data-v-52e2fbe0"]]);const Ge={class:"actions-list flex-row"},Ke=["onClick"],Qe={props:["actions"],setup(e){return(t,s)=>(a(),o("div",Ge,[(a(!0),o(w,null,T(e.actions,n=>(a(),o("button",{key:n.name,onClick:n.run,type:"button",class:"action flex-row"},[m(N,{icon:n.icon},null,8,["icon"]),l("div",null,V(n.name),1)],8,Ke))),128))]))}};var j=b(Qe,[["__scopeId","data-v-99d382fa"]]);const Je={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#FFF"},Ze=l("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),et=l("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"},null,-1),tt=[Ze,et];function at(e,t){return a(),o("svg",Je,tt)}var st={render:at};const nt={class:"flex-row"},ot={class:"flex-row",style:{flex:"1 1 0"}},lt={class:"content"},it={class:"title"},dt={class:"secondary-text"},ct={props:["data"],setup(e){return(t,s)=>(a(),o("div",{class:W(["notification",{expanded:e.data.expanded}])},[l("div",nt,[l("div",ot,[m(re,{icon:e.data.icon||c(st),img:e.data.img},null,8,["icon","img"]),l("div",lt,[e.data.expanded?(a(),$(be,{key:0,class:"secondary-text",timestamp:e.data.timestamp},null,8,["timestamp"])):f("",!0),l("div",it,V(e.data.title),1),l("div",dt,[K(t.$slots,"default",{},void 0,!0)]),e.data.expanded?(a(),$(j,{key:1,actions:e.data.actions},null,8,["actions"])):f("",!0)])]),m(Ye,{modelValue:e.data.expanded,"onUpdate:modelValue":s[0]||(s[0]=n=>e.data.expanded=n)},null,8,["modelValue"])])],2))}};var ut=b(ct,[["__scopeId","data-v-7ece1c50"]]);const rt={components:{Address:ke},props:["tx"],setup(e){return{verticalElement:y(()=>ee.breakpoints.verticalLayout),humanFileSize:Ie}}},_t={class:"tx-card-extension"},vt={key:0,class:"flex-row",style:{"justify-content":"space-between"}},mt={key:0},ft={key:1},pt={key:1,class:"tags secondary-text"};function ht(e,t,s,n,d,i){return a(),o("div",_t,[s.tx.tags.length||s.tx.data_size?(a(),o("div",vt,[s.tx.tags.length?(a(),o("div",mt,"Tags:")):f("",!0),s.tx.data_size?(a(),o("div",ft,"Data: "+V(n.humanFileSize(s.tx.data_size)),1)):f("",!0)])):f("",!0),s.tx.tags.length?(a(),o("ul",pt,[(a(!0),o(w,null,T(s.tx.tags,r=>(a(),o("li",null,V(r.name+" | "+r.value),1))),256))])):f("",!0)])}var xt=b(rt,[["render",ht],["__scopeId","data-v-383b6252"]]);const gt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#fff"},yt=l("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),wt=l("path",{d:"M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"},null,-1),$t=[yt,wt];function bt(e,t){return a(),o("svg",gt,$t)}var ve={render:bt};const kt={key:0,class:"permission-card"},It=E(" Share the public key "),Vt=E(" Share the arweave config "),Ct=E(" Sign data "),St=E(" Decrypt data "),zt=z({props:{messageEntry:null},setup(e){const t=e,s=S(null),n=y(()=>{var u,_,x,g;if(((u=s.value)==null?void 0:u.method)!=="signTransaction")return;const r=(x=(_=s.value)==null?void 0:_.params)==null?void 0:x[0],h=(g=r.tags)==null?void 0:g.map(({name:k,value:B})=>({name:window.atob(k),value:window.atob(B)}));return G(Y({},r),{tags:h})});A(()=>t.messageEntry,async()=>{s.value=await Ve(t.messageEntry)},{immediate:!0});const d=[{name:"Accept",icon:ve,run:()=>t.messageEntry.status="accepted"},{name:"Reject",icon:te,run:()=>t.messageEntry.status="rejected"}],i=[{name:"Pending",icon:ae,run:()=>{}}];return(r,h)=>{var u,_,x,g,k;return s.value?(a(),o("div",kt,[((u=s.value)==null?void 0:u.method)==="signTransaction"?(a(),o(w,{key:0},[m(Ce,{tx:c(n)},null,8,["tx"]),m(xt,{tx:c(n)},null,8,["tx"])],64)):((_=s.value)==null?void 0:_.method)==="getPublicKey"?(a(),o(w,{key:1},[It],64)):((x=s.value)==null?void 0:x.method)==="getArweaveConfig"?(a(),o(w,{key:2},[Vt],64)):((g=s.value)==null?void 0:g.method)==="sign"?(a(),o(w,{key:3},[Ct],64)):((k=s.value)==null?void 0:k.method)==="decrypt"?(a(),o(w,{key:4},[St],64)):f("",!0),m(Q,{name:"fade",mode:"out-in"},{default:C(()=>[e.messageEntry.status?(a(),$(j,{key:1,actions:i})):(a(),$(j,{key:0,actions:d}))]),_:1})])):f("",!0)}}});var Tt=b(zt,[["__scopeId","data-v-11f8fcdc"]]);const Bt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#fff"},Et=l("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),Mt=l("path",{d:"M19 19H5V5h7V3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"},null,-1),Lt=[Et,Mt];function Wt(e,t){return a(),o("svg",Bt,Lt)}var At={render:Wt};const Nt=e=>(F("data-v-4320a95b"),e=e(),H(),e),Pt={class:"connection-card flex-column no-scrollbar"},Ft={class:"flex-row"},Ht=["disabled"],jt={style:{"min-width":"0"}},Dt={class:"ellipsis"},Ut={class:"secondary-text ellipsis"},qt={class:"flex-column",style:{flex:"1 1 0"}},Rt={class:"container"},Ot={class:"container-scroll"},Xt={key:0},Yt={class:"box status fade-list-item",key:"0"},Gt={key:1},Kt=Nt(()=>l("div",{class:"box status fade-list-item",key:"0"},"WIP",-1)),Qt=z({props:{state:null},setup(e){var U;const t=e,s=(U=M.value[0])==null?void 0:U.id;y(()=>M.value.map(v=>v.key));const n=S(t.state.walletId||s);y(()=>J(s));const d=[{name:"Requests",color:"var(--orange)"},{name:"Permissions",color:"var(--green)"}],i=S(n.value?d[0].name:null);A(()=>t.state.walletId,v=>{!v||(_.value=!1,n.value=v,i.value=d[0].name)});const r=()=>t.state.walletId=!1,h=()=>{_.value=!1,t.state.walletId=n.value+""},u=()=>{!t.state.walletId||(_.value=!1,n.value=t.state.walletId)},_=S(!t.state.walletId),x=()=>{var v;if(!_.value){_.value=!0;return}n.value=t.state.walletId||((v=M.value[0])==null?void 0:v.id),_.value=!1},g=y(()=>{var p;const v=t.state.walletId?`Switch to ${n.value}`:`Connect to ${((p=t.state.appInfo)==null?void 0:p.name)||t.state.origin} from the account ${n.value}`;return{title:t.state.walletId?"Switch":"Connect",timestamp:Date.now(),actions:[{name:"Connect",icon:ve,run:h},{name:t.state.walletId?"Cancel":"Switch",icon:te,run:t.state.walletId?u:x}],expanded:!0,content:v}}),k=y(()=>{var v;return n.value===t.state.walletId?(v=t.state.messageQueue)==null?void 0:v.filter(p=>!p.fulfilled):[]});$e(ee.breakpoints,"verticalLayout");const B=S(null),D=(v,p)=>v>p?B.value="slide-left":B.value="slide-right";return A(()=>d.findIndex(v=>v.name===i.value),D),A(()=>M.value.findIndex(v=>v.id===n.value),D),(v,p)=>{var q,R;return a(),o("div",Pt,[l("div",Ft,[l("button",{type:"button",class:"info flex-row",onClick:p[0]||(p[0]=(...I)=>c(se)&&c(se)(...I)),disabled:!c(ne)(e.state.origin,e.state.session)},[m(re,{img:(q=e.state.appInfo)==null?void 0:q.logo,icon:c(ae)},null,8,["img","icon"]),l("div",jt,[l("div",Dt,V(((R=e.state.appInfo)==null?void 0:R.name)||"Connector"),1),l("div",Ut,V(e.state.origin),1)]),c(ne)(e.state.origin,e.state.session)?(a(),$(N,{key:0,icon:c(At)},null,8,["icon"])):f("",!0)],8,Ht),m(Ne,{modelValue:e.state.walletId,"onUpdate:modelValue":p[1]||(p[1]=I=>e.state.walletId=I),default:c(s),exit:!0,active:!_.value,onSelectWallet:x,onExit:r},null,8,["modelValue","default","active"])]),l("div",qt,[m(Se,{tabs:d,modelValue:i.value,"onUpdate:modelValue":p[2]||(p[2]=I=>i.value=I),disabled:!n.value},null,8,["modelValue","disabled"]),l("div",Rt,[l("div",Ot,[m(Q,{name:B.value,mode:"out-in"},{default:C(()=>[(a(),o("div",{key:(n.value||"")+i.value,class:"content"},[i.value==="Requests"?(a(),o("div",Xt,[m(P,{name:"fade-list"},{default:C(()=>{var I;return[_.value?(a(),$(ue,{modelValue:n.value,"onUpdate:modelValue":p[3]||(p[3]=L=>n.value=L),class:"box fade-list-item",key:"0"},null,8,["modelValue"])):f("",!0),((I=c(k))==null?void 0:I.length)===0&&e.state.walletId&&e.state.walletId===n.value?(a(),o("div",Yt,"Connected")):f("",!0),n.value!==e.state.walletId?(a(),$(ut,{data:c(g),class:"box fade-list-item",key:"1"},{default:C(()=>[E(V(c(g).content),1)]),_:1},8,["data"])):f("",!0),(a(!0),o(w,null,T(c(k),L=>(a(),$(Tt,{key:L.uuid,messageEntry:L,style:{padding:"var(--spacing)"},class:"box flex-column fade-list-item"},null,8,["messageEntry"]))),128))]}),_:1})])):i.value==="Permissions"?(a(),o("div",Gt,[m(P,{name:"fade-list"},{default:C(()=>[_.value?(a(),$(ue,{modelValue:n.value,"onUpdate:modelValue":p[4]||(p[4]=I=>n.value=I),class:"box fade-list-item",key:"0"},null,8,["modelValue"])):f("",!0),Kt]),_:1})])):f("",!0)]))]),_:1},8,["name"])])])])])}}});var Jt=b(Qt,[["__scopeId","data-v-4320a95b"]]);const Zt={class:"connect flex-column"},ea={class:"bottom-info secondary-text",style:{opacity:"0.0","pointer-events":"none"}},ta=z({setup(e){const t=S(oe.value.findIndex(s=>s.origin===le.origin&&s.session===le.session));return(s,n)=>(a(),o("div",Zt,[m(de,{modelValue:t.value,"onUpdate:modelValue":n[0]||(n[0]=d=>t.value=d),options:{position:"start",overscroll:!0},class:"connectors"},{default:C(()=>[(a(!0),o(w,null,T(c(oe),d=>(a(),o("div",{key:d.session,class:"connection-card-container fade-list-item"},[m(Jt,{state:d,class:"box"},null,8,["state"])]))),128))]),_:1},8,["modelValue"]),l("div",ea,[l("div",null,"All Channels "+V(Object.keys(c(ie)).length),1),(a(!0),o(w,null,T(c(ie),(d,i)=>(a(),o("div",{key:i},V(d),1))),128))])]))}});var oa=b(ta,[["__scopeId","data-v-5775c0fe"]]);export{oa as default};
//# sourceMappingURL=Connect.b7873792.js.map
