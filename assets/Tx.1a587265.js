import{Y as R,d as I,e as u,o as n,y as D,x as m,a as s,Q as P,u as e,r as V,w as C,c as r,s as c,X as p,C as U,D as W,a9 as $,a2 as q,E as l,a7 as g,af as E,k as B,ak as H,p as J,a3 as G,a4 as M}from"./vendor.284ce6b0.js";import{_ as T,a as Q,A,B as X,u as Y,b as O,c as K,I as Z,T as ee,d as L,n as j,h as te,e as ae,f as se,F as ne,g as z}from"./index.98c78d9d.js";import{I as oe}from"./download.8d2831c7.js";import{P as N}from"./ProfilePreview.55e6799d.js";import{O as re}from"./OverlayPrompt.638fb5bd.js";const ie={class:"frame-scroller"},le=["src"],de=R({props:["src"],emits:["load"],setup(_,{emit:o}){const a=I(null),t=I(null),d=I(null),f=y=>{console.log(y),t.value=y.contentRect.width/y.contentRect.height},h=()=>{d.value=a.value&&a.value.naturalWidth/a.value.naturalHeight,o("load")},i=u(()=>t.value&&d.value&&t.value<d.value),k=u(()=>t.value&&d.value&&t.value>=d.value);return(y,b)=>(n(),D(Q,{observe:"resize",onResize:f,class:P(["img",{x:e(i),y:e(k)}])},{default:m(()=>[s("div",ie,[s("img",{ref_key:"imgRef",ref:a,src:_.src,onLoad:h},null,40,le)])]),_:1},8,["class"]))}});var ce=T(de,[["__scopeId","data-v-3baf12d9"]]);const ue=g("Load large file"),_e={key:"json",class:"selector data-container box"},ve={class:"raw"},he=R({props:["tx"],setup(_){const o=_,a=V({handler:void 0,payload:void 0,loaded:!1,intent:!1}),t=u(()=>A.gatewayURL+o.tx.id),d=u(()=>"https://arcode.studio/#/"+o.tx.id+"?theme=dark-blue&hideToolbar=true"),f=async()=>{if(!o.tx||o.tx.data?.size==="0")return;const h=Y(o.tx.tags);if(!h["Bundle-Version"]){if(o.tx.data?.type==="application/x.arweave-manifest+json"||o.tx.data?.type==="text/html"||o.tx.data?.type==="application/pdf")return a.handler={is:"iframe",attrs:{src:t.value,class:["hover"]},containerAttrs:{class:["iframe-container"]}};if(o.tx.data?.type?.split("/")[0]==="video")return a.handler={is:"iframe",attrs:{src:t.value},containerAttrs:{class:["iframe-container"]}};if(o.tx.data?.size>104857600&&!a.intent)return a.handler="intent";if(o.tx.data?.type?.split("/")[0]==="image")return a.handler={is:E(ce),attrs:{src:t.value},containerAttrs:{class:["img-container"]}};if(h["App-Name"]==="SmartWeaveContract"||h["App-Name"]==="SmartWeaveContractSource")return a.handler={is:"iframe",attrs:{src:d.value},containerAttrs:{class:["iframe-container"]}};a.handler="raw";try{if(a.payload=await O.transactions.getData(o.tx.id,{decode:!0,string:!0}),a.payload[0]==="{")try{a.payload=JSON.stringify(JSON.parse(a.payload),null,2),a.handler="json"}catch{}}catch{}}};return C(()=>o.tx.id,()=>{a.handler=void 0,a.payload=void 0,a.loaded=!1,a.intent=!1,f()},{immediate:!0}),C(()=>a.intent,()=>{a.intent&&f()}),(h,i)=>e(a).handler==="intent"?(n(),r("div",{key:0,onClick:i[0]||(i[0]=k=>e(a).intent=!0),class:"selector data-container box",style:{display:"flex","justify-content":"center","padding-top":"5em"}},[c(X,{icon:e(oe)},{default:m(()=>[ue]),_:1},8,["icon"])])):e(a).handler==="json"||e(a).handler==="raw"?(n(),r("div",_e,[s("pre",ve,p(e(a).payload),1)])):e(a).handler?U((n(),r("div",$({key:2},e(a).handler.containerAttrs,{class:"selector box"}),[(n(),D(q(e(a).handler.is),$(e(a).handler.attrs,{onLoad:i[1]||(i[1]=k=>e(a).loaded=!0)}),null,16))],16)),[[W,e(a).loaded]]):l("",!0)}});var pe=T(he,[["__scopeId","data-v-8b857f30"]]);const x=_=>(G("data-v-c3843a10"),_=_(),M(),_),me={key:0,style:{position:"relative",width:"100%","min-height":"var(--current-vh)",color:"var(--element-secondary)"}},fe={key:0},ye={key:1},ge={class:"meta flex-column"},xe={class:"box",style:{padding:"0"}},ke={key:1,class:"spacer"},be={key:2,class:"divider"},we=x(()=>s("h3",null,"Transaction",-1)),Se=g("ID:\xA0"),Ie={key:0},Ae=["href"],De={key:1},Le=["href"],Ce={key:3},Re=x(()=>s("h3",null,"Bundle",-1)),Te=g("ID:\xA0"),$e={key:4},Be=x(()=>s("h3",null,"Pending",-1)),je={key:0},ze={key:5},Ne=x(()=>s("h3",null,"Block",-1)),Pe=g("ID:\xA0"),Oe={key:0,class:"secondary-text"},Fe=x(()=>s("h3",null,"Data",-1)),Ve=g(" Fee: "),Ue={key:6},We=x(()=>s("h3",null,"Tags",-1)),qe=[We],Ee={key:0,style:{background:"var(--background2)","border-radius":"var(--border-radius)"}},He=R({props:{txId:null},setup(_){const o=_,a=K(B(o,"txId")),t=a.state,d=a.queryStatus,f=u(()=>t.value.owner&&z(t.value.owner.address)),h=u(()=>t.value.recipient&&z(t.value.recipient)),i=u(()=>t.value.data?.size!=0),k=u(()=>!t.value.block),y=u(()=>{if(!t.value.block)return"";const v=new Date(t.value.block.timestamp*1e3);return v.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})+" "+v.toLocaleTimeString()}),b=I(null),S=u(()=>{if(!t.value.tags)return;const v=[];for(const w of t.value.tags)v.push({items:[{name:"",value:w.name,attrs:{disabled:!0}},{name:"",value:w.value,attrs:{disabled:!0}}]});return v});C(()=>o.txId,async()=>{const v=t.value?.bundledIn?.id||o.txId;!v||O.transactions.getStatus(v).then(w=>b.value=w.status).catch(()=>b.value="Not Found")},{immediate:!0});const F=B(Z.breakpoints,"verticalContent");return(v,w)=>e(t)?(n(),D(ne,{key:1},H({left:m(()=>[s("div",ge,[s("div",xe,[s("div",{class:"box-padding flex-column",style:J([e(S).length&&"padding-bottom: 0"])},[c(ee,{tx:e(t),options:{half:!0}},null,8,["tx"]),e(t).recipient?(n(),D(N,{key:0,wallet:e(h)},null,8,["wallet"])):l("",!0),e(t).recipient?(n(),r("div",ke)):l("",!0),e(t).recipient?(n(),r("div",be)):l("",!0),c(N,{wallet:e(f)},null,8,["wallet"]),s("div",null,[we,c(L,{address:e(t).id},{default:m(()=>[Se]),_:1},8,["address"]),e(i)?(n(),r("div",Ie,[s("a",{href:e(A).gatewayURL+e(t).id,target:"_blank"},p(e(A).gatewayURLObject?.hostname),9,Ae)])):l("",!0),e(t).data?.type==="application/x.arweave-manifest+json"?(n(),r("div",De,[s("a",{href:e(A).gatewayURL+"tx/"+e(t).id+"/data.json",target:"_blank"},"Manifest",8,Le)])):l("",!0)]),e(t).bundledIn?.id?(n(),r("div",Ce,[Re,s("div",null,[c(L,{address:e(t).bundledIn?.id},{default:m(()=>[Te]),_:1},8,["address"])])])):l("",!0),e(k)?(n(),r("div",$e,[Be,b.value?(n(),r("div",je,"Status: "+p(b.value),1)):l("",!0)])):(n(),r("div",ze,[Ne,s("div",null,[c(L,{address:e(t).block.id},{default:m(()=>[Pe]),_:1},8,["address"])]),s("div",null,[g(" Height: "+p(e(t).block.height)+" ",1),e(j)?.height?(n(),r("span",Oe,"/ "+p(e(j).height),1)):l("",!0)]),s("div",null,p(e(y)),1)])),s("div",null,[Fe,s("div",null,"Size: "+p(e(te)(e(t).data.size)),1),s("div",null,[Ve,c(ae,{ar:e(t).fee.ar},null,8,["ar"])])]),e(S).length?(n(),r("div",Ue,qe)):l("",!0)],4),e(S).length?(n(),r("div",Ee,[c(se,{schema:e(S),disabled:""},null,8,["schema"])])):l("",!0)])])]),_:2},[e(t)&&e(i)?{name:"right",fn:m(()=>[c(pe,{tx:e(t),class:P({inline:!e(F)})},null,8,["tx","class"])])}:void 0]),1024)):(n(),r("div",me,[c(re,{options:{icon:"loader"},class:"box"},{default:m(()=>[e(d).error?(n(),r("h2",fe,p(e(d).error),1)):(n(),r("h2",ye,"Loading"))]),_:1})]))}});var Ye=T(He,[["__scopeId","data-v-c3843a10"]]);export{Ye as default};
//# sourceMappingURL=Tx.1a587265.js.map
