import{l as B,d as I,e as d,o as n,y as k,x as m,a as s,R as W,u as e,r as M,w as L,c as r,s as h,Y as p,C as Q,D as Y,a9 as O,a2 as K,E as i,a7 as b,af as $,P as F,ak as X,p as Z,a3 as ee,a4 as te}from"./vendor.eb613411.js";import{_ as N,a as ae,A as T,B as se,u as ne,L as oe,b as re,T as z,c as q,d as H,I as le,F as ie,e as j,n as C,h as de,f as ce,g as ue,i as _e,j as U}from"./index.56a13940.js";import{I as ve}from"./download.4aa962c3.js";import{P as V}from"./ProfilePreview.f3d55640.js";import{O as he}from"./OverlayPrompt.d2f92e79.js";const pe={class:"frame-scroller"},me=["src"],fe=B({props:["src"],emits:["load"],setup(u,{emit:o}){const a=I(null),t=I(null),_=I(null),x=g=>{console.log(g),t.value=g.contentRect.width/g.contentRect.height},l=()=>{_.value=a.value&&a.value.naturalWidth/a.value.naturalHeight,o("load")},c=d(()=>t.value&&_.value&&t.value<_.value),w=d(()=>t.value&&_.value&&t.value>=_.value);return(g,D)=>(n(),k(ae,{observe:"resize",onResize:x,class:W(["img",{x:e(c),y:e(w)}])},{default:m(()=>[s("div",pe,[s("img",{ref_key:"imgRef",ref:a,src:u.src,onLoad:l},null,40,me)])]),_:1},8,["class"]))}});var ye=N(fe,[["__scopeId","data-v-3baf12d9"]]);const xe=b("Load large file"),ge={key:"json",class:"selector data-container box"},ke={class:"raw"},be=B({props:["tx"],setup(u){const o=u,a=M({handler:void 0,payload:void 0,loaded:!1,intent:!1}),t=d(()=>T.gatewayURL+o.tx.id),_=d(()=>"https://arcode.studio/#/"+o.tx.id+"?theme=dark-blue&hideToolbar=true"),x=async()=>{if(!o.tx||o.tx.data?.size==="0"||o.tx.data?.size==null)return;const l=ne(o.tx.tags);if(l["Bundle-Version"])return a.loaded=!0,a.handler={is:$(oe),attrs:{query:re({bundledIn:o.tx.id}),component:$(z),componentProps:{options:{space:!0}},class:["column"]},containerAttrs:{class:["data-container","column-container"]}};if(l["Content-Type"]==="application/x.arweave-manifest+json"||l["Content-Type"]==="text/html"||l["Content-Type"]==="application/pdf")return a.handler={is:"iframe",attrs:{src:t.value,class:["hover"]},containerAttrs:{class:["iframe-container"]}};if(l["Content-Type"]?.split("/")[0]==="video")return a.handler={is:"iframe",attrs:{src:t.value},containerAttrs:{class:["iframe-container"]}};if(o.tx.data.size>104857600&&!a.intent)return a.handler="intent";if(l["Content-Type"]?.split("/")[0]==="image")return a.handler={is:$(ye),attrs:{src:t.value},containerAttrs:{class:["img-container"]}};if(l["App-Name"]==="SmartWeaveContract"||l["App-Name"]==="SmartWeaveContractSource")return a.handler={is:"iframe",attrs:{src:_.value},containerAttrs:{class:["iframe-container"]}};a.handler="raw";try{if(a.payload=(await q.api.get(o.tx.id)).data,a.payload[0]==="{")try{a.payload=JSON.stringify(JSON.parse(a.payload),null,2),a.handler="json"}catch{}}catch{}};return L(()=>o.tx.id,()=>{a.handler=void 0,a.payload=void 0,a.loaded=!1,a.intent=!1,x()},{immediate:!0}),L(()=>a.intent,()=>{a.intent&&x()}),(l,c)=>e(a).handler==="intent"?(n(),r("div",{key:0,onClick:c[0]||(c[0]=w=>e(a).intent=!0),class:"selector data-container box",style:{display:"flex","justify-content":"center","padding-top":"5em"}},[h(se,{icon:e(ve)},{default:m(()=>[xe]),_:1},8,["icon"])])):e(a).handler==="json"||e(a).handler==="raw"?(n(),r("div",ge,[s("pre",ke,p(e(a).payload),1)])):e(a).handler?Q((n(),r("div",O({key:2},e(a).handler.containerAttrs,{class:"selector box"}),[(n(),k(K(e(a).handler.is),O(e(a).handler.attrs,{onLoad:c[1]||(c[1]=w=>e(a).loaded=!0)}),null,16))],16)),[[Y,e(a).loaded]]):i("",!0)}});var we=N(be,[["__scopeId","data-v-e9171198"]]);const y=u=>(ee("data-v-06c42598"),u=u(),te(),u),Ie={key:0,style:{position:"relative",width:"100%","min-height":"var(--current-vh)",color:"var(--element-secondary)"}},Se={key:0},Ae={key:1},Ce={class:"meta flex-column"},Te={class:"box",style:{padding:"0"}},Le={key:1,class:"spacer"},De={key:2,class:"divider"},Re=y(()=>s("h3",null,"Transaction",-1)),$e={class:"flex-column"},je={key:0},ze=["href"],Be={key:1},Ne=["href"],Pe={class:"secondary-text"},Oe=b("ID:\xA0"),Fe={key:3},He=y(()=>s("h3",null,"Bundle",-1)),Ue={class:"flex-column"},Ve={class:"secondary-text"},We=b("ID:\xA0"),qe={key:4},Ee=y(()=>s("h3",null,"Pending",-1)),Je={key:0},Ge={key:5},Me=y(()=>s("h3",null,"Block",-1)),Qe={key:0,class:"secondary-text"},Ye=y(()=>s("div",{class:"spacer"},null,-1)),Ke={class:"secondary-text"},Xe=b("ID:\xA0"),Ze=y(()=>s("h3",null,"Data",-1)),et=b(" Fee: "),tt={key:6},at=y(()=>s("h3",null,"Tags",-1)),st=[at],nt={key:0,style:{background:"var(--background2)","border-radius":"var(--border-radius)"}},ot=B({props:{txId:null},setup(u){const o=u,a=H(F(o,"txId")),t=a.state,_=a.queryStatus,x=d(()=>t.value?.bundledIn?.id),c=H(x).state,w=d(()=>t.value?.owner&&U(t.value?.owner.address)),g=d(()=>t.value?.recipient&&U(t.value?.recipient)),D=d(()=>t.value?.data?.size!=="0"),E=d(()=>!t.value?.block),J=d(()=>{if(!t.value?.block)return"";const v=new Date(t.value?.block.timestamp*1e3);return v.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})+" "+v.toLocaleTimeString()}),S=I(null),P=d(()=>C.value?.height&&t.value?.block?.height&&C.value?.height-t.value?.block?.height+1),A=d(()=>{if(!t.value?.tags)return;const v=[];for(const f of t.value?.tags)v.push({items:[{name:"",value:f.name,attrs:{disabled:!0}},{name:"",value:f.value,attrs:{disabled:!0}}]});return v});L(()=>o.txId,async()=>{if(t.value?.block)return;const v=t.value?.bundledIn?.id||o.txId;!v||q.transactions.getStatus(v).then(f=>S.value=f.status).catch(()=>S.value="Not Found")},{immediate:!0});const G=F(le.breakpoints,"verticalContent"),R=I(0);return L(t,(v,f)=>{if(!!f){if(f?.bundledIn?.id===o.txId)return R.value=-1;R.value=1}}),(v,f)=>(n(),k(_e,{vector:R.value,axis:"x"},{default:m(()=>[e(t)?(n(),k(ie,{key:u.txId},X({left:m(()=>[s("div",Ce,[s("div",Te,[s("div",{class:"box-padding flex-column",style:Z([e(A).length&&"padding-bottom: 0"])},[h(z,{tx:e(t),options:{half:!0}},null,8,["tx"]),e(t).recipient?(n(),k(V,{key:0,wallet:e(g)},null,8,["wallet"])):i("",!0),e(t).recipient?(n(),r("div",Le)):i("",!0),e(t).recipient?(n(),r("div",De)):i("",!0),h(V,{wallet:e(w)},null,8,["wallet"]),s("div",null,[Re,s("div",$e,[s("div",null,[e(D)?(n(),r("div",je,[s("a",{href:e(T).gatewayURL+e(t).id,target:"_blank"},p(e(T).gatewayURLObject?.hostname),9,ze)])):i("",!0),e(t).data?.type==="application/x.arweave-manifest+json"?(n(),r("div",Be,[s("a",{href:e(T).gatewayURL+"tx/"+e(t).id+"/data.json",target:"_blank"},"Manifest",8,Ne)])):i("",!0)]),s("div",Pe,[h(j,{address:e(t).id},{default:m(()=>[Oe]),_:1},8,["address"])])])]),e(t).bundledIn?.id?(n(),r("div",Fe,[He,s("div",Ue,[e(c)?(n(),k(z,{key:0,tx:e(c),options:{space:!0}},null,8,["tx"])):i("",!0),s("div",Ve,[h(j,{address:e(t).bundledIn?.id},{default:m(()=>[We]),_:1},8,["address"])])])])):i("",!0),e(E)?(n(),r("div",qe,[Ee,S.value?(n(),r("div",Je,"Status: "+p(S.value),1)):i("",!0)])):(n(),r("div",Ge,[Me,s("div",null,[b(" Height: "+p(e(t).block.height)+" ",1),e(C)?.height?(n(),r("span",Qe,"/ "+p(e(C).height)+" ("+p(e(P))+" confirmation"+p(e(P)>1?"s":"")+")",1)):i("",!0)]),s("div",null,p(e(J)),1),Ye,s("div",Ke,[h(j,{address:e(t).block.id},{default:m(()=>[Xe]),_:1},8,["address"])])])),s("div",null,[Ze,s("div",null,"Size: "+p(e(de)(e(t).data.size)),1),s("div",null,[et,h(ce,{ar:e(t).fee.ar},null,8,["ar"])])]),e(A).length?(n(),r("div",tt,st)):i("",!0)],4),e(A).length?(n(),r("div",nt,[h(ue,{schema:e(A),disabled:""},null,8,["schema"])])):i("",!0)])])]),_:2},[e(t)&&e(D)?{name:"right",fn:m(()=>[h(we,{tx:e(t),class:W({inline:!e(G)})},null,8,["tx","class"])])}:void 0]),1024)):(n(),r("div",Ie,[h(he,{options:{icon:"loader"},class:"box"},{default:m(()=>[e(_).error?(n(),r("h2",Se,p(e(_).error),1)):(n(),r("h2",Ae,"Loading"))]),_:1})]))]),_:1},8,["vector"]))}});var ut=N(ot,[["__scopeId","data-v-06c42598"]]);export{ut as default};
//# sourceMappingURL=Tx.daece648.js.map
