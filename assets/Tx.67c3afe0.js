import{d as y,e as f,o as n,x as j,s as k,a,P as z,u as t,w,c as r,r as P,z as C,C as B,q as _,V as h,D as v,a3 as H,t as b,af as O,a2 as S,F,X as U,Y as W}from"./vendor.e870763b.js";import{_ as I,a as q,A as $,u as J,b as N,c as E,B as G,I as M,F as X,g as Y,d as R,e as T,f as A,n as V,h as K,i as Q}from"./index.2d9f4202.js";const Z={class:"frame-scroller"},ee=["src"],te={props:["src"],emits:["load"],setup(l,{emit:o}){const e=y(null),d=y(null),i=y(null),c=s=>{console.log(s),d.value=s.width/s.height},u=()=>{i.value=e.value.naturalWidth/e.value.naturalHeight,o("load")},p=f(()=>d.value&&i.value&&d.value<i.value),m=f(()=>d.value&&i.value&&d.value>=i.value);return(s,x)=>(n(),j(q,{observe:"resize",onResize:c,class:z(["img",{x:t(p),y:t(m)}])},{default:k(()=>[a("div",Z,[a("img",{ref_key:"imgRef",ref:e,src:l.src,onLoad:u},null,40,ee)])]),_:1},8,["class"]))}};var ae=I(te,[["__scopeId","data-v-62b2c2eb"]]);const se={class:"smart-weave"},oe={props:["tx"],setup(l){const o=l;return w(()=>o.tx,e=>{console.log(e),!!e},{immediate:!0}),(e,d)=>(n(),r("div",se," SmartWeave Contract "))}};const ne={key:"iframe",class:"selector iframe-container box"},re=["src"],le={key:"img",class:"selector img-container box"},de={key:"smartweave",class:"selector"},ie={key:"json",class:"selector data-container box"},ce={class:"raw"},ue={props:["tx"],setup(l){const o=l,e=P({handler:null,loaded:!1,payload:null}),d=f(()=>$.gatewayURL+o.tx.id);return w(()=>o.tx,async()=>{var i,c,u,p,m,s;if(!!o.tx&&(e.handler=null,e.loaded=!1,((i=o.tx.data)==null?void 0:i.size)!=="0")){if(J(o.tx.tags)["Bundle-Version"])return;if(((c=o.tx.data)==null?void 0:c.type)==="application/x.arweave-manifest+json"||((u=o.tx.data)==null?void 0:u.type)==="text/html"||((p=o.tx.data)==null?void 0:p.type)==="application/pdf")e.handler="iframe";else if(((s=(m=o.tx.data)==null?void 0:m.type)==null?void 0:s.split("/")[0])==="image")e.handler="img";else{e.handler="raw";try{if(e.payload=await N.transactions.getData(o.tx.id,{decode:!0,string:!0}),e.payload[0]==="{")try{e.payload=JSON.stringify(JSON.parse(e.payload),null,2),e.handler="json"}catch{}}catch{}}}},{immediate:!0}),(i,c)=>t(e).handler==="iframe"?C((n(),r("div",ne,[a("iframe",{class:"iframe",src:t(d),onLoad:c[0]||(c[0]=u=>t(e).loaded=!0)},null,40,re)],512)),[[B,t(e).loaded]]):t(e).handler==="img"?C((n(),r("div",le,[_(ae,{src:t(d),onLoad:c[1]||(c[1]=u=>t(e).loaded=!0)},null,8,["src"])],512)),[[B,t(e).loaded]]):t(e).handler==="smartweave"?(n(),r("div",de,[_(oe,{tx:l.tx},null,8,["tx"])])):t(e).handler==="json"||t(e).handler==="raw"?(n(),r("div",ie,[a("pre",ce,h(t(e).payload),1)])):v("",!0)}};var _e=I(ue,[["__scopeId","data-v-34ca5bc8"]]);const g=l=>(U("data-v-108f08a9"),l=l(),W(),l),he={class:"meta flex-column"},ve={class:"card"},pe={class:"row flex-row"},me={class:"item",style:{"font-size":"1.5em"}},fe={class:"row flex-row"},ge={class:"item"},xe={class:"row flex-row"},ye={class:"item"},ke=g(()=>a("h3",null,"Properties",-1)),we={class:"card flex-column"},be=g(()=>a("h3",null,"ID",-1)),Se={class:"ellipsis"},Ie={key:0},$e=["href"],Le={key:1},De=["href"],je={key:0},ze=g(()=>a("h3",null,"Pending",-1)),Ce={key:0},Be={key:1},Fe=g(()=>a("h3",null,"Block",-1)),Ne={class:"ellipsis"},Re=g(()=>a("h3",null,"Data",-1)),Te=S(" Fee "),Ae=g(()=>a("h3",null,"Tags",-1)),Ve={style:{background:"var(--background2)","border-radius":"var(--border-radius)"}},Pe={key:1},He=H({props:{txId:null},setup(l){const o=l,e=E(b(o,"txId")),d=f(()=>{var s;return((s=e.value.data)==null?void 0:s.size)!=0}),i=f(()=>!e.value.block),c=f(()=>{if(!e.value.block)return"";const s=new Date(e.value.block.timestamp*1e3);return s.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})+" "+s.toLocaleTimeString()}),u=y(null);b(G,"currentHeight");const p=f(()=>{if(!e.value.tags)return;const s=[];for(const x of e.value.tags)s.push({items:[{name:"",value:x.name,attrs:{disabled:!0}},{name:"",value:x.value,attrs:{disabled:!0}}]});return s});w(()=>o.txId,async()=>{Y(),N.transactions.getStatus(o.txId).then(s=>u.value=s.status).catch(()=>u.value="Not Found")},{immediate:!0});const m=b(M.breakpoints,"verticalContent");return(s,x)=>t(e)?(n(),j(X,{key:0},O({left:k(()=>{var L,D;return[a("div",he,[a("div",ve,[a("div",pe,[a("div",me,[_(R,{ar:t(e).quantity.ar},null,8,["ar"])])]),a("div",fe,[a("div",ge,[_(T,{address:t(e).owner.address},null,8,["address"]),_(A,{class:"secondary-text",address:t(e).owner.address},null,8,["address"])])]),a("div",xe,[a("div",ye,[_(T,{address:t(e).recipient},null,8,["address"]),_(A,{class:"secondary-text",address:t(e).recipient},null,8,["address"])])])]),ke,a("div",we,[a("div",null,[be,a("div",Se,h(t(e).id),1),t(d)?(n(),r("div",Ie,[a("a",{href:t($).gatewayURL+t(e).id,target:"_blank"},"Link",8,$e)])):v("",!0),((L=t(e).data)==null?void 0:L.type)==="application/x.arweave-manifest+json"?(n(),r("div",Le,[a("a",{href:t($).gatewayURL+"tx/"+t(e).id+"/data.json",target:"_blank"},"Manifest",8,De)])):v("",!0)]),t(i)?(n(),r("div",je,[ze,u.value?(n(),r("div",Ce,"Status: "+h(u.value),1)):v("",!0)])):(n(),r("div",Be,[Fe,a("div",Ne,h(t(e).block.id),1),a("span",null,[S(h(t(e).block.height)+" ",1),((D=t(V))==null?void 0:D.height)?(n(),r(F,{key:0},[S("/ "+h(t(V).height),1)],64)):v("",!0)]),a("div",null,h(t(c)),1)])),a("div",null,[Re,a("div",null,"Data size "+h(t(K)(t(e).data.size)),1),a("div",null,[Te,_(R,{ar:t(e).fee.ar},null,8,["ar"])])])]),t(p).length?(n(),r(F,{key:0},[Ae,a("div",Ve,[_(Q,{schema:t(p),disabled:""},null,8,["schema"])])],64)):v("",!0),t(m)?(n(),r("br",Pe)):v("",!0)])]}),_:2},[t(d)?{name:"right",fn:k(()=>[_(_e,{tx:t(e),class:z({inline:!t(m)})},null,8,["tx","class"])])}:void 0]),1024)):v("",!0)}});var We=I(He,[["__scopeId","data-v-108f08a9"]]);export{We as default};
//# sourceMappingURL=Tx.67c3afe0.js.map
