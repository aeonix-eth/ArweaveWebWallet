import{W as N,d as p,r as j,e as F,c as f,a as t,q as w,x as m,s as i,u as o,T as K,F as W,k as V,ah as L,X as M,Y as G,o as d,a2 as r,V as v,D as P}from"./vendor.e6f93fbf.js";import{_ as O,x as $,L as z,y as _,z as H,C as J,D as A,E as U,G as R,H as X,J as Y,l as Q,K as Z,M as ee}from"./index.3e5e1502.js";const g=y=>(M("data-v-778d6862"),y=y(),G(),y),ae={class:"add-wallet flex-column"},se={class:"card"},te=g(()=>t("h2",{style:{display:"flex","justify-content":"space-between"}},[t("span",null,"Passphrase"),t("span",null,"Key file")],-1)),le={class:"flex-column"},ne=g(()=>t("div",null,null,-1)),oe=r("Create new wallet"),de=r("Import passphrase"),ie={style:{flex:"1 1 auto",display:"flex","flex-direction":"column","align-items":"center","justify-content":"space-evenly","margin-bottom":"var(--spacing)"}},re={class:"actions-container flex-row"},ce={class:"card"},ue=g(()=>t("h2",null,"Hardware",-1)),pe={class:"card"},me=g(()=>t("h2",null,"Address Only",-1)),ve={setup(y){const c=N(),n=p(""),k=p(""),a=j({}),x=F(()=>n.value.trim().split(/\s+/g).length>=12),h=p(!1),b=p(!1),u=p(null),B=async()=>{h.value=!0,n.value=await J();const l=A(n.value);setTimeout(async()=>u.value=await l,1e4)},E=()=>{c.push({name:"EditWallet",query:{wallet:u.value}})},C=async()=>{b.value=!0;const l=A(n.value);a.enabled=!0,a.icon="loader",a.message="Importing",a.actions=[],c.push({name:"EditWallet",query:{wallet:await l}})},S=async()=>{if(await U(n.value))return C();a.enabled=!0,a.icon="",a.message="This passphrase is not valid, do you want to import it anyway?",a.actions=[{name:"Back",action:()=>a.enabled=!1},{name:"Import Passphrase",action:()=>C()}]},q=async l=>{if(!l)return;const s=await R(JSON.parse(await l[0].text()));c.push({name:"EditWallet",query:{wallet:s}})},T=async l=>{const s=await Z(l);c.push({name:"EditWallet",query:{wallet:s}})},D=[ee],I={icon:X,run:async()=>{const l=await Y(k.value);c.push({name:"EditWallet",query:{wallet:l}})}};return(l,s)=>(d(),f("div",ae,[t("div",se,[te,t("div",le,[w($,{modelValue:n.value,"onUpdate:modelValue":s[0]||(s[0]=e=>n.value=e),onFiles:q,disabled:h.value,placeholder:"Import passphrase or key file"},null,8,["modelValue","disabled"]),ne,!h.value&&!n.value.length?(d(),m(_,{key:0,onClick:s[1]||(s[1]=e=>B()),disabled:n.value.length&&!o(x),icon:o(z)},{default:i(()=>[oe]),_:1},8,["disabled","icon"])):h.value?(d(),m(_,{key:1,disabled:u.value==null,onClick:E,icon:u.value==null?"loader":""},{default:i(()=>[r(v(u.value==null?"Generating, write down the passphrase":"Passphrase saved? Click here to proceed"),1)]),_:1},8,["disabled","icon"])):(d(),m(_,{key:2,disabled:!o(x)||b.value,onClick:S},{default:i(()=>[de]),_:1},8,["disabled"]))]),w(K,{name:"fade-fast",mode:"in-out"},{default:i(()=>[o(a).enabled?(d(),f("div",{key:o(a).message,class:"overlay flex-column"},[t("div",ie,[o(a).icon?(d(),m(Q,{key:0,icon:o(a).icon,style:{"font-size":"2em"}},null,8,["icon"])):P("",!0),r(" "+v(o(a).message),1)]),t("div",re,[(d(!0),f(W,null,V(o(a).actions,e=>(d(),m(_,{key:e.name,onClick:e.action},{default:i(()=>[r(v(e.name),1)]),_:2},1032,["onClick"]))),128))])])):P("",!0)]),_:1})]),t("div",ce,[ue,(d(),f(W,null,V(D,e=>w(_,{key:e.name,disabled:!e.isSupported,onClick:_e=>T(e),icon:e.icon},{default:i(()=>[r(v(e.name)+" "+v(e.isSupported?"":" not supported for this browser"),1)]),_:2},1032,["disabled","onClick","icon"])),64))]),t("div",pe,[me,w(H,{modelValue:k.value,"onUpdate:modelValue":s[2]||(s[2]=e=>k.value=e),actions:[I],onKeydown:s[3]||(s[3]=L(e=>I.run(),["enter"]))},null,8,["modelValue","actions"])])]))}};var fe=O(ve,[["__scopeId","data-v-778d6862"]]);export{fe as default};
//# sourceMappingURL=AddWallet.3c6250e8.js.map
