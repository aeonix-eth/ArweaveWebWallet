var pe=Object.defineProperty,ye=Object.defineProperties;var ge=Object.getOwnPropertyDescriptors;var G=Object.getOwnPropertySymbols;var xe=Object.prototype.hasOwnProperty,he=Object.prototype.propertyIsEnumerable;var Q=(e,t,s)=>t in e?pe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Y=(e,t)=>{for(var s in t||(t={}))xe.call(t,s)&&Q(e,s,t[s]);if(G)for(var s of G(t))he.call(t,s)&&Q(e,s,t[s]);return e},J=(e,t)=>ye(e,ge(t));import{W as z,X as we,e as f,d as S,a8 as ke,ak as $e,w as P,o as a,c as l,q as v,s as b,D as p,$ as Z,aa as j,n as A,u as d,P as W,a1 as D,a2 as F,a as i,F as k,k as B,i as Ie,x as V,V as C,z as be,C as Ve,T as Ce,a5 as M,t as Se}from"./vendor.864071fb.js";import{_ as $,j as ee,k as H,e as te,W as E,l as L,m as Te,I as ae,h as ze,o as Be,T as Ee,p as se,q as ne,r as le,s as oe,t as Pe,v as ie,w as ce,x as de,y as re}from"./index.1ff49479.js";import{I as ue}from"./y.dc90e8e0.js";const Me={class:"margin fade-list-item",key:"margin1"},je={class:"margin fade-list-item",key:"margin2"},We=z({props:{modelValue:null,options:null},emits:["update:modelValue"],setup(e,{emit:t}){const s=e,n=we("transitionState",null),c=f({get(){return s.modelValue},set(r){t("update:modelValue",r)}}),o=S(null),u=f(()=>{var r;return((r=o.value)==null?void 0:r.children)?Array(...o.value.children).filter(x=>!x.classList.contains("margin")):[]}),_=f(()=>{var r;return{"--position":((r=s.options)==null?void 0:r.inline)||"start"}}),g=async r=>{var h,w,T;if(c.value==null)return;s.options.ignoreTransition||await ee(()=>!n.running);const x=Math.max(c.value||0,0);(T=u.value[x])==null||T.scrollIntoView({behavior:r?"instant":"smooth",block:((h=s.options)==null?void 0:h.block)||"start",inline:((w=s.options)==null?void 0:w.inline)||"start"})};return ke(async()=>{await $e(),await ee(()=>u.value.length),setTimeout(()=>g(s.options.immediate)),P(c,()=>g())}),(r,x)=>(a(),l("div",{ref_key:"root",ref:o,class:"carousel flex-row no-scrollbar",style:A(d(_))},[v(j,{name:"fade-list"},{default:b(()=>{var h,w;return[((h=e.options)==null?void 0:h.overscroll)?(a(),l("div",Me)):p("",!0),Z(r.$slots,"default",{},void 0,!0),((w=e.options)==null?void 0:w.overscroll)?(a(),l("div",je)):p("",!0)]}),_:3})],4))}});var ve=$(We,[["__scopeId","data-v-51a17f52"]]);const _e=e=>(D("data-v-7b045f16"),e=e(),F(),e),Le={class:"wallet-selector"},Ne=_e(()=>i("div",{class:"exit-background"},null,-1)),Ae=_e(()=>i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[i("path",{d:"M0 0h24v24H0V0z",fill:"none"}),i("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"})],-1)),De=[Ne,Ae],Fe=z({props:{modelValue:String,default:String,exit:Boolean,active:Boolean},emits:["update:modelValue","selectWallet","exit"],setup(e,{emit:t}){const s=e,n=f({get(){return s.modelValue||s.default},set(o){t("update:modelValue",o)}}),c=f(()=>{var o;return(o=H(n.value))==null?void 0:o.key});return(o,u)=>(a(),l("div",Le,[d(n)?(a(),l("button",{key:0,type:"button",onClick:u[0]||(u[0]=_=>o.$emit("selectWallet")),class:W(["tab",{active:e.active}])},[v(te,{address:d(c)},null,8,["address"])],2)):p("",!0),e.exit?(a(),l("button",{key:1,class:"exit",type:"button",onClick:u[1]||(u[1]=_=>o.$emit("exit"))},De)):p("",!0)]))}});var He=$(Fe,[["__scopeId","data-v-7b045f16"]]);const Re={class:"wallet-tabs"},Ue=["onClick"],Oe=z({props:["modelValue"],emits:["update:modelValue"],setup(e,{emit:t}){const s=e,n=f({get(){return s.modelValue},set(o){t("update:modelValue",o)}}),c=f(()=>E.value.findIndex(o=>o.id===n.value));return(o,u)=>(a(),l("div",Re,[v(ve,{modelValue:d(c),"onUpdate:modelValue":u[0]||(u[0]=_=>Ie(c)?c.value=_:null),options:{inline:"center",block:"center",overscroll:!0}},{default:b(()=>[(a(!0),l(k,null,B(d(E),_=>(a(),l("button",{key:_.id,type:"button",onClick:g=>n.value=_.id,class:W(["tab",{active:_.id==d(n)}])},[v(te,{address:_.key},null,8,["address"])],10,Ue))),128))]),_:1},8,["modelValue"])]))}});var qe=$(Oe,[["__scopeId","data-v-77415907"]]);const Ke={class:"icon-background"},Xe={props:["icon","img"],setup(e){return(t,s)=>(a(),l("div",Ke,[e.img?(a(),V(L,{key:0,class:"page-logo",icon:e.img},null,8,["icon"])):(a(),V(L,{key:1,class:"page-logo placeholder",icon:e.icon},null,8,["icon"]))]))}};var me=$(Xe,[["__scopeId","data-v-7bef1ba0"]]);const fe=e=>(D("data-v-9a5c4e1a"),e=e(),F(),e),Ge=fe(()=>i("path",{d:"M24 24H0V0h24v24z",fill:"none",opacity:".87"},null,-1)),Qe=fe(()=>i("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6-1.41-1.41z"},null,-1)),Ye=[Ge,Qe],Je={props:["modelValue"],emits:["update:modelValue"],setup(e,{emit:t}){const s=e,n=f({get(){return s.modelValue},set(c){t("update:modelValue",c)}});return(c,o)=>(a(),l("button",{type:"button",class:"expand",onClick:o[0]||(o[0]=u=>n.value=!d(n))},[(a(),l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:W({expanded:d(n)})},Ye,2))]))}};var Ze=$(Je,[["__scopeId","data-v-9a5c4e1a"]]);const et={class:"actions-list flex-row"},tt=["onClick"],at={props:["actions"],setup(e){return(t,s)=>(a(),l("div",et,[(a(!0),l(k,null,B(e.actions,n=>(a(),l("button",{key:n.name,onClick:n.run,type:"button",class:"action flex-row"},[v(L,{icon:n.icon},null,8,["icon"]),i("div",null,C(n.name),1)],8,tt))),128))]))}};var R=$(at,[["__scopeId","data-v-99d382fa"]]);const st={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#FFF"},nt=i("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),lt=i("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"},null,-1),ot=[nt,lt];function it(e,t){return a(),l("svg",st,ot)}var ct={render:it};const dt={class:"flex-row"},rt={class:"flex-row",style:{flex:"1 1 0"}},ut={class:"content"},vt={class:"title"},_t={class:"secondary-text"},mt={props:["data"],setup(e){return(t,s)=>(a(),l("div",{class:W(["notification",{expanded:e.data.expanded}])},[i("div",dt,[i("div",rt,[v(me,{icon:e.data.icon||d(ct),img:e.data.img},null,8,["icon","img"]),i("div",ut,[e.data.expanded?(a(),V(Te,{key:0,class:"secondary-text",timestamp:e.data.timestamp},null,8,["timestamp"])):p("",!0),i("div",vt,C(e.data.title),1),i("div",_t,[Z(t.$slots,"default",{},void 0,!0)]),e.data.expanded?(a(),V(R,{key:1,actions:e.data.actions},null,8,["actions"])):p("",!0)])]),v(Ze,{modelValue:e.data.expanded,"onUpdate:modelValue":s[0]||(s[0]=n=>e.data.expanded=n)},null,8,["modelValue"])])],2))}};var ft=$(mt,[["__scopeId","data-v-7ece1c50"]]);const pt={class:"tx-card-extension"},yt={key:0,class:"flex-row",style:{"justify-content":"space-between"}},gt={key:0},xt={key:1},ht={key:1,class:"tags secondary-text"},wt={props:["tx"],setup(e){return f(()=>ae.breakpoints.verticalLayout),(t,s)=>(a(),l("div",pt,[e.tx.tags.length||e.tx.data_size?(a(),l("div",yt,[e.tx.tags.length?(a(),l("div",gt,"Tags:")):p("",!0),e.tx.data_size?(a(),l("div",xt,"Data: "+C(d(ze)(e.tx.data_size)),1)):p("",!0)])):p("",!0),e.tx.tags.length?(a(),l("ul",ht,[(a(!0),l(k,null,B(e.tx.tags,n=>(a(),l("li",null,C(n.name+" | "+n.value),1))),256))])):p("",!0)]))}};var kt=$(wt,[["__scopeId","data-v-5ae3361a"]]);const $t={class:"permission-card"},It=M(" Share the public key "),bt=M(" Share the arweave config "),Vt=M(" Sign data "),Ct=M(" Decrypt data "),St=z({props:{messageEntry:null},setup(e){const t=e,s=S(null),n=f(()=>{var g,r,x,h;if(((g=s.value)==null?void 0:g.method)!=="signTransaction")return;const u=(x=(r=s.value)==null?void 0:r.params)==null?void 0:x[0],_=(h=u.tags)==null?void 0:h.map(({name:w,value:T})=>({name:window.atob(w),value:window.atob(T)}));return J(Y({},u),{tags:_})});P(()=>t.messageEntry,async()=>{s.value=await Be(t.messageEntry)},{immediate:!0});const c=[{name:"Accept",icon:ue,run:()=>t.messageEntry.status="accepted"},{name:"Reject",icon:se,run:()=>t.messageEntry.status="rejected"}],o=[{name:"Pending",icon:ne,run:()=>{}}];return(u,_)=>{var g,r,x,h,w;return be((a(),l("div",$t,[((g=s.value)==null?void 0:g.method)==="signTransaction"?(a(),l(k,{key:0},[v(Ee,{tx:d(n)},null,8,["tx"]),v(kt,{tx:d(n)},null,8,["tx"])],64)):((r=s.value)==null?void 0:r.method)==="getPublicKey"?(a(),l(k,{key:1},[It],64)):((x=s.value)==null?void 0:x.method)==="getArweaveConfig"?(a(),l(k,{key:2},[bt],64)):((h=s.value)==null?void 0:h.method)==="sign"?(a(),l(k,{key:3},[Vt],64)):((w=s.value)==null?void 0:w.method)==="decrypt"?(a(),l(k,{key:4},[Ct],64)):p("",!0),v(Ce,{name:"fade",mode:"out-in"},{default:b(()=>[e.messageEntry.status?(a(),V(R,{key:1,actions:o})):(a(),V(R,{key:0,actions:c}))]),_:1})],512)),[[Ve,s.value]])}}});var Tt=$(St,[["__scopeId","data-v-0e1a76fc"]]);const zt={class:"connection-card flex-column no-scrollbar"},Bt=z({props:{walletId:null},setup(e){const t=e,s={signTransaction:"Sign transaction",getPublicKey:"Share public key",sign:"Sign arbitrary data",decrypt:"Decrypt data",getArweaveConfig:"Share arweave gateway configuration"},n=u=>Object.getOwnPropertyNames(Object.getPrototypeOf(u)).filter(_=>u[_]&&_!=="constructor"),c=f(()=>H(t.walletId)),o=f(()=>{var u;return n((u=c.value)==null?void 0:u.messageRunner)});return(u,_)=>(a(),l("div",zt,[(a(!0),l(k,null,B(d(o),g=>(a(),l("div",{key:g},C(s[g]),1))),128))]))}}),Et={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#fff"},Pt=i("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),Mt=i("path",{d:"M19 19H5V5h7V3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"},null,-1),jt=[Pt,Mt];function Wt(e,t){return a(),l("svg",Et,jt)}var Lt={render:Wt};const Nt=e=>(D("data-v-3b4f7082"),e=e(),F(),e),At={class:"connection-card flex-column no-scrollbar"},Dt={class:"flex-row"},Ft=["disabled"],Ht={style:{"min-width":"0"}},Rt={class:"ellipsis"},Ut={class:"secondary-text ellipsis"},Ot={class:"flex-column",style:{flex:"1 1 0"}},qt={class:"container"},Kt={class:"container-scroll",key:"0"},Xt={key:0},Gt={class:"status fade-list-item",key:"1"},Qt={key:1},Yt=Nt(()=>i("div",{class:"status fade-list-item",key:"1"},"WIP",-1)),Jt=z({props:{state:null},setup(e){var O;const t=e,s=(O=E.value[0])==null?void 0:O.id;f(()=>E.value.map(m=>m.key));const n=S(t.state.walletId||s);f(()=>H(s));const c=[{name:"Requests",color:"var(--orange)"},{name:"Permissions",color:"var(--green)"}],o=S(n.value?c[0].name:null);P(()=>t.state.walletId,m=>{!m||(r.value=!1,n.value=m,o.value=c[0].name)});const u=()=>t.state.walletId=!1,_=()=>{r.value=!1,t.state.walletId=n.value+""},g=()=>{!t.state.walletId||(n.value!==t.state.walletId&&x.value++,r.value=!1,n.value=t.state.walletId)},r=S(!t.state.walletId),x=S(0),h=()=>{var m;if(!r.value){r.value=!0;return}n.value!==t.state.walletId&&x.value++,n.value=t.state.walletId||((m=E.value[0])==null?void 0:m.id),r.value=!1},w=f(()=>{var y;const m=t.state.walletId?`Switch to ${n.value}`:`Connect to ${((y=t.state.appInfo)==null?void 0:y.name)||t.state.origin} from the account ${n.value}`;return{title:t.state.walletId?"Switch":"Connect",timestamp:Date.now(),actions:[{name:"Connect",icon:ue,run:_},{name:t.state.walletId?"Cancel":"Switch",icon:se,run:t.state.walletId?g:h}],expanded:!0,content:m}}),T=f(()=>{var m;return n.value!==t.state.walletId?[]:(m=t.state.messageQueue)==null?void 0:m.filter(y=>!y.fulfilled)});Se(ae.breakpoints,"verticalLayout");const N=S(null),U=(m,y)=>N.value=m-y;return P(()=>c.findIndex(m=>m.name===o.value),U),P(()=>E.value.findIndex(m=>m.id===n.value),U),(m,y)=>{var q,K;return a(),l("div",At,[i("div",Dt,[i("button",{type:"button",class:"info flex-row",onClick:y[0]||(y[0]=(...I)=>d(le)&&d(le)(...I)),disabled:!d(oe)(e.state.origin,e.state.session)},[v(me,{img:(q=e.state.appInfo)==null?void 0:q.logo,icon:d(ne)},null,8,["img","icon"]),i("div",Ht,[i("div",Rt,C(((K=e.state.appInfo)==null?void 0:K.name)||"Connector"),1),i("div",Ut,C(e.state.origin),1)]),d(oe)(e.state.origin,e.state.session)?(a(),V(L,{key:0,icon:d(Lt)},null,8,["icon"])):p("",!0)],8,Ft),v(He,{modelValue:e.state.walletId,"onUpdate:modelValue":y[1]||(y[1]=I=>e.state.walletId=I),default:d(s),exit:!0,active:!r.value,onSelectWallet:h,onExit:u},null,8,["modelValue","default","active"])]),i("div",Ot,[v(Pe,{tabs:c,modelValue:o.value,"onUpdate:modelValue":y[2]||(y[2]=I=>o.value=I),disabled:!n.value},null,8,["modelValue","disabled"]),i("div",qt,[v(ie,{vector:N.value,axis:"x"},{default:b(()=>[(a(),l("div",{key:x.value},[v(j,{name:"fade-list"},{default:b(()=>[r.value?(a(),V(qe,{modelValue:n.value,"onUpdate:modelValue":y[3]||(y[3]=I=>n.value=I),class:"fade-list-item",key:"-1"},null,8,["modelValue"])):p("",!0),i("div",Kt,[v(ie,{vector:N.value,axis:"x"},{default:b(()=>[(a(),l("div",{key:(n.value||"")+o.value,class:"content"},[o.value==="Requests"?(a(),l("div",Xt,[v(j,{name:"fade-list"},{default:b(()=>{var I;return[i("div",{class:"fade-list-item",key:"0",style:A({padding:0,border:0,outline:"0.5px solid var(--border)"})},null,4),((I=d(T))==null?void 0:I.length)===0&&e.state.walletId&&e.state.walletId===n.value?(a(),l("div",Gt,"Connected")):p("",!0),n.value!==e.state.walletId?(a(),V(ft,{data:d(w),class:"fade-list-item",key:"2"},{default:b(()=>[M(C(d(w).content),1)]),_:1},8,["data"])):p("",!0),(a(!0),l(k,null,B(d(T),X=>(a(),V(Tt,{key:X.uuid,messageEntry:X,style:{padding:"var(--spacing)"},class:"flex-column fade-list-item"},null,8,["messageEntry"]))),128))]}),_:1})])):o.value==="Permissions"?(a(),l("div",Qt,[v(j,{name:"fade-list"},{default:b(()=>[i("div",{class:"fade-list-item",key:"0",style:A({padding:0,border:0,outline:"0.5px solid var(--border)"})},null,4),Yt,v(Bt,{walletId:n.value,class:"fade-list-item",key:"2"},null,8,["walletId"])]),_:1})])):p("",!0)]))]),_:1},8,["vector"])])]),_:1})]))]),_:1},8,["vector"])])])])}}});var Zt=$(Jt,[["__scopeId","data-v-3b4f7082"]]);const ea={class:"connect flex-column"},ta={class:"bottom-info secondary-text",style:{opacity:"0.0","pointer-events":"none"}},aa=z({setup(e){const t=S(ce.value.findIndex(s=>s.origin===de.origin&&s.session===de.session));return(s,n)=>(a(),l("div",ea,[v(ve,{modelValue:t.value,"onUpdate:modelValue":n[0]||(n[0]=c=>t.value=c),options:{inline:"start",overscroll:!0,ignoreTransition:!0},class:"connectors"},{default:b(()=>[(a(!0),l(k,null,B(d(ce),c=>(a(),l("div",{key:c.session,class:"connection-card-container fade-list-item"},[v(Zt,{state:c,class:"box"},null,8,["state"])]))),128))]),_:1},8,["modelValue"]),i("div",ta,[i("div",null,"All Channels "+C(Object.keys(d(re)).length),1),(a(!0),l(k,null,B(d(re),(c,o)=>(a(),l("div",{key:o},C(c),1))),128))])]))}});var ia=$(aa,[["__scopeId","data-v-4a48d586"]]);export{ia as default};
//# sourceMappingURL=Connect.7790a9a0.js.map
