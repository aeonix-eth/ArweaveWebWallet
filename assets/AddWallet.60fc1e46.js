import{_ as O,d as j,r as o,c as F,o as s,g as u,b as a,q as m,u as p,aD as G,aE as L,a as d,w as i,aF as z,B as h,h as w,t as b,x as k,Z as A,$ as D,aG as H,aH as K,R,S as U,ac as J,aI as X,aJ as B,aK as x,aL as Y,ai as Z,aM as E,X as Q,aN as ee,D as ae,ag as te,C as se,aO as le,aP as ne}from"./index.84c38c32.js";import{O as oe}from"./OverlayPrompt.a6e8b37e.js";const v=f=>(R("data-v-31f974db"),f=f(),U(),f),de={class:"add-wallet flex-column"},ie={class:"card"},ce=v(()=>a("h2",{style:{display:"flex","justify-content":"space-between"}},[a("span",null,"Passphrase"),a("span",null,"Key file")],-1)),re={class:"flex-column"},ue=v(()=>a("div",null,null,-1)),me=w("Create new wallet"),pe=w("Import passphrase"),he={key:0,style:{"text-align":"center"}},ve=v(()=>a("p",null,"This passphrase was not generated by arweave.app",-1)),_e=v(()=>a("p",null,"Make sure that it was entered correctly, without typing errors or extra characters. You can still import the wallet and use it normally",-1)),we=[ve,_e],fe={class:"flex-row",style:{"align-items":"center"}},ge={class:"flex-column"},ye={class:"flex-row"},be={class:"flex-row"},ke={key:0,class:"popup"},xe={class:"card flex-column",style:{"min-width":"300px"}},Ce={class:"flex-row",style:{"justify-content":"space-between","align-items":"center"}},Ie=v(()=>a("h2",null,"Settings",-1)),We={class:"card"},Se=v(()=>a("h2",null,"Address Only",-1)),Ve=j({setup(f){const g=J(),l=o(""),C=o(""),_=o(void 0),W=F(()=>l.value.trim().split(/\s+/g).length>=12),y=o(!1),S=o(!1),c=o(null),T=async()=>{y.value=!0,l.value=await X();const n=B(l.value);setTimeout(async()=>c.value=await n,1e4),x.account("Create")},$=()=>{!c.value||g.push({name:"EditWallet",query:{wallet:c.value.id}})},V=async()=>{S.value=!0;const n=B(l.value);_.value={icon:"loader",message:"importing"},g.push({name:"EditWallet",query:{wallet:(await n).id}}),x.account("Import")},q=async()=>{if(await Y(l.value))return V();_.value={messageType:"invalid",actions:[{name:"Back",run:()=>_.value=void 0},{name:"Import",run:()=>V()}]}},M=async n=>{try{const t=await E(void 0,n);g.push({name:"EditWallet",query:{wallet:t.id}}),x.account("Import "+n.metadata.name)}catch(t){console.error(t),ne.error(t.message||t)}},N={icon:Z,run:async()=>{const n=await E(C.value);g.push({name:"EditWallet",query:{wallet:n.id}}),x.account("Watch")}},I=o(-1);return(n,t)=>(s(),u("div",de,[a("div",ie,[ce,a("div",re,[m(L,{modelValue:l.value,"onUpdate:modelValue":t[0]||(t[0]=e=>l.value=e),onFiles:t[1]||(t[1]=e=>p(G)(e,"keyfile")),disabled:y.value,placeholder:"Import passphrase or key file"},null,8,["modelValue","disabled"]),ue,!y.value&&!l.value.length?(s(),d(h,{key:0,onClick:T,disabled:l.value.length&&!p(W),icon:p(z),class:"main",glow:!0,color:"#81a1c1"},{default:i(()=>[me]),_:1},8,["disabled","icon"])):y.value?(s(),d(h,{key:1,disabled:c.value==null,onClick:$,icon:c.value==null?"loader":"",class:"main",glow:!0,color:"#81a1c1"},{default:i(()=>[w(b(c.value==null?"Generating, write down the passphrase":"Passphrase saved? Click here to proceed"),1)]),_:1},8,["disabled","icon"])):(s(),d(h,{key:2,disabled:!p(W)||S.value,onClick:q,class:"main",glow:!0,color:"#81a1c1"},{default:i(()=>[pe]),_:1},8,["disabled"]))]),m(oe,{options:_.value},{default:i(()=>[_.value.messageType==="invalid"?(s(),u("div",he,we)):k("",!0)]),_:1},8,["options"])]),(s(!0),u(A,null,D(p(H),(e,P)=>(s(),u("div",{class:"card",key:e.metadata.name},[a("h2",fe,[m(Q,{icon:e.metadata.icon},null,8,["icon"]),a("span",null,b(e.metadata.name)+" Hardware Wallet (awaiting release)",1)]),a("div",ge,[a("div",ye,[m(h,{disabled:e.metadata.disabled,onClick:r=>M(e),icon:e.metadata.icon,class:"main",glow:!0,color:"#81a1c1"},{default:i(()=>[w(b(e.metadata.disabled?`${e.metadata.name} not supported for this browser`:`Connect with ${e.metadata.name}`),1)]),_:2},1032,["disabled","onClick","icon"]),e.metadata.componentSettings?(s(),d(h,{key:0,icon:p(ee),class:"secondary",onClick:r=>I.value=P},null,8,["icon","onClick"])):k("",!0)]),a("div",be,[(s(!0),u(A,null,D(e.metadata.actions,r=>(s(),d(h,ae({key:r.name},r),{default:i(()=>[w(b(r.name),1)]),_:2},1040))),128))]),e.metadata.componentSettings?(s(),d(le,{key:0,background:!0},{default:i(()=>[I.value===P?(s(),u("div",ke,[a("div",xe,[a("div",Ce,[Ie,m(te,{onExit:t[2]||(t[2]=r=>I.value=-1)})]),(s(),d(se(e.metadata.componentSettings)))])])):k("",!0)]),_:2},1024)):k("",!0)])]))),128)),a("div",We,[Se,m(K,{modelValue:C.value,"onUpdate:modelValue":t[3]||(t[3]=e=>C.value=e),actions:[N]},null,8,["modelValue","actions"])])]))}});var De=O(Ve,[["__scopeId","data-v-31f974db"]]);export{De as default};
//# sourceMappingURL=AddWallet.60fc1e46.js.map
