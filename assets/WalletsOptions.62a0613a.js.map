{"version":3,"file":"WalletsOptions.62a0613a.js","sources":["../../src/assets/icons/lock.svg?component","../../src/assets/icons/unlock.svg?component","../../src/components/composed/WalletOptions.vue","../../src/components/composed/WalletsOptions.vue"],"sourcesContent":["import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 48 48\"\n}\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"path\", { d: \"M11 44q-1.25 0-2.125-.875T8 41V19.3q0-1.25.875-2.125T11 16.3h3.5v-4.8q0-3.95 2.775-6.725Q20.05 2 24 2q3.95 0 6.725 2.775Q33.5 7.55 33.5 11.5v4.8H37q1.25 0 2.125.875T40 19.3V41q0 1.25-.875 2.125T37 44Zm6.5-27.7h13v-4.8q0-2.7-1.9-4.6Q26.7 5 24 5q-2.7 0-4.6 1.9-1.9 1.9-1.9 4.6ZM11 41h26V19.3H11V41Zm13-7q1.6 0 2.725-1.1t1.125-2.65q0-1.5-1.125-2.725T24 26.3q-1.6 0-2.725 1.225T20.15 30.25q0 1.55 1.125 2.65Q22.4 34 24 34Zm0-3.85Z\" }, null, -1)\nconst _hoisted_3 = [\n  _hoisted_2\n]\n\nexport function render(_ctx, _cache) {\n  return (_openBlock(), _createElementBlock(\"svg\", _hoisted_1, _hoisted_3))\n}\nexport default { render: render }","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 48 48\"\n}\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"path\", { d: \"m40 35.65-3-3V19.3H23.65l-3-3h9.85v-4.75q0-2.75-1.975-4.65Q26.55 5 23.8 5 21 5 19.075 6.925 17.15 8.85 17.15 11.55v1.25l-2.75-2.75q.45-3.5 3.125-5.775Q20.2 2 23.8 2q4.05 0 6.875 2.775T33.5 11.55v4.75H37q1.25 0 2.125.875T40 19.3ZM11 44q-1.25 0-2.125-.875T8 41V19.3q0-1.15.8-2.025t1.95-.975L.35 5.9q-.45-.45-.425-1.05.025-.6.475-1.05.45-.45 1.05-.45.6 0 1.05.45l41.95 41.95q.45.45.425 1.05-.025.6-.475 1.05-.45.45-1.05.45-.6 0-1.05-.45l-4.1-4.1q-.4.15-.65.2-.25.05-.55.05Zm24.5-3-8.75-8.7q-.55.55-1.2.8-.65.25-1.45.25-1.6 0-2.675-1.05-1.075-1.05-1.075-2.65 0-.8.275-1.475t.825-1.225l-7.7-7.65H11V41ZM24.65 30.15Zm5.65-4.2Z\" }, null, -1)\nconst _hoisted_3 = [\n  _hoisted_2\n]\n\nexport function render(_ctx, _cache) {\n  return (_openBlock(), _createElementBlock(\"svg\", _hoisted_1, _hoisted_3))\n}\nexport default { render: render }","<template>\n\t<div class=\"wallet-options flex-column\">\n\t\t<div class=\"left\">\n\t\t\t<AddressIcon class=\"profile\" :address=\"wallet.key\" />\n\t\t\t<div class=\"profile-info\">\n\t\t\t\t<WalletInfo :wallet=\"wallet\" />\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"content flex-column\">\n\t\t\t<div v-if=\"wallet.hasPrivateKey\" class=\"flex-row\">\n\t\t\t\t<Select v-model=\"wallet.settings.securityLevel\" :options=\"securityOptions\" />\n\t\t\t</div>\n\t\t\t<div class=\"flex-row\">\n\t\t\t\t<Button v-if=\"wallet.download && !wallet.metadata.methods.download?.unavailable\" :icon=\"IconDownload\" @click=\"() => wallet.download()\">Download</Button>\n\t\t\t\t<Button :icon=\"IconX\" @click=\"deleteWallet(wallet)\">Delete</Button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n\n\n<script setup lang=\"ts\">\nimport AddressIcon from '@/components/atomic/AddressIcon.vue'\nimport WalletInfo from '@/components/composed/WalletInfo.vue'\nimport Button from '@/components/atomic/Button.vue'\nimport Select from '@/components/form/Select.vue'\nimport { deleteWallet } from '@/functions/Wallets'\n\nimport IconDownload from '@/assets/icons/download.svg?component'\nimport IconX from '@/assets/icons/x.svg?component'\nimport IconLock from '@/assets/icons/lock.svg?component'\nimport IconUnlock from '@/assets/icons/unlock.svg?component'\n\nconst props = defineProps<{\n\twallet: Wallet\n}>()\n\nconst securityOptions = [\n\t{ value: undefined, text: 'Unencrypted', icon: IconUnlock },\n\t{ value: 'inactivity', text: 'Encrypted - Lock when away', icon: IconLock },\n\t{ value: 'always', text: 'Encrypted - Always locked', icon: IconLock },\n]\n</script>\n\n\n\n<style scoped>\n.wallet-options {\n\tdisplay: flex;\n\tflex-direction: column;\n}\n\n.left {\n\tflex: 0 0 auto;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.content {\n\tflex: 1 1 auto;\n\tmin-width: 0;\n}\n\n.bottom {\n\tborder-radius: var(--border-radius);\n}\n\n.profile {\n\tflex: 0 0 auto;\n\twidth: 92px;\n\theight: 92px;\n\tbackground: var(--background);\n\tborder-radius: var(--border-radius);\n\tpadding: 24px;\n}\n\n.profile-info {\n\tmin-width: 0;\n\tpadding: 0 var(--spacing);\n}\n</style>","<template>\n\t<div>\n\t\t<div class=\"flex-row\" style=\"justify-content: space-between; align-items: center\">\n\t\t\t<h2>Wallet{{ selectedWallets.length > 1 ? 's' : '' }}</h2>\n\t\t\t<TransitionsManager :fast=\"true\">\n\t\t\t\t<Link v-if=\"securityMismatch\" class=\"update-message\" :key=\"'' + hasNoTargetWallets + hasPassword\" @click=\"securityMismatchAction\" style=\"text-align: right;\">\n\t\t\t\t\t<Icon :icon=\"IconWarning\" style=\"vertical-align: text-top\" />\n\t\t\t\t\t<span v-if=\"hasNoTargetWallets\"> Select wallets to encrypt or click here to remove password</span>\n\t\t\t\t\t<span v-else-if=\"hasPassword\"> Click here to update encryption</span>\n\t\t\t\t\t<span v-else> Click here to create a new password</span>\n\t\t\t\t</Link>\n\t\t\t</TransitionsManager>\n\t\t</div>\n\t\t<div class=\"flex-column\">\n\t\t\t<template v-for=\"wallet in selectedWallets\" :key=\"wallet.id\">\n\t\t\t\t<WalletOptions :wallet=\"wallet\" />\n\t\t\t\t<Button v-if=\"canConnect\" @click=\"() => { sharedState.walletId = wallet.id; router.push('Connect') }\">Connect</Button>\n\t\t\t\t<div></div>\n\t\t\t</template>\n\t\t</div>\n\t\t<Button v-if=\"!Wallets.length\" style=\"font-size:1.5em; background:var(--background3); width: 100%;\" :to=\"{ name: 'AddWallet' }\" icon=\"+\" />\n\t</div>\n</template>\n\n\n\n<script setup lang=\"ts\">\nimport WalletOptions from '@/components/composed/WalletOptions.vue'\nimport Button from '@/components/atomic/Button.vue'\nimport Icon from '@/components/atomic/Icon.vue'\nimport Link from '@/components/function/Link.vue'\nimport TransitionsManager from '@/components/visual/TransitionsManager.vue'\nimport { notify } from '@/store/NotificationStore'\nimport { Wallets } from '@/functions/Wallets'\nimport { state } from '@/functions/Channels'\nimport { sharedState } from '@/functions/Connect'\nimport { hasPassword, setPassword, hasUpdate, updateEncryption, hasNoTargetWallets } from '@/functions/Password'\nimport { computed, watch } from 'vue'\nimport { onBeforeRouteLeave, useRoute, useRouter } from 'vue-router'\n\nimport IconWarning from '@/assets/icons/shield_warning.svg?component'\n\nconst route = useRoute()\nconst router = useRouter()\n\nconst selectedWallets = computed(() => {\n\tconst editWallet = route.query.wallet\n\tif (!editWallet) { return Wallets.value }\n\tconst editWalletArray = Array.isArray(editWallet) ? editWallet : [editWallet]\n\treturn Wallets.value.filter(wallet => editWalletArray.includes(wallet.id + ''))\n})\nconst canConnect = computed(() => ['popup', 'iframe', 'ws'].includes(state.value.type!) && !sharedState.value?.walletId)\nconst securityMismatch = computed(() => hasUpdate.value || hasNoTargetWallets.value)\nconst securityMismatchAction = computed(() => {\n\tif (hasNoTargetWallets.value) { return () => setPassword('') }\n\tif (hasUpdate.value) { return hasPassword.value ? () => updateEncryption() : () => setPassword('', true) }\n})\n\nlet notificationClose: Function | undefined\nonBeforeRouteLeave(() => {\n\tif (!securityMismatch.value) { return }\n\tconst { promise, close } = notify.confirm({ title: 'Security changes are not applied', body: 'Are you sure you want to leave this page?' })\n\tif (notificationClose) { notificationClose() }\n\tnotificationClose = close\n\twatch(hasUpdate, value => value && close())\n\treturn promise\n})\n</script>\n\n\n\n<style scoped>\n.update-message {\n\tcolor: var(--red);\n}\n</style>"],"names":["_hoisted_1","_hoisted_2","_createElementVNode","_hoisted_3","_openBlock","_createElementBlock","render"],"mappings":"sXAEA,KAAMA,GAAa,CACjB,MAAO,6BACP,QAAS,WACX,EACMC,GAA0BC,EAAoB,OAAQ,CAAE,EAAG,8aAAgb,KAAM,EAAE,EACnfC,GAAa,CACjBF,EACF,EAEO,YAAgB,EAAM,EAAQ,CACnC,MAAQG,GAAY,EAAEC,EAAoB,MAAOL,EAAYG,EAAU,CACzE,CACA,GAAe,GAAA,CAAE,OAAQG,EAAM,ECZ/B,KAAMN,IAAa,CACjB,MAAO,6BACP,QAAS,WACX,EACMC,GAA0BC,EAAoB,OAAQ,CAAE,EAAG,gnBAAknB,KAAM,EAAE,EACrrBC,GAAa,CACjBF,EACF,EAEO,YAAgB,EAAM,EAAQ,CACnC,MAAQG,GAAY,EAAEC,EAAoB,MAAOL,GAAYG,EAAU,CACzE,CACA,GAAe,IAAA,CAAE,OAAQ,EAAM,kPCwB/B,KAAM,GAAkB,CACvB,CAAE,MAAO,OAAW,KAAM,cAAe,KAAM,EAAW,EAC1D,CAAE,MAAO,aAAc,KAAM,6BAA8B,KAAM,CAAS,EAC1E,CAAE,MAAO,SAAU,KAAM,4BAA6B,KAAM,CAAS,CAAA,49BCCtE,KAAM,GAAQ,IACR,EAAS,IAET,EAAkB,EAAS,IAAM,CAChC,KAAA,GAAa,EAAM,MAAM,OAC/B,GAAI,CAAC,EAAc,MAAO,GAAQ,MAClC,KAAM,GAAkB,MAAM,QAAQ,CAAU,EAAI,EAAa,CAAC,CAAU,EACrE,MAAA,GAAQ,MAAM,OAAO,AAAA,GAAU,EAAgB,SAAS,EAAO,GAAK,EAAE,CAAC,CAAA,CAC9E,EACK,EAAa,EAAS,IAAM,CAAC,QAAS,SAAU,IAAI,EAAE,SAAS,EAAM,MAAM,IAAK,GAAK,CAAC,EAAY,OAAO,QAAQ,EACjH,EAAmB,EAAS,IAAM,EAAU,OAAS,EAAmB,KAAK,EAC7E,EAAyB,EAAS,IAAM,CAC7C,GAAI,EAAmB,MAAgB,MAAA,IAAM,EAAY,EAAE,EAC3D,GAAI,EAAU,MAAgB,MAAA,GAAY,MAAQ,IAAM,EAAA,EAAqB,IAAM,EAAY,GAAI,EAAI,CAAE,CACzG,EAEG,GAAA,GACJ,SAAmB,IAAM,CACpB,GAAA,CAAC,EAAiB,MAAS,OACzB,KAAA,CAAE,UAAS,SAAU,EAAO,QAAQ,CAAE,MAAO,mCAAoC,KAAM,2CAA6C,CAAA,EAC1I,MAAI,IAAuC,IACvB,EAAA,EACpB,EAAM,EAAW,AAAA,GAAS,GAAS,EAAO,CAAA,EACnC,CAAA,CACP"}