var pe=Object.defineProperty,ye=Object.defineProperties;var ge=Object.getOwnPropertyDescriptors;var G=Object.getOwnPropertySymbols;var he=Object.prototype.hasOwnProperty,xe=Object.prototype.propertyIsEnumerable;var Q=(e,t,s)=>t in e?pe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Y=(e,t)=>{for(var s in t||(t={}))he.call(t,s)&&Q(e,s,t[s]);if(G)for(var s of G(t))xe.call(t,s)&&Q(e,s,t[s]);return e},J=(e,t)=>ye(e,ge(t));import{W as z,X as we,e as f,d as S,a8 as ke,ak as $e,w as P,o as a,c as l,q as v,s as V,D as p,$ as Z,aa as j,n as A,u as c,P as W,a1 as D,a2 as F,a as i,F as k,k as B,i as Ie,x as C,V as $,z as be,C as Ve,T as Ce,a5 as M,t as Se}from"./vendor.864071fb.js";import{_ as I,j as ee,k as H,e as te,W as E,l as L,m as Te,I as ae,h as ze,o as Be,T as Ee,p as se,q as ne,r as le,s as oe,t as Pe,v as ie,w as ce,x as de,y as re}from"./index.cb7db1c6.js";import{I as ue}from"./y.dc90e8e0.js";const Me={class:"margin fade-list-item",key:"margin1"},je={class:"margin fade-list-item",key:"margin2"},We=z({props:{modelValue:null,options:null},emits:["update:modelValue"],setup(e,{emit:t}){const s=e,n=we("transitionState",null),d=f({get(){return s.modelValue},set(r){t("update:modelValue",r)}}),o=S(null),u=f(()=>{var r;return((r=o.value)==null?void 0:r.children)?Array(...o.value.children).filter(h=>!h.classList.contains("margin")):[]}),_=f(()=>{var r;return{"--position":((r=s.options)==null?void 0:r.inline)||"start"}}),g=async r=>{var x,w,T;if(d.value==null)return;s.options.ignoreTransition||await ee(()=>!n.running);const h=Math.max(d.value||0,0);(T=u.value[h])==null||T.scrollIntoView({behavior:r?"instant":"smooth",block:((x=s.options)==null?void 0:x.block)||"start",inline:((w=s.options)==null?void 0:w.inline)||"start"})};return ke(async()=>{await $e(),await ee(()=>u.value.length),setTimeout(()=>g(s.options.immediate)),P(d,()=>g())}),(r,h)=>(a(),l("div",{ref_key:"root",ref:o,class:"carousel flex-row no-scrollbar",style:A(c(_))},[v(j,{name:"fade-list"},{default:V(()=>{var x,w;return[((x=e.options)==null?void 0:x.overscroll)?(a(),l("div",Me)):p("",!0),Z(r.$slots,"default",{},void 0,!0),((w=e.options)==null?void 0:w.overscroll)?(a(),l("div",je)):p("",!0)]}),_:3})],4))}});var ve=I(We,[["__scopeId","data-v-51a17f52"]]);const _e=e=>(D("data-v-7b045f16"),e=e(),F(),e),Le={class:"wallet-selector"},Ne=_e(()=>i("div",{class:"exit-background"},null,-1)),Ae=_e(()=>i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[i("path",{d:"M0 0h24v24H0V0z",fill:"none"}),i("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"})],-1)),De=[Ne,Ae],Fe=z({props:{modelValue:String,default:String,exit:Boolean,active:Boolean},emits:["update:modelValue","selectWallet","exit"],setup(e,{emit:t}){const s=e,n=f({get(){return s.modelValue||s.default},set(o){t("update:modelValue",o)}}),d=f(()=>{var o;return(o=H(n.value))==null?void 0:o.key});return(o,u)=>(a(),l("div",Le,[c(n)?(a(),l("button",{key:0,type:"button",onClick:u[0]||(u[0]=_=>o.$emit("selectWallet")),class:W(["tab",{active:e.active}])},[v(te,{address:c(d)},null,8,["address"])],2)):p("",!0),e.exit?(a(),l("button",{key:1,class:"exit",type:"button",onClick:u[1]||(u[1]=_=>o.$emit("exit"))},De)):p("",!0)]))}});var He=I(Fe,[["__scopeId","data-v-7b045f16"]]);const Re={class:"wallet-tabs"},Ue=["onClick"],Oe=z({props:["modelValue"],emits:["update:modelValue"],setup(e,{emit:t}){const s=e,n=f({get(){return s.modelValue},set(o){t("update:modelValue",o)}}),d=f(()=>E.value.findIndex(o=>o.id===n.value));return(o,u)=>(a(),l("div",Re,[v(ve,{modelValue:c(d),"onUpdate:modelValue":u[0]||(u[0]=_=>Ie(d)?d.value=_:null),options:{inline:"center",block:"center",overscroll:!0}},{default:V(()=>[(a(!0),l(k,null,B(c(E),_=>(a(),l("button",{key:_.id,type:"button",onClick:g=>n.value=_.id,class:W(["tab",{active:_.id==c(n)}])},[v(te,{address:_.key},null,8,["address"])],10,Ue))),128))]),_:1},8,["modelValue"])]))}});var qe=I(Oe,[["__scopeId","data-v-77415907"]]);const Ke={class:"icon-background"},Xe={props:["icon","img"],setup(e){return(t,s)=>(a(),l("div",Ke,[e.img?(a(),C(L,{key:0,class:"page-logo",icon:e.img},null,8,["icon"])):(a(),C(L,{key:1,class:"page-logo placeholder",icon:e.icon},null,8,["icon"]))]))}};var me=I(Xe,[["__scopeId","data-v-7bef1ba0"]]);const fe=e=>(D("data-v-9a5c4e1a"),e=e(),F(),e),Ge=fe(()=>i("path",{d:"M24 24H0V0h24v24z",fill:"none",opacity:".87"},null,-1)),Qe=fe(()=>i("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6-1.41-1.41z"},null,-1)),Ye=[Ge,Qe],Je={props:["modelValue"],emits:["update:modelValue"],setup(e,{emit:t}){const s=e,n=f({get(){return s.modelValue},set(d){t("update:modelValue",d)}});return(d,o)=>(a(),l("button",{type:"button",class:"expand",onClick:o[0]||(o[0]=u=>n.value=!c(n))},[(a(),l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:W({expanded:c(n)})},Ye,2))]))}};var Ze=I(Je,[["__scopeId","data-v-9a5c4e1a"]]);const et={class:"actions-list flex-row"},tt=["onClick"],at={props:["actions"],setup(e){return(t,s)=>(a(),l("div",et,[(a(!0),l(k,null,B(e.actions,n=>(a(),l("button",{key:n.name,onClick:n.run,type:"button",class:"action flex-row"},[v(L,{icon:n.icon},null,8,["icon"]),i("div",null,$(n.name),1)],8,tt))),128))]))}};var R=I(at,[["__scopeId","data-v-99d382fa"]]);const st={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#FFF"},nt=i("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),lt=i("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"},null,-1),ot=[nt,lt];function it(e,t){return a(),l("svg",st,ot)}var ct={render:it};const dt={class:"flex-row"},rt={class:"flex-row",style:{flex:"1 1 0"}},ut={class:"content"},vt={class:"title"},_t={class:"secondary-text"},mt={props:["data"],setup(e){return(t,s)=>(a(),l("div",{class:W(["notification",{expanded:e.data.expanded}])},[i("div",dt,[i("div",rt,[v(me,{icon:e.data.icon||c(ct),img:e.data.img},null,8,["icon","img"]),i("div",ut,[e.data.expanded?(a(),C(Te,{key:0,class:"secondary-text",timestamp:e.data.timestamp},null,8,["timestamp"])):p("",!0),i("div",vt,$(e.data.title),1),i("div",_t,[Z(t.$slots,"default",{},void 0,!0)]),e.data.expanded?(a(),C(R,{key:1,actions:e.data.actions},null,8,["actions"])):p("",!0)])]),v(Ze,{modelValue:e.data.expanded,"onUpdate:modelValue":s[0]||(s[0]=n=>e.data.expanded=n)},null,8,["modelValue"])])],2))}};var ft=I(mt,[["__scopeId","data-v-7ece1c50"]]);const pt={class:"tx-card-extension"},yt={key:0,class:"flex-row",style:{"justify-content":"space-between"}},gt={key:0},ht={key:1},xt={key:1,class:"tags secondary-text"},wt={props:["tx"],setup(e){return f(()=>ae.breakpoints.verticalLayout),(t,s)=>(a(),l("div",pt,[e.tx.tags.length||e.tx.data_size?(a(),l("div",yt,[e.tx.tags.length?(a(),l("div",gt,"Tags:")):p("",!0),e.tx.data_size?(a(),l("div",ht,"Data: "+$(c(ze)(e.tx.data_size)),1)):p("",!0)])):p("",!0),e.tx.tags.length?(a(),l("ul",xt,[(a(!0),l(k,null,B(e.tx.tags,n=>(a(),l("li",null,$(n.name+" | "+n.value),1))),256))])):p("",!0)]))}};var kt=I(wt,[["__scopeId","data-v-5ae3361a"]]);const $t={class:"permission-card"},It=M(" Share the public key "),bt=M(" Share the arweave config "),Vt=M(" Sign data "),Ct=M(" Decrypt data "),St=z({props:{messageEntry:null},setup(e){const t=e,s=S(null),n=f(()=>{var g,r,h,x;if(((g=s.value)==null?void 0:g.method)!=="signTransaction")return;const u=(h=(r=s.value)==null?void 0:r.params)==null?void 0:h[0],_=(x=u.tags)==null?void 0:x.map(({name:w,value:T})=>({name:window.atob(w),value:window.atob(T)}));return J(Y({},u),{tags:_})});P(()=>t.messageEntry,async()=>{s.value=await Be(t.messageEntry)},{immediate:!0});const d=[{name:"Accept",icon:ue,run:()=>t.messageEntry.status="accepted"},{name:"Reject",icon:se,run:()=>t.messageEntry.status="rejected"}],o=[{name:"Pending",icon:ne,run:()=>{}}];return(u,_)=>{var g,r,h,x,w;return be((a(),l("div",$t,[((g=s.value)==null?void 0:g.method)==="signTransaction"?(a(),l(k,{key:0},[v(Ee,{tx:c(n)},null,8,["tx"]),v(kt,{tx:c(n)},null,8,["tx"])],64)):((r=s.value)==null?void 0:r.method)==="getPublicKey"?(a(),l(k,{key:1},[It],64)):((h=s.value)==null?void 0:h.method)==="getArweaveConfig"?(a(),l(k,{key:2},[bt],64)):((x=s.value)==null?void 0:x.method)==="sign"?(a(),l(k,{key:3},[Vt],64)):((w=s.value)==null?void 0:w.method)==="decrypt"?(a(),l(k,{key:4},[Ct],64)):p("",!0),v(Ce,{name:"fade",mode:"out-in"},{default:V(()=>[e.messageEntry.status?(a(),C(R,{key:1,actions:o})):(a(),C(R,{key:0,actions:d}))]),_:1})],512)),[[Ve,s.value]])}}});var Tt=I(St,[["__scopeId","data-v-0e1a76fc"]]);const zt={class:"connection-card flex-column no-scrollbar"},Bt={key:"connect"},Et=z({props:{walletId:null},setup(e){const t=e,s={connect:"Connect automatically",signTransaction:"Sign transaction",getPublicKey:"Share public key",sign:"Sign arbitrary data",decrypt:"Decrypt data",getArweaveConfig:"Share arweave gateway configuration"},n=u=>Object.getOwnPropertyNames(Object.getPrototypeOf(u)).filter(_=>u[_]&&_!=="constructor"),d=f(()=>H(t.walletId)),o=f(()=>{var u;return n((u=d.value)==null?void 0:u.messageRunner)});return(u,_)=>(a(),l("div",zt,[i("div",Bt,$(c(s).connect),1),(a(!0),l(k,null,B(c(o),g=>(a(),l("div",{key:g},$(c(s)[g]),1))),128))]))}}),Pt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#fff"},Mt=i("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),jt=i("path",{d:"M19 19H5V5h7V3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"},null,-1),Wt=[Mt,jt];function Lt(e,t){return a(),l("svg",Pt,Wt)}var Nt={render:Lt};const At=e=>(D("data-v-2f4c7102"),e=e(),F(),e),Dt={class:"connection-card flex-column no-scrollbar"},Ft={class:"flex-row"},Ht=["disabled"],Rt={style:{"min-width":"0"}},Ut={class:"ellipsis"},Ot={class:"secondary-text ellipsis"},qt={class:"flex-column",style:{flex:"1 1 0"}},Kt={class:"container"},Xt={class:"page-container",key:"0"},Gt={key:0},Qt={class:"status fade-list-item",key:"1"},Yt={key:1},Jt=At(()=>i("div",{class:"status fade-list-item",key:"1"},"WIP",-1)),Zt=z({props:{state:null},setup(e){var O;const t=e,s=(O=E.value[0])==null?void 0:O.id;f(()=>E.value.map(m=>m.key));const n=S(t.state.walletId||s);f(()=>H(s));const d=[{name:"Requests",color:"var(--orange)"},{name:"Permissions",color:"var(--green)"}],o=S(n.value?d[0].name:null);P(()=>t.state.walletId,m=>{!m||(r.value=!1,n.value=m,o.value=d[0].name)});const u=()=>t.state.walletId=!1,_=()=>{r.value=!1,t.state.walletId=n.value+""},g=()=>{!t.state.walletId||(n.value!==t.state.walletId&&h.value++,r.value=!1,n.value=t.state.walletId)},r=S(!t.state.walletId),h=S(0),x=()=>{var m;if(!r.value){r.value=!0;return}n.value!==t.state.walletId&&h.value++,n.value=t.state.walletId||((m=E.value[0])==null?void 0:m.id),r.value=!1},w=f(()=>{var y;const m=t.state.walletId?`Switch to ${n.value}`:`Connect to ${((y=t.state.appInfo)==null?void 0:y.name)||t.state.origin} from the account ${n.value}`;return{title:t.state.walletId?"Switch":"Connect",timestamp:Date.now(),actions:[{name:"Connect",icon:ue,run:_},{name:t.state.walletId?"Cancel":"Switch",icon:se,run:t.state.walletId?g:x}],expanded:!0,content:m}}),T=f(()=>{var m;return n.value!==t.state.walletId?[]:(m=t.state.messageQueue)==null?void 0:m.filter(y=>!y.fulfilled)});Se(ae.breakpoints,"verticalLayout");const N=S(null),U=(m,y)=>N.value=m-y;return P(()=>d.findIndex(m=>m.name===o.value),U),P(()=>E.value.findIndex(m=>m.id===n.value),U),(m,y)=>{var q,K;return a(),l("div",Dt,[i("div",Ft,[i("button",{type:"button",class:"info flex-row",onClick:y[0]||(y[0]=(...b)=>c(le)&&c(le)(...b)),disabled:!c(oe)(e.state.origin,e.state.session)},[v(me,{img:(q=e.state.appInfo)==null?void 0:q.logo,icon:c(ne)},null,8,["img","icon"]),i("div",Rt,[i("div",Ut,$(((K=e.state.appInfo)==null?void 0:K.name)||"Connector"),1),i("div",Ot,$(e.state.origin),1)]),c(oe)(e.state.origin,e.state.session)?(a(),C(L,{key:0,icon:c(Nt)},null,8,["icon"])):p("",!0)],8,Ht),v(He,{modelValue:e.state.walletId,"onUpdate:modelValue":y[1]||(y[1]=b=>e.state.walletId=b),default:c(s),exit:!0,active:!r.value,onSelectWallet:x,onExit:u},null,8,["modelValue","default","active"])]),i("div",qt,[v(Pe,{tabs:d,modelValue:o.value,"onUpdate:modelValue":y[2]||(y[2]=b=>o.value=b),disabled:!n.value},null,8,["modelValue","disabled"]),i("div",Kt,[v(ie,{vector:N.value,axis:"x"},{default:V(()=>[(a(),l("div",{class:"container-scroll",key:h.value},[v(j,{name:"fade-list"},{default:V(()=>[r.value?(a(),C(qe,{modelValue:n.value,"onUpdate:modelValue":y[3]||(y[3]=b=>n.value=b),class:"fade-list-item",key:"-1"},null,8,["modelValue"])):p("",!0),i("div",Xt,[v(ie,{vector:N.value,axis:"x"},{default:V(()=>[(a(),l("div",{key:(n.value||"")+o.value,class:"content"},[o.value==="Requests"?(a(),l("div",Gt,[v(j,{name:"fade-list"},{default:V(()=>{var b;return[i("div",{class:"fade-list-item",key:"0",style:A({padding:0,border:0,outline:"0.5px solid var(--border)"})},null,4),((b=c(T))==null?void 0:b.length)===0&&e.state.walletId&&e.state.walletId===n.value?(a(),l("div",Qt,"Connected")):p("",!0),n.value!==e.state.walletId?(a(),C(ft,{data:c(w),class:"fade-list-item",key:"2"},{default:V(()=>[M($(c(w).content),1)]),_:1},8,["data"])):p("",!0),(a(!0),l(k,null,B(c(T),X=>(a(),C(Tt,{key:X.uuid,messageEntry:X,style:{padding:"var(--spacing)"},class:"flex-column fade-list-item"},null,8,["messageEntry"]))),128))]}),_:1})])):o.value==="Permissions"?(a(),l("div",Yt,[v(j,{name:"fade-list"},{default:V(()=>[i("div",{class:"fade-list-item",key:"0",style:A({padding:0,border:0,outline:"0.5px solid var(--border)"})},null,4),Jt,v(Et,{walletId:n.value,class:"fade-list-item",key:"2"},null,8,["walletId"])]),_:1})])):p("",!0)]))]),_:1},8,["vector"])])]),_:1})]))]),_:1},8,["vector"])])])])}}});var ea=I(Zt,[["__scopeId","data-v-2f4c7102"]]);const ta={class:"connect flex-column"},aa={class:"bottom-info secondary-text",style:{opacity:"0.0","pointer-events":"none"}},sa=z({setup(e){const t=S(ce.value.findIndex(s=>s.origin===de.origin&&s.session===de.session));return(s,n)=>(a(),l("div",ta,[v(ve,{modelValue:t.value,"onUpdate:modelValue":n[0]||(n[0]=d=>t.value=d),options:{inline:"start",overscroll:!0,ignoreTransition:!0},class:"connectors"},{default:V(()=>[(a(!0),l(k,null,B(c(ce),d=>(a(),l("div",{key:d.session,class:"connection-card-container fade-list-item"},[v(ea,{state:d,class:"box"},null,8,["state"])]))),128))]),_:1},8,["modelValue"]),i("div",aa,[i("div",null,"All Channels "+$(Object.keys(c(re)).length),1),(a(!0),l(k,null,B(c(re),(d,o)=>(a(),l("div",{key:o},$(d),1))),128))])]))}});var ca=I(sa,[["__scopeId","data-v-4a48d586"]]);export{ca as default};
//# sourceMappingURL=Connect.d052d13f.js.map
