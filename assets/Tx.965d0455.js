import{Y as z,d as A,e as d,o as n,y as w,x as f,a as s,Q as W,u as e,r as J,w as R,c as o,s as _,X as v,C as Q,D as G,a9 as P,a2 as M,E as l,a7 as x,af as T,k as O,ak as X,p as Y,a3 as K,a4 as Z}from"./vendor.284ce6b0.js";import{_ as B,a as ee,A as C,B as te,u as ae,L as se,b as ne,T as $,c as q,d as F,I as oe,e as L,n as D,h as re,f as ie,g as le,F as de,i as V}from"./index.45279a66.js";import{I as ce}from"./download.8d2831c7.js";import{P as U}from"./ProfilePreview.923e3317.js";import{O as ue}from"./OverlayPrompt.6898a5e1.js";const _e={class:"frame-scroller"},ve=["src"],he=z({props:["src"],emits:["load"],setup(h,{emit:r}){const a=A(null),t=A(null),c=A(null),g=m=>{console.log(m),t.value=m.contentRect.width/m.contentRect.height},i=()=>{c.value=a.value&&a.value.naturalWidth/a.value.naturalHeight,r("load")},u=d(()=>t.value&&c.value&&t.value<c.value),k=d(()=>t.value&&c.value&&t.value>=c.value);return(m,j)=>(n(),w(ee,{observe:"resize",onResize:g,class:W(["img",{x:e(u),y:e(k)}])},{default:f(()=>[s("div",_e,[s("img",{ref_key:"imgRef",ref:a,src:h.src,onLoad:i},null,40,ve)])]),_:1},8,["class"]))}});var pe=B(he,[["__scopeId","data-v-3baf12d9"]]);const fe=x("Load large file"),me={key:"json",class:"selector data-container box"},ye={class:"raw"},ge=z({props:["tx"],setup(h){const r=h,a=J({handler:void 0,payload:void 0,loaded:!1,intent:!1}),t=d(()=>C.gatewayURL+r.tx.id),c=d(()=>"https://arcode.studio/#/"+r.tx.id+"?theme=dark-blue&hideToolbar=true"),g=async()=>{if(!r.tx||r.tx.data?.size==="0"||r.tx.data?.size==null)return;const i=ae(r.tx.tags);if(i["Bundle-Version"])return a.loaded=!0,a.handler={is:T(se),attrs:{query:ne({bundledIn:r.tx.id}),component:T($),componentProps:{options:{space:!0}}},containerAttrs:{class:["data-container"]}};if(i["Content-Type"]==="application/x.arweave-manifest+json"||i["Content-Type"]==="text/html"||i["Content-Type"]==="application/pdf")return a.handler={is:"iframe",attrs:{src:t.value,class:["hover"]},containerAttrs:{class:["iframe-container"]}};if(i["Content-Type"]?.split("/")[0]==="video")return a.handler={is:"iframe",attrs:{src:t.value},containerAttrs:{class:["iframe-container"]}};if(r.tx.data.size>104857600&&!a.intent)return a.handler="intent";if(i["Content-Type"]?.split("/")[0]==="image")return a.handler={is:T(pe),attrs:{src:t.value},containerAttrs:{class:["img-container"]}};if(i["App-Name"]==="SmartWeaveContract"||i["App-Name"]==="SmartWeaveContractSource")return a.handler={is:"iframe",attrs:{src:c.value},containerAttrs:{class:["iframe-container"]}};a.handler="raw";try{if(a.payload=(await q.api.get(r.tx.id)).data,a.payload[0]==="{")try{a.payload=JSON.stringify(JSON.parse(a.payload),null,2),a.handler="json"}catch{}}catch{}};return R(()=>r.tx.id,()=>{a.handler=void 0,a.payload=void 0,a.loaded=!1,a.intent=!1,g()},{immediate:!0}),R(()=>a.intent,()=>{a.intent&&g()}),(i,u)=>e(a).handler==="intent"?(n(),o("div",{key:0,onClick:u[0]||(u[0]=k=>e(a).intent=!0),class:"selector data-container box",style:{display:"flex","justify-content":"center","padding-top":"5em"}},[_(te,{icon:e(ce)},{default:f(()=>[fe]),_:1},8,["icon"])])):e(a).handler==="json"||e(a).handler==="raw"?(n(),o("div",me,[s("pre",ye,v(e(a).payload),1)])):e(a).handler?Q((n(),o("div",P({key:2},e(a).handler.containerAttrs,{class:"selector box"}),[(n(),w(M(e(a).handler.is),P(e(a).handler.attrs,{onLoad:u[1]||(u[1]=k=>e(a).loaded=!0)}),null,16))],16)),[[G,e(a).loaded]]):l("",!0)}});var xe=B(ge,[["__scopeId","data-v-6ff18ed3"]]);const y=h=>(K("data-v-04fdfe12"),h=h(),Z(),h),ke={key:0,style:{position:"relative",width:"100%","min-height":"var(--current-vh)",color:"var(--element-secondary)"}},be={key:0},we={key:1},Ie={class:"meta flex-column"},Se={class:"box",style:{padding:"0"}},Ae={key:1,class:"spacer"},Ce={key:2,class:"divider"},Te=y(()=>s("h3",null,"Transaction",-1)),Le={class:"flex-column"},De={key:0},Re=["href"],$e={key:1},ze=["href"],Be={class:"secondary-text"},je=x("ID:\xA0"),Ne={key:3},Pe=y(()=>s("h3",null,"Bundle",-1)),Oe={class:"flex-column"},Fe={class:"secondary-text"},Ve=x("ID:\xA0"),Ue={key:4},We=y(()=>s("h3",null,"Pending",-1)),qe={key:0},Ee={key:5},He=y(()=>s("h3",null,"Block",-1)),Je={key:0,class:"secondary-text"},Qe=y(()=>s("div",{class:"spacer"},null,-1)),Ge={class:"secondary-text"},Me=x("ID:\xA0"),Xe=y(()=>s("h3",null,"Data",-1)),Ye=x(" Fee: "),Ke={key:6},Ze=y(()=>s("h3",null,"Tags",-1)),et=[Ze],tt={key:0,style:{background:"var(--background2)","border-radius":"var(--border-radius)"}},at=z({props:{txId:null},setup(h){const r=h,a=F(O(r,"txId")),t=a.state,c=a.queryStatus,g=d(()=>t.value?.bundledIn?.id),i=F(g).state,u=d(()=>t.value?.owner&&V(t.value?.owner.address)),k=d(()=>t.value?.recipient&&V(t.value?.recipient)),m=d(()=>t.value?.data?.size!=0),j=d(()=>!t.value?.block),E=d(()=>{if(!t.value?.block)return"";const p=new Date(t.value?.block.timestamp*1e3);return p.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})+" "+p.toLocaleTimeString()}),I=A(null),N=d(()=>D.value?.height-t.value?.block?.height+1),S=d(()=>{if(!t.value?.tags)return;const p=[];for(const b of t.value?.tags)p.push({items:[{name:"",value:b.name,attrs:{disabled:!0}},{name:"",value:b.value,attrs:{disabled:!0}}]});return p});R(()=>r.txId,async()=>{if(t.value?.block)return;const p=t.value?.bundledIn?.id||r.txId;!p||q.transactions.getStatus(p).then(b=>I.value=b.status).catch(()=>I.value="Not Found")},{immediate:!0});const H=O(oe.breakpoints,"verticalContent");return(p,b)=>e(t)?(n(),w(de,{key:1},X({left:f(()=>[s("div",Ie,[s("div",Se,[s("div",{class:"box-padding flex-column",style:Y([e(S).length&&"padding-bottom: 0"])},[_($,{tx:e(t),options:{half:!0}},null,8,["tx"]),e(t).recipient?(n(),w(U,{key:0,wallet:e(k)},null,8,["wallet"])):l("",!0),e(t).recipient?(n(),o("div",Ae)):l("",!0),e(t).recipient?(n(),o("div",Ce)):l("",!0),_(U,{wallet:e(u)},null,8,["wallet"]),s("div",null,[Te,s("div",Le,[s("div",null,[e(m)?(n(),o("div",De,[s("a",{href:e(C).gatewayURL+e(t).id,target:"_blank"},v(e(C).gatewayURLObject?.hostname),9,Re)])):l("",!0),e(t).data?.type==="application/x.arweave-manifest+json"?(n(),o("div",$e,[s("a",{href:e(C).gatewayURL+"tx/"+e(t).id+"/data.json",target:"_blank"},"Manifest",8,ze)])):l("",!0)]),s("div",Be,[_(L,{address:e(t).id},{default:f(()=>[je]),_:1},8,["address"])])])]),e(t).bundledIn?.id?(n(),o("div",Ne,[Pe,s("div",Oe,[e(i)?(n(),w($,{key:0,tx:e(i),options:{space:!0}},null,8,["tx"])):l("",!0),s("div",Fe,[_(L,{address:e(t).bundledIn?.id},{default:f(()=>[Ve]),_:1},8,["address"])])])])):l("",!0),e(j)?(n(),o("div",Ue,[We,I.value?(n(),o("div",qe,"Status: "+v(I.value),1)):l("",!0)])):(n(),o("div",Ee,[He,s("div",null,[x(" Height: "+v(e(t).block.height)+" ",1),e(D)?.height?(n(),o("span",Je,"/ "+v(e(D).height)+" ("+v(e(N))+" confirmation"+v(e(N)>1?"s":"")+")",1)):l("",!0)]),s("div",null,v(e(E)),1),Qe,s("div",Ge,[_(L,{address:e(t).block.id},{default:f(()=>[Me]),_:1},8,["address"])])])),s("div",null,[Xe,s("div",null,"Size: "+v(e(re)(e(t).data.size)),1),s("div",null,[Ye,_(ie,{ar:e(t).fee.ar},null,8,["ar"])])]),e(S).length?(n(),o("div",Ke,et)):l("",!0)],4),e(S).length?(n(),o("div",tt,[_(le,{schema:e(S),disabled:""},null,8,["schema"])])):l("",!0)])])]),_:2},[e(t)&&e(m)?{name:"right",fn:f(()=>[_(xe,{tx:e(t),class:W({inline:!e(H)})},null,8,["tx","class"])])}:void 0]),1024)):(n(),o("div",ke,[_(ue,{options:{icon:"loader"},class:"box"},{default:f(()=>[e(c).error?(n(),o("h2",be,v(e(c).error),1)):(n(),o("h2",we,"Loading"))]),_:1})]))}});var lt=B(at,[["__scopeId","data-v-04fdfe12"]]);export{lt as default};
//# sourceMappingURL=Tx.965d0455.js.map
