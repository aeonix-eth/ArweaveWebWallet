import{d as $,o as d,h as p,b as s,i,a5 as X,a6 as ee,e as T,a7 as H,c as r,a8 as te,I as L,K as ae,r as f,a9 as A,g as I,u as t,aa as U,ab as M,a as N,l as b,w as x,z as j,T as D,k as G,Y as W,Z as F,C as h,ac as se,E as le,ad as O,t as m,$ as J,ae as ne,_ as K,af as oe,ag as ce,ah as ue,ai as ie,H as re,M as k,a2 as de,a1 as ve,B as _e,j as V,aj as he,A as q,n as pe,ak as ge,W as me,al as fe,am as z}from"./index-4b9ba95a.js";const ye={class:"profile-card flex-row row",style:{"align-items":"center"}},xe={class:"address-icon-margin"},we=$({__name:"ProfileCard",props:{wallet:null},setup(l){return(e,o)=>(d(),p("div",ye,[s("div",xe,[i(X,{address:l.wallet.key},null,8,["address"])]),i(ee,{wallet:l.wallet},null,8,["wallet"])]))}});const ke=T(we,[["__scopeId","data-v-ba12ef0f"]]),P=l=>(W("data-v-25c98e20"),l=l(),F(),l),be={class:"global-search"},$e={class:"input-container flex-row"},Ce={key:0,class:"results input-box"},Ie={class:"query-list input-box flex-column"},Te={key:0,class:"flex-column"},Be=P(()=>s("div",{class:"secondary-text"},"User",-1)),Se=P(()=>s("div",null,null,-1)),Ae=P(()=>s("div",{class:"secondary-text"},"Transactions",-1)),Le=$({__name:"GlobalSearch",setup(l){const e=H("",1e3),o=H("",1e3),c=r(()=>te.metadata.isAddress(e.value)),v=r(()=>({run:()=>{},icon:!o.value.length&&L.search,disabled:!0})),a=r(()=>c.value&&S?.state?.value?.length&&ae(e.value)),u=()=>[h(r(()=>({owners:[e.value]})),"global search user"),h(r(()=>({recipients:[e.value]})),"global search user")],B=()=>[h(r(()=>({ids:[e.value]})),"global search id")],Q=()=>o.value?[h(r(()=>({tags:[{name:e.value,values:[o.value]}]})))]:[h(r(()=>({tags:[{name:"App-Name",values:["arweave-id"]},{name:"Name",values:[e.value]}]}))),h(r(()=>({tags:[{name:"App-Name",values:[e.value]}]}))),h(r(()=>e.value.toLowerCase()!==e.value?{tags:[{name:"App-Name",values:[e.value.toLowerCase()]}]}:void 0)),h(r(()=>({tags:[{name:"app",values:[e.value]}]}))),h(r(()=>e.value.toLowerCase()!==e.value?{tags:[{name:"app",values:[e.value.toLowerCase()]}]}:void 0))],w=f([]),S=A(w),n=f([]),g=A(n),_=f([]),Y=A(_);I(()=>[e.value,o.value],(C,y)=>{!C[0]&&y?.[0]&&(o.value=""),c.value?(w.value.length===0&&(w.value=u()),n.value.length===0&&(n.value=B()),_.value=[]):(w.value=[],n.value=[],(_.value.length===0||!!C[1]!=!!y?.[1])&&(_.value=Q()))},{immediate:!0});const Z=A([g,S,Y]),E=f(0);return I(e,C=>E.value=C.length>0?1:-1,{immediate:!0,flush:"post"}),(C,y)=>(d(),p("div",be,[s("div",$e,[i(M,{modelValue:t(e),"onUpdate:modelValue":y[0]||(y[0]=R=>U(e)?e.value=R:null),actions:[t(v)],placeholder:"Search - address, transaction id, username, app, tag"},null,8,["modelValue","actions"]),t(e)&&!t(c)?(d(),N(M,{key:0,modelValue:t(o),"onUpdate:modelValue":y[1]||(y[1]=R=>U(o)?o.value=R:null),icon:t(L).label,placeholder:"Tag value"},null,8,["modelValue","icon"])):b("",!0)]),i(G,{axis:"y",vector:E.value},{default:x(()=>[t(e).length?(d(),p("div",Ce,[s("div",Ie,[t(a)?(d(),p("div",Te,[Be,i(ke,{wallet:t(a),compact:"true"},null,8,["wallet"]),Se])):b("",!0),Ae,i(j,{query:t(Z),component:D,"component-props":{options:{currentAddress:t(a)?.key}}},null,8,["query","component-props"])])])):b("",!0)]),_:1},8,["vector"])]))}});const Ne=T(Le,[["__scopeId","data-v-25c98e20"]]),Qe={class:"flex-row",style:{"align-items":"center","justify-content":"space-between","flex-wrap":"wrap"}},Re={class:"flex-row",style:{"align-items":"center"}},ze={key:0,style:{"text-align":"end",flex:"1 1 auto"}},Ve=$({__name:"BlockCardHeader",props:{block:null,active:{type:Boolean}},setup(l){const e=l,o=r(()=>e.block?.node?e.block.node:e.block),c=se({name:"single block header",awaitEffect:()=>v.value,query:async()=>o.value&&le.blocks.get(o.value.id),processResult:a=>typeof a=="string"?JSON.parse(a):a,seconds:10,completed:a=>a}).state,v=f(!1);return(a,u)=>(d(),N(K,{onIntersecting:u[0]||(u[0]=B=>v.value=!0)},{default:x(()=>[s("div",Qe,[s("h2",Re,[i(O,{icon:t(L).cube,class:"cube",glow:l.active},null,8,["icon","glow"]),s("span",null,"Block "+m(t(o).height),1)]),i(G,null,{default:x(()=>[t(c)?(d(),p("div",ze,[s("div",null,m(t(c).txs?.length)+" Transactions | "+m(t(J)(t(c).block_size)),1),s("div",null,[i(ne,{timestamp:t(c).timestamp*1e3},null,8,["timestamp"])])])):b("",!0)]),_:1})])]),_:1}))}});const qe=T(Ve,[["__scopeId","data-v-05e41f21"]]),Pe={class:"container-scroll"},Ee=$({__name:"BlockCard",props:{block:null,active:{type:Boolean}},setup(l){const e=l,o=f(!1),c=h({block:{min:e.block.node.height,max:e.block.node.height}});return(v,a)=>(d(),N(ue,{class:"block-card"},{header:x(()=>[i(qe,oe(ce(e)),null,16)]),default:x(()=>[s("div",Pe,[i(K,{onIntersecting:a[0]||(a[0]=u=>o.value=!0)}),o.value?(d(),N(j,{key:0,query:t(c),component:D,componentProps:{options:{space:!0}}},null,8,["query"])):b("",!0)])]),_:1}))}});const He=T(Ee,[["__scopeId","data-v-371ea9da"]]),Ue={class:"block-carousel"},Me={key:0,class:"block fade-list-item box flex-column",style:{"align-items":"center","justify-content":"center"}},je=$({__name:"BlockCarousel",props:{height:null,onHeight:null,goTo:null},emits:["height"],setup(l,{emit:e}){const o=l,c=f(void 0),v=f(void 0),a=ie({},re(o,"goTo")),u=r(()=>a.state.value&&[...a.state.value].reverse());I(()=>a.status.index,n=>{if(n==null)return c.value!=null&&(c.value=void 0);u.value?.length&&(c.value=u.value.length-1-n)},{immediate:!0,flush:"post"}),I(v,n=>n!=null&&u.value?.[n]&&e("height",u.value?.[n].node.height)),I(u,(n,g)=>{n?.length&&o.goTo==null&&(!g?.length&&n.length&&(c.value=n.length-1),g&&g.length!==n.length&&v.value===g.length-1&&setTimeout(()=>c.value=n.length-1,1e3))});const B=r(()=>k.value?.network?.includes("arlocal")),Q=async()=>{await fetch(q.gatewayURL+"mine"),await a.updateQuery.getState(!0),setTimeout(()=>c.value=u.value.length-1,1e3)},w=n=>n.isIntersecting&&a?.fetchQuery.query(),S=n=>a.refreshSwitch.value=n.isIntersecting;return(n,g)=>(d(),p("div",Ue,[i(he,{index:c.value,onIndex:g[0]||(g[0]=_=>v.value=_),options:{align:"center",overscroll:!0,immediate:!0},onStart:w,onEnd:S,class:"block-carousel"},{default:x(()=>[(d(!0),p(de,null,ve(t(u),_=>(d(),p("div",{key:_.node.id,class:pe(["block fade-list-item",{active:l.height&&l.height==_.node.height}])},[i(He,{block:_,active:l.height&&l.height==_.node.height,class:"box"},null,8,["block","active"])],2))),128)),t(B)&&t(u)?.length?(d(),p("div",Me,[i(O,{icon:t(L).cube,style:{"font-size":"4em",opacity:"0.8"}},null,8,["icon"]),i(_e,{onClick:Q},{default:x(()=>[V("Mine new block")]),_:1})])):b("",!0)]),_:1},8,["index"])]))}});const De=l=>(W("data-v-8bf68310"),l=l(),F(),l),Ge={class:"settings"},We={class:"container"},Fe={class:"column"},Oe={class:"group"},Je={style:{"text-transform":"capitalize"}},Ke={class:"flex-column"},Ye={class:"group"},Ze=De(()=>s("h2",null,"Weave State",-1)),Xe={class:"flex-column"},et=$({__name:"Explore",setup(l){const e=r(()=>q.gatewayURL&&new URL(q.gatewayURL).hostname),o=r(()=>{const v=k.value?.blocks,a=k.value?.height;if(v==null||a==null)return"";const u=100*Math.min(v/Math.max(a-1,1),1);return u===100?"":` (${ge(u,2)}% known)`}),c=f(void 0);return(v,a)=>(d(),p("div",Ge,[s("div",We,[s("div",Fe,[i(Ne,{onHeight:a[0]||(a[0]=u=>c.value=u),style:{"z-index":"2"}}),s("div",Oe,[s("h2",null,[s("span",Je,m(t(e)),1),V(" Gateway State")]),s("div",Ke,[s("div",null,"Peers: "+m(t(k)?.peers??"..."),1),s("div",null,"Pending Transactions: "+m(t(fe)?.length??"..."),1),s("div",null,"Network Height: "+m(t(k)?.height??"...")+m(t(o)),1)])]),s("div",Ye,[Ze,s("div",Xe,[s("div",null,"Weave Size: "+m(t(z)?.weave_size&&t(J)(t(z)?.weave_size)||"..."),1),s("div",null,[V("Endowment Pool: "),i(me,{winston:t(z)?.reward_pool},null,8,["winston"])])])])])]),i(je,{height:t(k)?.height,goTo:c.value},null,8,["height","goTo"])]))}});const at=T(et,[["__scopeId","data-v-8bf68310"]]);export{at as default};
//# sourceMappingURL=Explore-a2354cef.js.map
