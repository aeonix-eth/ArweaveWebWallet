var me=Object.defineProperty,fe=Object.defineProperties;var pe=Object.getOwnPropertyDescriptors;var X=Object.getOwnPropertySymbols;var he=Object.prototype.hasOwnProperty,xe=Object.prototype.propertyIsEnumerable;var Y=(e,a,s)=>a in e?me(e,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[a]=s,G=(e,a)=>{for(var s in a||(a={}))he.call(a,s)&&Y(e,s,a[s]);if(X)for(var s of X(a))xe.call(a,s)&&Y(e,s,a[s]);return e},K=(e,a)=>fe(e,pe(a));import{a3 as z,g as y,d as S,w as ge,a6 as ye,o as t,c as l,v as _,x as C,E as m,a1 as O,a8 as A,q as we,u as c,P as W,X as H,Y as j,a as o,F as w,p as T,y as $,V,f as N,T as Q,a2 as E,t as $e}from"./vendor.33af4e1b.js";import{_ as k,j as J,d as Z,W as M,k as P,l as ke,I as ee,h as be,m as Ie,T as Ve,n as te,o as ae,p as se,q as ne,r as Ce,s as le,t as oe,v as ie}from"./index.ef5673bf.js";const Se={class:"margin fade-list-item",key:"margin1"},ze={class:"margin fade-list-item",key:"margin2"},Te=z({props:{modelValue:null,options:null},emits:["update:modelValue"],setup(e,{emit:a}){const s=e,n=y({get(){return s.modelValue},set(u){a("update:modelValue",u)}}),d=S(null),i=y(()=>{var u;return((u=d.value)==null?void 0:u.children)?Array(...d.value.children).slice(1,d.value.children.length-1):null}),p=y(()=>{var u;return{"--position":((u=s.options)==null?void 0:u.position)||"start"}}),h=u=>{var x,g,b;const r=Math.max(n.value||0,0);!r||(b=(x=i.value)==null?void 0:x[r])==null||b.scrollIntoView({behavior:u?"instant":"smooth",block:"start",inline:((g=s.options)==null?void 0:g.position)||"start"})};return ge(()=>h()),ye(()=>setTimeout(()=>h(s.options.immediate))),(u,r)=>(t(),l("div",{ref_key:"root",ref:d,class:"carousel flex-row no-scrollbar",style:we(c(p))},[_(A,{name:"fade-list"},{default:C(()=>{var x,g;return[((x=e.options)==null?void 0:x.overscroll)?(t(),l("div",Se)):m("",!0),O(u.$slots,"default",{},void 0,!0),((g=e.options)==null?void 0:g.overscroll)?(t(),l("div",ze)):m("",!0)]}),_:3})],4))}});var de=k(Te,[["__scopeId","data-v-73cbd4c0"]]);const ce=e=>(H("data-v-7b045f16"),e=e(),j(),e),Be={class:"wallet-selector"},Ee=ce(()=>o("div",{class:"exit-background"},null,-1)),Me=ce(()=>o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[o("path",{d:"M0 0h24v24H0V0z",fill:"none"}),o("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"})],-1)),Le=[Ee,Me],We=z({props:{modelValue:String,default:String,exit:Boolean,active:Boolean},emits:["update:modelValue","selectWallet","exit"],setup(e,{emit:a}){const s=e,n=y({get(){return s.modelValue||s.default},set(i){a("update:modelValue",i)}}),d=y(()=>{var i;return(i=J(n.value))==null?void 0:i.key});return(i,p)=>(t(),l("div",Be,[c(n)?(t(),l("button",{key:0,type:"button",onClick:p[0]||(p[0]=h=>i.$emit("selectWallet")),class:W(["tab",{active:e.active}])},[_(Z,{address:c(d)},null,8,["address"])],2)):m("",!0),e.exit?(t(),l("button",{key:1,class:"exit",type:"button",onClick:p[1]||(p[1]=h=>i.$emit("exit"))},Le)):m("",!0)]))}});var Ne=k(We,[["__scopeId","data-v-7b045f16"]]);const Pe={class:"wallet-tabs"},Ae=["onClick"],He=z({props:["modelValue"],emits:["update:modelValue"],setup(e,{emit:a}){const s=e,n=y({get(){return s.modelValue},set(i){a("update:modelValue",i)}}),d=0;return(i,p)=>(t(),l("div",Pe,[_(de,{modelValue:d,"onUpdate:modelValue":p[0]||(p[0]=h=>d=h),options:{position:"start",overscroll:!1}},{default:C(()=>[(t(!0),l(w,null,T(c(M),h=>(t(),l("button",{key:h.id,type:"button",onClick:u=>n.value=h.id,class:W(["tab",{active:h.id==c(n)}])},[_(Z,{address:h.key},null,8,["address"])],10,Ae))),128))]),_:1})]))}});var ue=k(He,[["__scopeId","data-v-bcc72fbc"]]);const je={class:"icon-background"},Fe={props:["icon","img"],setup(e){return(a,s)=>(t(),l("div",je,[e.img?(t(),$(P,{key:0,class:"page-logo",icon:e.img},null,8,["icon"])):(t(),$(P,{key:1,class:"page-logo placeholder",icon:e.icon},null,8,["icon"]))]))}};var re=k(Fe,[["__scopeId","data-v-7bef1ba0"]]);const ve=e=>(H("data-v-9a5c4e1a"),e=e(),j(),e),Ue=ve(()=>o("path",{d:"M24 24H0V0h24v24z",fill:"none",opacity:".87"},null,-1)),De=ve(()=>o("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6-1.41-1.41z"},null,-1)),qe=[Ue,De],Re={props:["modelValue"],emits:["update:modelValue"],setup(e,{emit:a}){const s=e,n=y({get(){return s.modelValue},set(d){a("update:modelValue",d)}});return(d,i)=>(t(),l("button",{type:"button",class:"expand",onClick:i[0]||(i[0]=p=>n.value=!c(n))},[(t(),l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:W({expanded:c(n)})},qe,2))]))}};var Xe=k(Re,[["__scopeId","data-v-9a5c4e1a"]]);const Ye={class:"actions-list flex-row"},Ge=["onClick"],Ke={props:["actions"],setup(e){return(a,s)=>(t(),l("div",Ye,[(t(!0),l(w,null,T(e.actions,n=>(t(),l("button",{key:n.name,onClick:n.run,type:"button",class:"action flex-row"},[_(P,{icon:n.icon},null,8,["icon"]),o("div",null,V(n.name),1)],8,Ge))),128))]))}};var F=k(Ke,[["__scopeId","data-v-99d382fa"]]);const Oe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#FFF"},Qe=o("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),Je=o("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"},null,-1),Ze=[Qe,Je];function et(e,a){return t(),l("svg",Oe,Ze)}var tt={render:et};const at={class:"flex-row"},st={class:"flex-row",style:{flex:"1 1 0"}},nt={class:"content"},lt={class:"title"},ot={class:"secondary-text"},it={props:["data"],setup(e){return(a,s)=>(t(),l("div",{class:W(["notification",{expanded:e.data.expanded}])},[o("div",at,[o("div",st,[_(re,{icon:e.data.icon||c(tt),img:e.data.img},null,8,["icon","img"]),o("div",nt,[e.data.expanded?(t(),$(ke,{key:0,class:"secondary-text",timestamp:e.data.timestamp},null,8,["timestamp"])):m("",!0),o("div",lt,V(e.data.title),1),o("div",ot,[O(a.$slots,"default",{},void 0,!0)]),e.data.expanded?(t(),$(F,{key:1,actions:e.data.actions},null,8,["actions"])):m("",!0)])]),_(Xe,{modelValue:e.data.expanded,"onUpdate:modelValue":s[0]||(s[0]=n=>e.data.expanded=n)},null,8,["modelValue"])])],2))}};var dt=k(it,[["__scopeId","data-v-7ece1c50"]]);const ct={class:"tx-card-extension"},ut={key:0,class:"flex-row",style:{"justify-content":"space-between"}},rt={key:0},vt={key:1},_t={key:1,class:"tags secondary-text"},mt={props:["tx"],setup(e){return y(()=>ee.breakpoints.verticalLayout),(a,s)=>(t(),l("div",ct,[e.tx.tags.length||e.tx.data_size?(t(),l("div",ut,[e.tx.tags.length?(t(),l("div",rt,"Tags:")):m("",!0),e.tx.data_size?(t(),l("div",vt,"Data: "+V(c(be)(e.tx.data_size)),1)):m("",!0)])):m("",!0),e.tx.tags.length?(t(),l("ul",_t,[(t(!0),l(w,null,T(e.tx.tags,n=>(t(),l("li",null,V(n.name+" | "+n.value),1))),256))])):m("",!0)]))}};var ft=k(mt,[["__scopeId","data-v-5ae3361a"]]);const pt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#fff"},ht=o("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),xt=o("path",{d:"M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"},null,-1),gt=[ht,xt];function yt(e,a){return t(),l("svg",pt,gt)}var _e={render:yt};const wt={key:0,class:"permission-card"},$t=E(" Share the public key "),kt=E(" Share the arweave config "),bt=E(" Sign data "),It=E(" Decrypt data "),Vt=z({props:{messageEntry:null},setup(e){const a=e,s=S(null),n=y(()=>{var u,r,x,g;if(((u=s.value)==null?void 0:u.method)!=="signTransaction")return;const p=(x=(r=s.value)==null?void 0:r.params)==null?void 0:x[0],h=(g=p.tags)==null?void 0:g.map(({name:b,value:B})=>({name:window.atob(b),value:window.atob(B)}));return K(G({},p),{tags:h})});N(()=>a.messageEntry,async()=>{s.value=await Ie(a.messageEntry)},{immediate:!0});const d=[{name:"Accept",icon:_e,run:()=>a.messageEntry.status="accepted"},{name:"Reject",icon:te,run:()=>a.messageEntry.status="rejected"}],i=[{name:"Pending",icon:ae,run:()=>{}}];return(p,h)=>{var u,r,x,g,b;return s.value?(t(),l("div",wt,[((u=s.value)==null?void 0:u.method)==="signTransaction"?(t(),l(w,{key:0},[_(Ve,{tx:c(n)},null,8,["tx"]),_(ft,{tx:c(n)},null,8,["tx"])],64)):((r=s.value)==null?void 0:r.method)==="getPublicKey"?(t(),l(w,{key:1},[$t],64)):((x=s.value)==null?void 0:x.method)==="getArweaveConfig"?(t(),l(w,{key:2},[kt],64)):((g=s.value)==null?void 0:g.method)==="sign"?(t(),l(w,{key:3},[bt],64)):((b=s.value)==null?void 0:b.method)==="decrypt"?(t(),l(w,{key:4},[It],64)):m("",!0),_(Q,{name:"fade",mode:"out-in"},{default:C(()=>[e.messageEntry.status?(t(),$(F,{key:1,actions:i})):(t(),$(F,{key:0,actions:d}))]),_:1})])):m("",!0)}}});var Ct=k(Vt,[["__scopeId","data-v-11f8fcdc"]]);const St={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#fff"},zt=o("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),Tt=o("path",{d:"M19 19H5V5h7V3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"},null,-1),Bt=[zt,Tt];function Et(e,a){return t(),l("svg",St,Bt)}var Mt={render:Et};const Lt=e=>(H("data-v-4320a95b"),e=e(),j(),e),Wt={class:"connection-card flex-column no-scrollbar"},Nt={class:"flex-row"},Pt=["disabled"],At={style:{"min-width":"0"}},Ht={class:"ellipsis"},jt={class:"secondary-text ellipsis"},Ft={class:"flex-column",style:{flex:"1 1 0"}},Ut={class:"container"},Dt={class:"container-scroll"},qt={key:0},Rt={class:"box status fade-list-item",key:"0"},Xt={key:1},Yt=Lt(()=>o("div",{class:"box status fade-list-item",key:"0"},"WIP",-1)),Gt=z({props:{state:null},setup(e){var D;const a=e,s=(D=M.value[0])==null?void 0:D.id;y(()=>M.value.map(v=>v.key));const n=S(a.state.walletId||s);y(()=>J(s));const d=[{name:"Requests",color:"var(--orange)"},{name:"Permissions",color:"var(--green)"}],i=S(n.value?d[0].name:null);N(()=>a.state.walletId,v=>{!v||(r.value=!1,n.value=v,i.value=d[0].name)});const p=()=>a.state.walletId=!1,h=()=>{r.value=!1,a.state.walletId=n.value+""},u=()=>{!a.state.walletId||(r.value=!1,n.value=a.state.walletId)},r=S(!a.state.walletId),x=()=>{var v;if(!r.value){r.value=!0;return}n.value=a.state.walletId||((v=M.value[0])==null?void 0:v.id),r.value=!1},g=y(()=>{var f;const v=a.state.walletId?`Switch to ${n.value}`:`Connect to ${((f=a.state.appInfo)==null?void 0:f.name)||a.state.origin} from the account ${n.value}`;return{title:a.state.walletId?"Switch":"Connect",timestamp:Date.now(),actions:[{name:"Connect",icon:_e,run:h},{name:a.state.walletId?"Cancel":"Switch",icon:te,run:a.state.walletId?u:x}],expanded:!0,content:v}}),b=y(()=>{var v;return n.value===a.state.walletId?(v=a.state.messageQueue)==null?void 0:v.filter(f=>!f.fulfilled):[]});$e(ee.breakpoints,"verticalLayout");const B=S(null),U=(v,f)=>v>f?B.value="slide-left":B.value="slide-right";return N(()=>d.findIndex(v=>v.name===i.value),U),N(()=>M.value.findIndex(v=>v.id===n.value),U),(v,f)=>{var q,R;return t(),l("div",Wt,[o("div",Nt,[o("button",{type:"button",class:"info flex-row",onClick:f[0]||(f[0]=(...I)=>c(se)&&c(se)(...I)),disabled:!c(ne)(e.state.origin,e.state.session)},[_(re,{img:(q=e.state.appInfo)==null?void 0:q.logo,icon:c(ae)},null,8,["img","icon"]),o("div",At,[o("div",Ht,V(((R=e.state.appInfo)==null?void 0:R.name)||"Connector"),1),o("div",jt,V(e.state.origin),1)]),c(ne)(e.state.origin,e.state.session)?(t(),$(P,{key:0,icon:c(Mt)},null,8,["icon"])):m("",!0)],8,Pt),_(Ne,{modelValue:e.state.walletId,"onUpdate:modelValue":f[1]||(f[1]=I=>e.state.walletId=I),default:c(s),exit:!0,active:!r.value,onSelectWallet:x,onExit:p},null,8,["modelValue","default","active"])]),o("div",Ft,[_(Ce,{tabs:d,modelValue:i.value,"onUpdate:modelValue":f[2]||(f[2]=I=>i.value=I),disabled:!n.value},null,8,["modelValue","disabled"]),o("div",Ut,[o("div",Dt,[_(Q,{name:B.value,mode:"out-in"},{default:C(()=>[(t(),l("div",{key:(n.value||"")+i.value,class:"content"},[i.value==="Requests"?(t(),l("div",qt,[_(A,{name:"fade-list"},{default:C(()=>{var I;return[r.value?(t(),$(ue,{modelValue:n.value,"onUpdate:modelValue":f[3]||(f[3]=L=>n.value=L),class:"box fade-list-item",key:"0"},null,8,["modelValue"])):m("",!0),((I=c(b))==null?void 0:I.length)===0&&e.state.walletId&&e.state.walletId===n.value?(t(),l("div",Rt,"Connected")):m("",!0),n.value!==e.state.walletId?(t(),$(dt,{data:c(g),class:"box fade-list-item",key:"1"},{default:C(()=>[E(V(c(g).content),1)]),_:1},8,["data"])):m("",!0),(t(!0),l(w,null,T(c(b),L=>(t(),$(Ct,{key:L.uuid,messageEntry:L,style:{padding:"var(--spacing)"},class:"box flex-column fade-list-item"},null,8,["messageEntry"]))),128))]}),_:1})])):i.value==="Permissions"?(t(),l("div",Xt,[_(A,{name:"fade-list"},{default:C(()=>[r.value?(t(),$(ue,{modelValue:n.value,"onUpdate:modelValue":f[4]||(f[4]=I=>n.value=I),class:"box fade-list-item",key:"0"},null,8,["modelValue"])):m("",!0),Yt]),_:1})])):m("",!0)]))]),_:1},8,["name"])])])])])}}});var Kt=k(Gt,[["__scopeId","data-v-4320a95b"]]);const Ot={class:"connect flex-column"},Qt={class:"bottom-info secondary-text",style:{opacity:"0.0","pointer-events":"none"}},Jt=z({setup(e){const a=S(le.value.findIndex(s=>s.origin===oe.origin&&s.session===oe.session));return(s,n)=>(t(),l("div",Ot,[_(de,{modelValue:a.value,"onUpdate:modelValue":n[0]||(n[0]=d=>a.value=d),options:{position:"start",overscroll:!0},class:"connectors"},{default:C(()=>[(t(!0),l(w,null,T(c(le),d=>(t(),l("div",{key:d.session,class:"connection-card-container fade-list-item"},[_(Kt,{state:d,class:"box"},null,8,["state"])]))),128))]),_:1},8,["modelValue"]),o("div",Qt,[o("div",null,"All Channels "+V(Object.keys(c(ie)).length),1),(t(!0),l(w,null,T(c(ie),(d,i)=>(t(),l("div",{key:i},V(d),1))),128))])]))}});var aa=k(Jt,[["__scopeId","data-v-5775c0fe"]]);export{aa as default};
//# sourceMappingURL=Connect.08b43a7f.js.map
