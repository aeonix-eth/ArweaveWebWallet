import{d as I,e as m,o as n,x as D,s as S,a,P as T,u as t,r as U,w as z,z as B,C as N,c as r,q as c,V as g,D as p,W as P,t as L,ai as J,n as q,a5 as $,a1 as E,a2 as G}from"./vendor.864071fb.js";import{_ as j,a as M,A,u as K,b as R,c as Q,g as W,B as X,I as Y,F as Z,d as ee,T as te,e as V,W as F,f as H,n as O,h as ae,i as se,j as ne}from"./index.775c7183.js";const oe={class:"frame-scroller"},le=["src"],re={props:["src"],emits:["load"],setup(u,{emit:s}){const e=I(null),_=I(null),i=I(null),o=d=>{console.log(d),_.value=d.width/d.height},v=()=>{i.value=e.value&&e.value.naturalWidth/e.value.naturalHeight,s("load")},x=m(()=>_.value&&i.value&&_.value<i.value),h=m(()=>_.value&&i.value&&_.value>=i.value);return(d,k)=>(n(),D(M,{observe:"resize",onResize:o,class:T(["img",{x:t(x),y:t(h)}])},{default:S(()=>[a("div",oe,[a("img",{ref_key:"imgRef",ref:e,src:u.src,onLoad:v},null,40,le)])]),_:1},8,["class"]))}};var de=j(re,[["__scopeId","data-v-597b5404"]]);const ie={key:"iframe",class:"selector iframe-container box"},ce=["src"],ue={key:"img",class:"selector img-container box"},_e={key:"smartweave",class:"selector iframe-container box"},ve=["src"],he={key:"json",class:"selector data-container box"},me={class:"raw"},pe={props:["tx"],setup(u){const s=u,e=U({handler:null,loaded:!1,payload:null}),_=m(()=>A.gatewayURL+s.tx.id);return z(()=>s.tx,async()=>{var i,o,v,x,h,d,k,l,y,b;if(!!s.tx&&(e.handler=null,e.loaded=!1,((i=s.tx.data)==null?void 0:i.size)!=="0")){if(K(s.tx.tags)["Bundle-Version"])return;if(((o=s.tx.data)==null?void 0:o.type)==="application/x.arweave-manifest+json"||((v=s.tx.data)==null?void 0:v.type)==="text/html"||((x=s.tx.data)==null?void 0:x.type)==="application/pdf")e.handler="iframe";else if(((d=(h=s.tx.data)==null?void 0:h.type)==null?void 0:d.split("/")[0])==="image")e.handler="img";else if(((l=(k=s.tx.tags)==null?void 0:k.find(w=>w.name==="App-Name"))==null?void 0:l.value)==="SmartWeaveContract"||((b=(y=s.tx.tags)==null?void 0:y.find(w=>w.name==="App-Name"))==null?void 0:b.value)==="SmartWeaveContractSource")e.handler="smartweave";else{e.handler="raw";try{if(e.payload=await R.transactions.getData(s.tx.id,{decode:!0,string:!0}),e.payload[0]==="{")try{e.payload=JSON.stringify(JSON.parse(e.payload),null,2),e.handler="json"}catch{}}catch{}}}},{immediate:!0}),(i,o)=>t(e).handler==="iframe"?B((n(),r("div",ie,[a("iframe",{class:"iframe",src:t(_),onLoad:o[0]||(o[0]=v=>t(e).loaded=!0)},null,40,ce)],512)),[[N,t(e).loaded]]):t(e).handler==="img"?B((n(),r("div",ue,[c(de,{src:t(_),onLoad:o[1]||(o[1]=v=>t(e).loaded=!0)},null,8,["src"])],512)),[[N,t(e).loaded]]):t(e).handler==="smartweave"?(n(),r("div",_e,[a("iframe",{class:"iframe",src:"https://arcode.studio/#/"+u.tx.id,onLoad:o[2]||(o[2]=v=>t(e).loaded=!0)},null,40,ve)])):t(e).handler==="json"||t(e).handler==="raw"?(n(),r("div",he,[a("pre",me,g(t(e).payload),1)])):p("",!0)}};var fe=j(pe,[["__scopeId","data-v-0c4b26b3"]]);const f=u=>(E("data-v-453f5256"),u=u(),G(),u),ge={class:"meta flex-column"},xe={class:"box",style:{padding:"0"}},ye=f(()=>a("div",{class:"spacer"},null,-1)),we={class:"row flex-column",style:{"align-items":"center"}},ke={class:"address-icon-margin"},be=f(()=>a("div",{class:"spacer"},null,-1)),Se={key:0,class:"row flex-column",style:{"align-items":"center"}},Ie={class:"address-icon-margin"},$e=f(()=>a("div",{class:"spacer"},null,-1)),Ae=f(()=>a("h3",null,"Transaction",-1)),Le=$("ID:\xA0"),je={key:0},Ce=["href"],De={key:1},Te=["href"],ze={key:1},Be=f(()=>a("h3",null,"Pending",-1)),Ne={key:0},Re={key:2},We=f(()=>a("h3",null,"Block",-1)),Ve=$("ID:\xA0"),Fe={key:0,class:"secondary-text"},He=f(()=>a("h3",null,"Data",-1)),Oe=$(" Fee: "),Ue={key:3},Pe=f(()=>a("h3",null,"Tags",-1)),Je=[Pe],qe={key:0,style:{background:"var(--background2)","border-radius":"var(--border-radius)"}},Ee=P({props:{txId:null},setup(u){const s=u,e=Q(L(s,"txId")),_=m(()=>e.value.owner&&W(e.value.owner.address)),i=m(()=>e.value.recipient&&W(e.value.recipient)),o=m(()=>{var l;return((l=e.value.data)==null?void 0:l.size)!=0}),v=m(()=>!e.value.block),x=m(()=>{if(!e.value.block)return"";const l=new Date(e.value.block.timestamp*1e3);return l.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})+" "+l.toLocaleTimeString()}),h=I(null);L(X,"currentHeight");const d=m(()=>{if(!e.value.tags)return;const l=[];for(const y of e.value.tags)l.push({items:[{name:"",value:y.name,attrs:{disabled:!0}},{name:"",value:y.value,attrs:{disabled:!0}}]});return l});z(()=>s.txId,async()=>{ee(),R.transactions.getStatus(s.txId).then(l=>h.value=l.status).catch(()=>h.value="Not Found")},{immediate:!0});const k=L(Y.breakpoints,"verticalContent");return(l,y)=>t(e)?(n(),D(Z,{key:0},J({left:S(()=>{var b,w,C;return[a("div",ge,[a("div",xe,[a("div",{class:"box-padding flex-column",style:q([t(d).length&&"padding-bottom: 0"])},[c(te,{tx:t(e),half:"true"},null,8,["tx"]),ye,a("div",we,[a("div",ke,[c(V,{address:t(e).owner.address},null,8,["address"])]),c(F,{wallet:t(_)},null,8,["wallet"]),be]),t(e).recipient?(n(),r("div",Se,[a("div",Ie,[c(V,{address:t(e).recipient},null,8,["address"])]),c(F,{wallet:t(i)},null,8,["wallet"]),$e])):p("",!0),a("div",null,[Ae,c(H,{address:t(e).id},{default:S(()=>[Le]),_:1},8,["address"]),t(o)?(n(),r("div",je,[a("a",{href:t(A).gatewayURL+t(e).id,target:"_blank"},g((b=t(A).gatewayURLObject)==null?void 0:b.hostname),9,Ce)])):p("",!0),((w=t(e).data)==null?void 0:w.type)==="application/x.arweave-manifest+json"?(n(),r("div",De,[a("a",{href:t(A).gatewayURL+"tx/"+t(e).id+"/data.json",target:"_blank"},"Manifest",8,Te)])):p("",!0)]),t(v)?(n(),r("div",ze,[Be,h.value?(n(),r("div",Ne,"Status: "+g(h.value),1)):p("",!0)])):(n(),r("div",Re,[We,c(H,{address:t(e).block.id},{default:S(()=>[Ve]),_:1},8,["address"]),a("div",null,[$(" Height: "+g(t(e).block.height)+" ",1),((C=t(O))==null?void 0:C.height)?(n(),r("span",Fe,"/ "+g(t(O).height),1)):p("",!0)]),a("div",null,g(t(x)),1)])),a("div",null,[He,a("div",null,"Size: "+g(t(ae)(t(e).data.size)),1),a("div",null,[Oe,c(se,{ar:t(e).fee.ar},null,8,["ar"])])]),t(d).length?(n(),r("div",Ue,Je)):p("",!0)],4),t(d).length?(n(),r("div",qe,[c(ne,{schema:t(d),disabled:""},null,8,["schema"])])):p("",!0)])])]}),_:2},[t(o)?{name:"right",fn:S(()=>[c(fe,{tx:t(e),class:T({inline:!t(k)})},null,8,["tx","class"])])}:void 0]),1024)):p("",!0)}});var Ke=j(Ee,[["__scopeId","data-v-453f5256"]]);export{Ke as default};
//# sourceMappingURL=Tx.0de2a09e.js.map
