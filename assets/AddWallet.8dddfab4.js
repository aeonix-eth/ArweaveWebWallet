import{_ as O,d as j,r as o,c as F,o as t,g as u,b as a,q as m,u as p,aD as G,aE as L,a as i,w as d,aF as z,B as h,h as w,t as b,x as k,Z as D,$ as P,aG as H,aH as K,R,S as U,ac as J,aI as X,aJ as B,aK as x,aL as Y,ai as Z,aM as E,X as Q,aN as ee,D as ae,ag as te,C as se,aO as le}from"./index.974f050a.js";import{O as ne}from"./OverlayPrompt.d3d7ba3d.js";const v=g=>(R("data-v-137244b8"),g=g(),U(),g),oe={class:"add-wallet flex-column"},ie={class:"card"},de=v(()=>a("h2",{style:{display:"flex","justify-content":"space-between"}},[a("span",null,"Passphrase"),a("span",null,"Key file")],-1)),ce={class:"flex-column"},re=v(()=>a("div",null,null,-1)),ue=w("Create new wallet"),me=w("Import passphrase"),pe={key:0,style:{"text-align":"center"}},he=v(()=>a("p",null,"This passphrase was not generated by arweave.app",-1)),ve=v(()=>a("p",null,"Make sure that it was entered correctly, without typing errors or extra characters. You can still import the wallet and use it normally",-1)),_e=[he,ve],we={class:"flex-row",style:{"align-items":"center"}},ge={class:"flex-column"},ye={class:"flex-row"},fe={class:"flex-row"},be={key:0,class:"popup"},ke={class:"card flex-column",style:{"min-width":"300px"}},xe={class:"flex-row",style:{"justify-content":"space-between","align-items":"center"}},Ce=v(()=>a("h2",null,"Settings",-1)),Ie={class:"card"},We=v(()=>a("h2",null,"Address Only",-1)),Se=j({setup(g){const y=J(),l=o(""),C=o(""),_=o(void 0),W=F(()=>l.value.trim().split(/\s+/g).length>=12),f=o(!1),S=o(!1),c=o(null),T=async()=>{f.value=!0,l.value=await X();const n=B(l.value);setTimeout(async()=>c.value=await n,1e4),x.account("Create")},$=()=>{!c.value||y.push({name:"EditWallet",query:{wallet:c.value.id}})},V=async()=>{S.value=!0;const n=B(l.value);_.value={icon:"loader",message:"importing"},y.push({name:"EditWallet",query:{wallet:(await n).id}}),x.account("Import")},q=async()=>{if(await Y(l.value))return V();_.value={messageType:"invalid",actions:[{name:"Back",run:()=>_.value=void 0},{name:"Import",run:()=>V()}]}},M=async n=>{const s=await E(void 0,n);y.push({name:"EditWallet",query:{wallet:s.id}}),x.account("Import "+n.metadata.name)},N={icon:Z,run:async()=>{const n=await E(C.value);y.push({name:"EditWallet",query:{wallet:n.id}}),x.account("Watch")}},I=o(-1);return(n,s)=>(t(),u("div",oe,[a("div",ie,[de,a("div",ce,[m(L,{modelValue:l.value,"onUpdate:modelValue":s[0]||(s[0]=e=>l.value=e),onFiles:s[1]||(s[1]=e=>p(G)(e,"keyfile")),disabled:f.value,placeholder:"Import passphrase or key file"},null,8,["modelValue","disabled"]),re,!f.value&&!l.value.length?(t(),i(h,{key:0,onClick:T,disabled:l.value.length&&!p(W),icon:p(z),class:"main",glow:!0,color:"#81a1c1"},{default:d(()=>[ue]),_:1},8,["disabled","icon"])):f.value?(t(),i(h,{key:1,disabled:c.value==null,onClick:$,icon:c.value==null?"loader":"",class:"main",glow:!0,color:"#81a1c1"},{default:d(()=>[w(b(c.value==null?"Generating, write down the passphrase":"Passphrase saved? Click here to proceed"),1)]),_:1},8,["disabled","icon"])):(t(),i(h,{key:2,disabled:!p(W)||S.value,onClick:q,class:"main",glow:!0,color:"#81a1c1"},{default:d(()=>[me]),_:1},8,["disabled"]))]),m(ne,{options:_.value},{default:d(()=>[_.value.messageType==="invalid"?(t(),u("div",pe,_e)):k("",!0)]),_:1},8,["options"])]),(t(!0),u(D,null,P(p(H),(e,A)=>(t(),u("div",{class:"card",key:e.metadata.name},[a("h2",we,[m(Q,{icon:e.metadata.icon},null,8,["icon"]),a("span",null,b(e.metadata.name)+" Hardware Wallet (awaiting release)",1)]),a("div",ge,[a("div",ye,[m(h,{disabled:e.metadata.disabled,onClick:r=>M(e),icon:e.metadata.icon,class:"main",glow:!0,color:"#81a1c1"},{default:d(()=>[w(b(e.metadata.disabled?`${e.metadata.name} not supported for this browser`:`Connect with ${e.metadata.name}`),1)]),_:2},1032,["disabled","onClick","icon"]),e.metadata.componentSettings?(t(),i(h,{key:0,icon:p(ee),class:"secondary",onClick:r=>I.value=A},null,8,["icon","onClick"])):k("",!0)]),a("div",fe,[(t(!0),u(D,null,P(e.metadata.actions,r=>(t(),i(h,ae({key:r.name},r),{default:d(()=>[w(b(r.name),1)]),_:2},1040))),128))]),e.metadata.componentSettings?(t(),i(le,{key:0,background:!0},{default:d(()=>[I.value===A?(t(),u("div",be,[a("div",ke,[a("div",xe,[Ce,m(te,{onExit:s[2]||(s[2]=r=>I.value=-1)})]),(t(),i(se(e.metadata.componentSettings)))])])):k("",!0)]),_:2},1024)):k("",!0)])]))),128)),a("div",Ie,[We,m(K,{modelValue:C.value,"onUpdate:modelValue":s[3]||(s[3]=e=>C.value=e),actions:[N]},null,8,["modelValue","actions"])])]))}});var De=O(Se,[["__scopeId","data-v-137244b8"]]);export{De as default};
//# sourceMappingURL=AddWallet.8dddfab4.js.map
