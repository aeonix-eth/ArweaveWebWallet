import{Y as A,d as w,e as d,o as n,y as b,x,a,Q as L,u as t,r as F,w as j,c as o,s as m,X as y,C as V,D as O,a9 as R,a3 as U,E as i,a7 as k,af as W,k as T,ak as E,p as H,a4 as J,a5 as G}from"./vendor.2dccf4db.js";import{_ as C,a as M,A as S,B as Q,u as X,b as $,c as Y,g as z,I as q,T as K,d as B,n as N,h as Z,e as ee,f as te,F as ae}from"./index.3445174c.js";import{I as se}from"./download.3109ceaa.js";import{P}from"./ProfilePreview.0736ab1c.js";const ne={class:"frame-scroller"},oe=["src"],re=A({props:["src"],emits:["load"],setup(c,{emit:s}){const e=w(null),r=w(null),u=w(null),f=_=>{console.log(_),r.value=_.contentRect.width/_.contentRect.height},v=()=>{u.value=e.value&&e.value.naturalWidth/e.value.naturalHeight,s("load")},l=d(()=>r.value&&u.value&&r.value<u.value),h=d(()=>r.value&&u.value&&r.value>=u.value);return(_,D)=>(n(),b(M,{observe:"resize",onResize:f,class:L(["img",{x:t(l),y:t(h)}])},{default:x(()=>[a("div",ne,[a("img",{ref_key:"imgRef",ref:e,src:c.src,onLoad:v},null,40,oe)])]),_:1},8,["class"]))}});var ie=C(re,[["__scopeId","data-v-3baf12d9"]]);const le=k("Load large file"),de={key:"json",class:"selector data-container box"},ce={class:"raw"},ue=A({props:["tx"],setup(c){const s=c,e=F({handler:void 0,payload:void 0,loaded:!1,intent:!1}),r=d(()=>S.gatewayURL+s.tx.id),u=d(()=>"https://arcode.studio/#/"+s.tx.id+"?theme=dark-blue&hideToolbar=true"),f=async()=>{if(!s.tx||s.tx.data?.size==="0")return;const v=X(s.tx.tags);if(!v["Bundle-Version"]){if(s.tx.data?.type==="application/x.arweave-manifest+json"||s.tx.data?.type==="text/html"||s.tx.data?.type==="application/pdf")return e.handler={is:"iframe",attrs:{src:r.value,class:["hover"]},containerAttrs:{class:["iframe-container"]}};if(s.tx.data?.type?.split("/")[0]==="video")return e.handler={is:"iframe",attrs:{src:r.value},containerAttrs:{class:["iframe-container"]}};if(s.tx.data?.size>104857600&&!e.intent)return e.handler="intent";if(s.tx.data?.type?.split("/")[0]==="image")return e.handler={is:W(ie),attrs:{src:r.value},containerAttrs:{class:["img-container"]}};if(v["App-Name"]==="SmartWeaveContract"||v["App-Name"]==="SmartWeaveContractSource")return e.handler={is:"iframe",attrs:{src:u.value},containerAttrs:{class:["iframe-container"]}};e.handler="raw";try{if(e.payload=await $.transactions.getData(s.tx.id,{decode:!0,string:!0}),e.payload[0]==="{")try{e.payload=JSON.stringify(JSON.parse(e.payload),null,2),e.handler="json"}catch{}}catch{}}};return j(()=>s.tx.id,()=>{e.handler=void 0,e.payload=void 0,e.loaded=!1,e.intent=!1,f()},{immediate:!0}),j(()=>e.intent,()=>{e.intent&&f()}),(v,l)=>t(e).handler==="intent"?(n(),o("div",{key:0,onClick:l[0]||(l[0]=h=>t(e).intent=!0),class:"selector data-container box",style:{display:"flex","justify-content":"center","padding-top":"5em"}},[m(Q,{icon:t(se)},{default:x(()=>[le]),_:1},8,["icon"])])):t(e).handler==="json"||t(e).handler==="raw"?(n(),o("div",de,[a("pre",ce,y(t(e).payload),1)])):t(e).handler?V((n(),o("div",R({key:2},t(e).handler.containerAttrs,{class:"selector box"}),[(n(),b(U(t(e).handler.is),R(t(e).handler.attrs,{onLoad:l[1]||(l[1]=h=>t(e).loaded=!0)}),null,16))],16)),[[O,t(e).loaded]]):i("",!0)}});var _e=C(ue,[["__scopeId","data-v-8b857f30"]]);const g=c=>(J("data-v-1a151d04"),c=c(),G(),c),ve={class:"meta flex-column"},he={class:"box",style:{padding:"0"}},pe=g(()=>a("div",{class:"spacer"},null,-1)),me={key:1,class:"spacer"},fe={key:2,class:"divider"},ye=g(()=>a("div",{class:"spacer"},null,-1)),ge=g(()=>a("h3",null,"Transaction",-1)),xe=k("ID:\xA0"),ke={key:0},we=["href"],be={key:1},Se=["href"],Ie={key:3},Ae=g(()=>a("h3",null,"Pending",-1)),je={key:0},Ce={key:4},De=g(()=>a("h3",null,"Block",-1)),Le=k("ID:\xA0"),Re={key:0,class:"secondary-text"},Te=g(()=>a("h3",null,"Data",-1)),$e=k(" Fee: "),ze={key:5},Be=g(()=>a("h3",null,"Tags",-1)),Ne=[Be],Pe={key:0,style:{background:"var(--background2)","border-radius":"var(--border-radius)"}},Fe=A({props:{txId:null},setup(c){const s=c,e=Y(T(s,"txId")),r=d(()=>e.value.owner&&z(e.value.owner.address)),u=d(()=>e.value.recipient&&z(e.value.recipient)),f=d(()=>e.value.data?.size!=0),v=d(()=>!e.value.block),l=d(()=>{if(!e.value.block)return"";const p=new Date(e.value.block.timestamp*1e3);return p.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})+" "+p.toLocaleTimeString()}),h=w(null),_=d(()=>{if(!e.value.tags)return;const p=[];for(const I of e.value.tags)p.push({items:[{name:"",value:I.name,attrs:{disabled:!0}},{name:"",value:I.value,attrs:{disabled:!0}}]});return p});j(()=>s.txId,async()=>{$.transactions.getStatus(s.txId).then(p=>h.value=p.status).catch(()=>h.value="Not Found")},{immediate:!0});const D=T(q.breakpoints,"verticalContent");return(p,I)=>t(e)?(n(),b(ae,{key:0},E({left:x(()=>[a("div",ve,[a("div",he,[a("div",{class:"box-padding flex-column",style:H([t(_).length&&"padding-bottom: 0"])},[m(K,{tx:t(e),options:{half:!0}},null,8,["tx"]),pe,t(e).recipient?(n(),b(P,{key:0,wallet:t(u)},null,8,["wallet"])):i("",!0),t(e).recipient?(n(),o("div",me)):i("",!0),t(e).recipient?(n(),o("div",fe)):i("",!0),m(P,{wallet:t(r)},null,8,["wallet"]),ye,a("div",null,[ge,m(B,{address:t(e).id},{default:x(()=>[xe]),_:1},8,["address"]),t(f)?(n(),o("div",ke,[a("a",{href:t(S).gatewayURL+t(e).id,target:"_blank"},y(t(S).gatewayURLObject?.hostname),9,we)])):i("",!0),t(e).data?.type==="application/x.arweave-manifest+json"?(n(),o("div",be,[a("a",{href:t(S).gatewayURL+"tx/"+t(e).id+"/data.json",target:"_blank"},"Manifest",8,Se)])):i("",!0)]),t(v)?(n(),o("div",Ie,[Ae,h.value?(n(),o("div",je,"Status: "+y(h.value),1)):i("",!0)])):(n(),o("div",Ce,[De,m(B,{address:t(e).block.id},{default:x(()=>[Le]),_:1},8,["address"]),a("div",null,[k(" Height: "+y(t(e).block.height)+" ",1),t(N)?.height?(n(),o("span",Re,"/ "+y(t(N).height),1)):i("",!0)]),a("div",null,y(t(l)),1)])),a("div",null,[Te,a("div",null,"Size: "+y(t(Z)(t(e).data.size)),1),a("div",null,[$e,m(ee,{ar:t(e).fee.ar},null,8,["ar"])])]),t(_).length?(n(),o("div",ze,Ne)):i("",!0)],4),t(_).length?(n(),o("div",Pe,[m(te,{schema:t(_),disabled:""},null,8,["schema"])])):i("",!0)])])]),_:2},[t(f)?{name:"right",fn:x(()=>[m(_e,{tx:t(e),class:L({inline:!t(D)})},null,8,["tx","class"])])}:void 0]),1024)):i("",!0)}});var Ee=C(Fe,[["__scopeId","data-v-1a151d04"]]);export{Ee as default};
//# sourceMappingURL=Tx.04cca305.js.map
