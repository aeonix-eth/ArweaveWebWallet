import{_ as z,d as G,r as o,c as P,o as t,g as p,b as e,q as d,aj as L,a as i,w as c,u as _,B as m,h as w,t as k,x,O as U,a9 as F,ab as B,ak as K,$ as D,Z as q,al as R,V as Y,W as Z,am as H,an as J,ao as E,ap as b,aq as Q,ar as X,as as T,at as ee,au as ae,D as te,av as se,C as le,aw as ne,E as oe}from"./index.d5280c15.js";const h=f=>(Y("data-v-a822d2fe"),f=f(),Z(),f),de={class:"add-wallet flex-column"},ie={class:"card"},ce=h(()=>e("h2",{style:{display:"flex","justify-content":"space-between"}},[e("span",null,"Passphrase"),e("span",null,"Keyfile")],-1)),re={class:"flex-column"},ue=h(()=>e("div",null,null,-1)),pe=w("Create new wallet"),me=w("Import passphrase"),he={key:0,style:{"text-align":"center"}},ve=h(()=>e("p",null,"This passphrase was not generated by arweave.app",-1)),_e=h(()=>e("p",null,"Make sure that it was entered correctly, without typing errors or extra characters. You can still import the wallet and use it normally",-1)),we=[ve,_e],fe={class:"card"},ye={class:"flex-row",style:{"align-items":"center"}},ge=h(()=>e("span",null,"Watch public address",-1)),ke={class:"flex-row",style:{"align-items":"center"}},xe={class:"flex-column"},be={class:"flex-row"},Ce={class:"flex-row"},Ie={key:0,class:"popup"},We={class:"card flex-column",style:{"min-width":"300px"}},Ae={class:"flex-row",style:{"justify-content":"space-between","align-items":"center"}},Se=h(()=>e("h2",null,"Settings",-1)),Ve=G({setup(f){const y=H(),l=o(""),C=o(""),v=o(void 0),W=P(()=>l.value.trim().split(/\s+/g).length>=12),g=o(!1),A=o(!1),r=o(null),$=async()=>{g.value=!0,l.value=await J();const n=E(l.value);setTimeout(async()=>r.value=await n,1e4),b.account("Account Create")},j=()=>{!r.value||y.push({name:"EditWallet",query:{wallet:r.value.id}})},S=async()=>{A.value=!0;const n=E(l.value);v.value={icon:"loader",message:"importing"},y.push({name:"EditWallet",query:{wallet:(await n).id}}),b.account("Account Import")},M=async()=>{if(await Q(l.value))return S();v.value={messageType:"invalid",actions:[{name:"Back",run:()=>v.value=void 0},{name:"Import",run:()=>S()}]}},N=async n=>{try{const s=await T(void 0,n);y.push({name:"EditWallet",query:{wallet:s.id}}),b.account("Account Ledger")}catch(s){console.error(s),oe.error(s.message||s)}},O={icon:X,run:async()=>{const n=await T(C.value);y.push({name:"EditWallet",query:{wallet:n.id}}),b.account("Account Watch")}},I=o(-1);return P(()=>ee(!1)),(n,s)=>(t(),p("div",de,[e("div",ie,[ce,e("div",re,[d(L,{modelValue:l.value,"onUpdate:modelValue":s[0]||(s[0]=a=>l.value=a),type:"keyfile",disabled:g.value,placeholder:"Type passphrase or import keyfile",autocapitalize:"none"},null,8,["modelValue","disabled"]),ue,!g.value&&!l.value.length?(t(),i(m,{key:0,onClick:$,disabled:l.value.length&&!_(W),class:"main",glow:!0},{default:c(()=>[pe]),_:1},8,["disabled"])):g.value?(t(),i(m,{key:1,disabled:r.value==null,onClick:j,icon:r.value==null?"loader":"",class:"main",glow:!0},{default:c(()=>[w(k(r.value==null?"Generating, write down the passphrase":"Passphrase saved? Click here to proceed"),1)]),_:1},8,["disabled","icon"])):(t(),i(m,{key:2,disabled:!_(W)||A.value,onClick:M,class:"main",glow:!0},{default:c(()=>[me]),_:1},8,["disabled"]))]),d(U,{options:v.value},{default:c(()=>[v.value.messageType==="invalid"?(t(),p("div",he,we)):x("",!0)]),_:1},8,["options"])]),e("div",fe,[e("h2",ye,[d(B,{icon:_(F)},null,8,["icon"]),ge]),d(K,{modelValue:C.value,"onUpdate:modelValue":s[1]||(s[1]=a=>C.value=a),submit:O},null,8,["modelValue"])]),(t(!0),p(D,null,q(_(R),(a,V)=>(t(),p("div",{class:"card",key:a.metadata.name},[e("h2",ke,[d(B,{icon:a.metadata.icon},null,8,["icon"]),e("span",null,k(a.metadata.name),1)]),e("div",xe,[e("div",be,[d(m,{disabled:a.metadata.disabled,onClick:u=>N(a),class:"main",glow:!0},{default:c(()=>[w(k(a.metadata.disabled?`${a.metadata.name} not supported for this browser`:`Connect with ${a.metadata.name}`),1)]),_:2},1032,["disabled","onClick"]),a.metadata.componentSettings?(t(),i(m,{key:0,icon:_(ae),square:!0,onClick:u=>I.value=V},null,8,["icon","onClick"])):x("",!0)]),e("div",Ce,[(t(!0),p(D,null,q(a.metadata.actions,u=>(t(),i(m,te({key:u.name},u),{default:c(()=>[w(k(u.name),1)]),_:2},1040))),128))]),a.metadata.componentSettings?(t(),i(ne,{key:0,background:!0},{default:c(()=>[I.value===V?(t(),p("div",Ie,[e("div",We,[e("div",Ae,[Se,d(se,{onExit:s[2]||(s[2]=u=>I.value=-1)})]),(t(),i(le(a.metadata.componentSettings)))])])):x("",!0)]),_:2},1024)):x("",!0)])]))),128))]))}});var Be=z(Ve,[["__scopeId","data-v-a822d2fe"]]);export{Be as default};
//# sourceMappingURL=AddWallet.28a392d7.js.map
