import{Y as B,d as A,e as l,o as n,y as w,x as m,a as s,Q as W,u as e,r as J,w as R,c as r,s as u,X as _,C as Q,D as G,a9 as P,a2 as M,E as i,a7 as g,af as C,k as O,ak as X,p as Y,a3 as K,a4 as Z}from"./vendor.284ce6b0.js";import{_ as j,a as ee,A as L,B as te,u as ae,L as se,b as ne,T as $,c as q,d as F,I as oe,e as D,n as T,h as re,f as ie,g as le,F as de,i as V}from"./index.67dff84e.js";import{I as ce}from"./download.8d2831c7.js";import{P as U}from"./ProfilePreview.80bdc2b1.js";import{O as ue}from"./OverlayPrompt.a3615b7d.js";const _e={class:"frame-scroller"},ve=["src"],he=B({props:["src"],emits:["load"],setup(v,{emit:o}){const a=A(null),t=A(null),d=A(null),x=f=>{console.log(f),t.value=f.contentRect.width/f.contentRect.height},h=()=>{d.value=a.value&&a.value.naturalWidth/a.value.naturalHeight,o("load")},c=l(()=>t.value&&d.value&&t.value<d.value),k=l(()=>t.value&&d.value&&t.value>=d.value);return(f,z)=>(n(),w(ee,{observe:"resize",onResize:x,class:W(["img",{x:e(c),y:e(k)}])},{default:m(()=>[s("div",_e,[s("img",{ref_key:"imgRef",ref:a,src:v.src,onLoad:h},null,40,ve)])]),_:1},8,["class"]))}});var pe=j(he,[["__scopeId","data-v-3baf12d9"]]);const me=g("Load large file"),fe={key:"json",class:"selector data-container box"},ye={class:"raw"},xe=B({props:["tx"],setup(v){const o=v,a=J({handler:void 0,payload:void 0,loaded:!1,intent:!1}),t=l(()=>L.gatewayURL+o.tx.id),d=l(()=>"https://arcode.studio/#/"+o.tx.id+"?theme=dark-blue&hideToolbar=true"),x=async()=>{if(!o.tx||o.tx.data?.size==="0")return;const h=ae(o.tx.tags);if(h["Bundle-Version"])return a.loaded=!0,a.handler={is:C(se),attrs:{query:ne({bundledIn:o.tx.id}),component:C($),componentProps:{options:{space:!0}}},containerAttrs:{class:["data-container"]}};if(o.tx.data?.type==="application/x.arweave-manifest+json"||o.tx.data?.type==="text/html"||o.tx.data?.type==="application/pdf")return a.handler={is:"iframe",attrs:{src:t.value,class:["hover"]},containerAttrs:{class:["iframe-container"]}};if(o.tx.data?.type?.split("/")[0]==="video")return a.handler={is:"iframe",attrs:{src:t.value},containerAttrs:{class:["iframe-container"]}};if(o.tx.data?.size>104857600&&!a.intent)return a.handler="intent";if(o.tx.data?.type?.split("/")[0]==="image")return a.handler={is:C(pe),attrs:{src:t.value},containerAttrs:{class:["img-container"]}};if(h["App-Name"]==="SmartWeaveContract"||h["App-Name"]==="SmartWeaveContractSource")return a.handler={is:"iframe",attrs:{src:d.value},containerAttrs:{class:["iframe-container"]}};a.handler="raw";try{if(a.payload=(await q.api.get(o.tx.id)).data,a.payload[0]==="{")try{a.payload=JSON.stringify(JSON.parse(a.payload),null,2),a.handler="json"}catch{}}catch{}};return R(()=>o.tx.id,()=>{a.handler=void 0,a.payload=void 0,a.loaded=!1,a.intent=!1,x()},{immediate:!0}),R(()=>a.intent,()=>{a.intent&&x()}),(h,c)=>e(a).handler==="intent"?(n(),r("div",{key:0,onClick:c[0]||(c[0]=k=>e(a).intent=!0),class:"selector data-container box",style:{display:"flex","justify-content":"center","padding-top":"5em"}},[u(te,{icon:e(ce)},{default:m(()=>[me]),_:1},8,["icon"])])):e(a).handler==="json"||e(a).handler==="raw"?(n(),r("div",fe,[s("pre",ye,_(e(a).payload),1)])):e(a).handler?Q((n(),r("div",P({key:2},e(a).handler.containerAttrs,{class:"selector box"}),[(n(),w(M(e(a).handler.is),P(e(a).handler.attrs,{onLoad:c[1]||(c[1]=k=>e(a).loaded=!0)}),null,16))],16)),[[G,e(a).loaded]]):i("",!0)}});var ge=j(xe,[["__scopeId","data-v-3a57ebc0"]]);const y=v=>(K("data-v-04fdfe12"),v=v(),Z(),v),ke={key:0,style:{position:"relative",width:"100%","min-height":"var(--current-vh)",color:"var(--element-secondary)"}},be={key:0},we={key:1},Ie={class:"meta flex-column"},Se={class:"box",style:{padding:"0"}},Ae={key:1,class:"spacer"},Le={key:2,class:"divider"},Ce=y(()=>s("h3",null,"Transaction",-1)),De={class:"flex-column"},Te={key:0},Re=["href"],$e={key:1},Be=["href"],je={class:"secondary-text"},ze=g("ID:\xA0"),Ne={key:3},Pe=y(()=>s("h3",null,"Bundle",-1)),Oe={class:"flex-column"},Fe={class:"secondary-text"},Ve=g("ID:\xA0"),Ue={key:4},We=y(()=>s("h3",null,"Pending",-1)),qe={key:0},Ee={key:5},He=y(()=>s("h3",null,"Block",-1)),Je={key:0,class:"secondary-text"},Qe=y(()=>s("div",{class:"spacer"},null,-1)),Ge={class:"secondary-text"},Me=g("ID:\xA0"),Xe=y(()=>s("h3",null,"Data",-1)),Ye=g(" Fee: "),Ke={key:6},Ze=y(()=>s("h3",null,"Tags",-1)),et=[Ze],tt={key:0,style:{background:"var(--background2)","border-radius":"var(--border-radius)"}},at=B({props:{txId:null},setup(v){const o=v,a=F(O(o,"txId")),t=a.state,d=a.queryStatus,x=l(()=>t.value?.bundledIn?.id),h=F(x).state,c=l(()=>t.value?.owner&&V(t.value?.owner.address)),k=l(()=>t.value?.recipient&&V(t.value?.recipient)),f=l(()=>t.value?.data?.size!=0),z=l(()=>!t.value?.block),E=l(()=>{if(!t.value?.block)return"";const p=new Date(t.value?.block.timestamp*1e3);return p.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})+" "+p.toLocaleTimeString()}),I=A(null),N=l(()=>T.value?.height-t.value?.block?.height+1),S=l(()=>{if(!t.value?.tags)return;const p=[];for(const b of t.value?.tags)p.push({items:[{name:"",value:b.name,attrs:{disabled:!0}},{name:"",value:b.value,attrs:{disabled:!0}}]});return p});R(()=>o.txId,async()=>{if(t.value?.block)return;const p=t.value?.bundledIn?.id||o.txId;!p||q.transactions.getStatus(p).then(b=>I.value=b.status).catch(()=>I.value="Not Found")},{immediate:!0});const H=O(oe.breakpoints,"verticalContent");return(p,b)=>e(t)?(n(),w(de,{key:1},X({left:m(()=>[s("div",Ie,[s("div",Se,[s("div",{class:"box-padding flex-column",style:Y([e(S).length&&"padding-bottom: 0"])},[u($,{tx:e(t),options:{half:!0}},null,8,["tx"]),e(t).recipient?(n(),w(U,{key:0,wallet:e(k)},null,8,["wallet"])):i("",!0),e(t).recipient?(n(),r("div",Ae)):i("",!0),e(t).recipient?(n(),r("div",Le)):i("",!0),u(U,{wallet:e(c)},null,8,["wallet"]),s("div",null,[Ce,s("div",De,[s("div",null,[e(f)?(n(),r("div",Te,[s("a",{href:e(L).gatewayURL+e(t).id,target:"_blank"},_(e(L).gatewayURLObject?.hostname),9,Re)])):i("",!0),e(t).data?.type==="application/x.arweave-manifest+json"?(n(),r("div",$e,[s("a",{href:e(L).gatewayURL+"tx/"+e(t).id+"/data.json",target:"_blank"},"Manifest",8,Be)])):i("",!0)]),s("div",je,[u(D,{address:e(t).id},{default:m(()=>[ze]),_:1},8,["address"])])])]),e(t).bundledIn?.id?(n(),r("div",Ne,[Pe,s("div",Oe,[e(h)?(n(),w($,{key:0,tx:e(h),options:{space:!0}},null,8,["tx"])):i("",!0),s("div",Fe,[u(D,{address:e(t).bundledIn?.id},{default:m(()=>[Ve]),_:1},8,["address"])])])])):i("",!0),e(z)?(n(),r("div",Ue,[We,I.value?(n(),r("div",qe,"Status: "+_(I.value),1)):i("",!0)])):(n(),r("div",Ee,[He,s("div",null,[g(" Height: "+_(e(t).block.height)+" ",1),e(T)?.height?(n(),r("span",Je,"/ "+_(e(T).height)+" ("+_(e(N))+" confirmation"+_(e(N)>1?"s":"")+")",1)):i("",!0)]),s("div",null,_(e(E)),1),Qe,s("div",Ge,[u(D,{address:e(t).block.id},{default:m(()=>[Me]),_:1},8,["address"])])])),s("div",null,[Xe,s("div",null,"Size: "+_(e(re)(e(t).data.size)),1),s("div",null,[Ye,u(ie,{ar:e(t).fee.ar},null,8,["ar"])])]),e(S).length?(n(),r("div",Ke,et)):i("",!0)],4),e(S).length?(n(),r("div",tt,[u(le,{schema:e(S),disabled:""},null,8,["schema"])])):i("",!0)])])]),_:2},[e(t)&&e(f)?{name:"right",fn:m(()=>[u(ge,{tx:e(t),class:W({inline:!e(H)})},null,8,["tx","class"])])}:void 0]),1024)):(n(),r("div",ke,[u(ue,{options:{icon:"loader"},class:"box"},{default:m(()=>[e(d).error?(n(),r("h2",be,_(e(d).error),1)):(n(),r("h2",we,"Loading"))]),_:1})]))}});var lt=j(at,[["__scopeId","data-v-04fdfe12"]]);export{lt as default};
//# sourceMappingURL=Tx.70b15137.js.map
