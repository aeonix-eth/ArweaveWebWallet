import{d as q,o as _,h as g,b as s,i,a5 as de,a6 as ve,e as Q,c,a7 as _e,E as he,r as h,a as L,w as k,u as t,a8 as Y,t as y,a9 as ge,l as $,k as Z,_ as X,I as P,$ as ee,aa as O,ab as pe,M as b,K as me,ac as z,ad as te,g as B,ae as J,af as K,ag as fe,z as j,T as ae,ah as ye,Y as se,Z as le,ai as xe,C as m,aj as be,ak as ke,al as we,H as $e,a2 as Ie,a1 as Ce,B as Be,j as D,am as qe,A as G,n as Te,an as Se,W as Qe,ao as Ae,ap as M}from"./index-e0b8a63c.js";const Re={class:"profile-card flex-row row",style:{"align-items":"center"}},Ne={class:"address-icon-margin"},ze=q({__name:"ProfileCard",props:{wallet:null},setup(l){return(v,r)=>(_(),g("div",Re,[s("div",Ne,[i(de,{address:l.wallet.key},null,8,["address"])]),i(ve,{wallet:l.wallet},null,8,["wallet"])]))}});const Le=Q(ze,[["__scopeId","data-v-ba12ef0f"]]),Pe={class:"flex-row",style:{"align-items":"center","justify-content":"space-between","flex-wrap":"wrap"}},He={class:"flex-row",style:{"align-items":"center"}},Ve={key:0,style:{"text-align":"end",flex:"1 1 auto"}},Ee=q({__name:"BlockCardHeader",props:{block:null,active:{type:Boolean}},setup(l){const v=l,r=c(()=>v.block?.node?v.block.node:v.block),u=_e({name:"single block header",awaitEffect:()=>e.value,query:async()=>r.value&&he.blocks.get(r.value.id),processResult:a=>typeof a=="string"?JSON.parse(a):a,seconds:10,completed:a=>a}).state,e=h(!1);return(a,n)=>(_(),L(X,{onIntersecting:n[0]||(n[0]=I=>e.value=!0)},{default:k(()=>[s("div",Pe,[s("h2",He,[i(Y,{icon:t(P).cube,class:"cube",glow:l.active},null,8,["icon","glow"]),s("span",null,"Block "+y(t(r).height),1)]),i(Z,null,{default:k(()=>[t(u)?(_(),g("div",Ve,[s("div",null,y(t(u).txs?.length)+" Transactions | "+y(t(ee)(t(u).block_size)),1),s("div",null,[i(ge,{timestamp:t(u).timestamp*1e3},null,8,["timestamp"])])])):$("",!0)]),_:1})])]),_:1}))}});const ne=Q(Ee,[["__scopeId","data-v-05e41f21"]]),H=l=>(se("data-v-b671bfc7"),l=l(),le(),l),Ue={class:"global-search"},Me={class:"input-container flex-row"},je={key:0,class:"results input-box"},De={class:"query-list input-box flex-column"},Ge={key:0,class:"flex-column"},We=H(()=>s("div",{class:"secondary-text"},"User",-1)),Fe=H(()=>s("div",null,null,-1)),Oe={key:1,class:"flex-column"},Je=H(()=>s("div",{class:"secondary-text"},"Block",-1)),Ke={class:"flex-column"},Ye=H(()=>s("div",{class:"secondary-text"},"Transactions",-1)),Ze=q({__name:"GlobalSearch",emits:["height"],setup(l,{emit:v}){const r=ye(),u=xe(),e=O(typeof r.query.q=="string"?r.query.q:r.query.q?.[0]??"",1e3),a=O("",1e3),n=h(!1),I=c(()=>pe.metadata.isAddress(e.value)),T=c(()=>e.value.match(/^[a-z0-9_-]{64}$/i)),S=c(()=>{if(!b.value)return;const d=(Number.isInteger(parseFloat(e.value))||void 0)&&parseInt(e.value);return d!=null&&d>=0&&d<=b.value.height}),V=c(()=>({run:()=>{},icon:!a.value.length&&P.search,disabled:!0})),o=c(()=>I.value&&W?.state?.value?.length&&me(e.value)),f=()=>[m(c(()=>({owners:[e.value]})),"global search user"),m(c(()=>({recipients:[e.value]})),"global search user")],x=()=>[m(c(()=>({ids:[e.value]})),"global search id")],oe=()=>a.value?[m(c(()=>({tags:[{name:e.value,values:[a.value]}]})))]:[m(c(()=>({tags:[{name:"App-Name",values:["arweave-id"]},{name:"Name",values:[e.value]}]}))),m(c(()=>({tags:[{name:"App-Name",values:[e.value]}]}))),m(c(()=>e.value.toLowerCase()!==e.value?{tags:[{name:"App-Name",values:[e.value.toLowerCase()]}]}:void 0)),m(c(()=>({tags:[{name:"app",values:[e.value]}]}))),m(c(()=>e.value.toLowerCase()!==e.value?{tags:[{name:"app",values:[e.value.toLowerCase()]}]}:void 0))],ce=()=>C.value==="id"?{ids:[e.value]}:C.value==="height"?{height:{min:+e.value,max:+e.value}}:void 0,A=h([]),W=z(A),R=h([]),ue=z(R),N=h([]),ie=z(N),C=h(void 0),E=te(c(ce)),U=c(()=>E.state.value?.[0]);B(()=>[e.value,a.value],(d,p)=>{n.value=!1,d[0]!=null&&r.query.q!==d[0]&&(d[0]?u.replace({query:{q:d[0]}}):u.replace({query:{}})),!d[0]&&p?.[0]&&(a.value=""),I.value?(A.value.length===0&&(A.value=f()),R.value.length===0&&(R.value=x()),N.value=[]):(A.value=[],R.value=[],(N.value.length===0||!!d[1]!=!!p?.[1])&&(N.value=oe()))},{immediate:!0}),B(()=>[S.value,T.value],(d,p)=>{d.some(w=>w)&&!U.value&&E.fetchQuery.query(),!d.some(w=>w)&&C.value&&(C.value=void 0,v("height",void 0)),S.value&&!p?.[0]&&(C.value="height"),T.value&&!p?.[1]&&(C.value="id")});const re=z([ue,W,ie]),F=h(0);return B(e,d=>F.value=d.length>0?1:-1,{immediate:!0,flush:"post"}),(d,p)=>(_(),g("div",Ue,[s("div",Me,[i(K,{modelValue:t(e),"onUpdate:modelValue":p[0]||(p[0]=w=>J(e)?e.value=w:null),actions:[t(V)],placeholder:"Search - address, transaction id, username, app, tag"},null,8,["modelValue","actions"]),t(e)&&!t(I)?(_(),L(K,{key:0,modelValue:t(a),"onUpdate:modelValue":p[1]||(p[1]=w=>J(a)?a.value=w:null),icon:t(P).label,placeholder:"Tag value"},null,8,["modelValue","icon"])):$("",!0)]),i(Z,{axis:"y",vector:F.value},{default:k(()=>[t(e).length&&!n.value?(_(),g("div",je,[s("div",De,[t(o)?(_(),g("div",Ge,[We,i(Le,{wallet:t(o),compact:"true"},null,8,["wallet"]),Fe])):$("",!0),t(T)||t(S)?(_(),g("div",Oe,[Je,i(fe,{disabled:!t(U),run:()=>{v("height",t(U)?.node.height),n.value=!0}},{default:k(()=>[i(j,{query:t(E),itemName:"block",component:ne},null,8,["query"])]),_:1},8,["disabled","run"])])):$("",!0),s("div",Ke,[Ye,i(j,{query:t(re),component:ae,"component-props":{options:{currentAddress:t(o)?.key}}},null,8,["query","component-props"])])])])):$("",!0)]),_:1},8,["vector"])]))}});const Xe=Q(Ze,[["__scopeId","data-v-b671bfc7"]]),et={class:"container-scroll"},tt=q({__name:"BlockCard",props:{block:null,active:{type:Boolean}},setup(l){const v=l,r=h(!1),u=m({block:{min:v.block.node.height,max:v.block.node.height}});return(e,a)=>(_(),L(we,{class:"block-card"},{header:k(()=>[i(ne,be(ke(v)),null,16)]),default:k(()=>[s("div",et,[i(X,{onIntersecting:a[0]||(a[0]=n=>r.value=!0)}),r.value?(_(),L(j,{key:0,query:t(u),component:ae,componentProps:{options:{space:!0}}},null,8,["query"])):$("",!0)])]),_:1}))}});const at=Q(tt,[["__scopeId","data-v-371ea9da"]]),st={class:"block-carousel"},lt={key:0,class:"block fade-list-item box flex-column",style:{"align-items":"center","justify-content":"center"}},nt=q({__name:"BlockCarousel",props:{height:null,onHeight:null,goTo:null},emits:["height"],setup(l,{emit:v}){const r=l,u=h(void 0),e=h(void 0),a=te({},$e(r,"goTo")),n=c(()=>a.state.value&&[...a.state.value].reverse());B(()=>a.status.index,o=>{if(o==null)return u.value!=null&&(u.value=void 0);n.value?.length&&(u.value=n.value.length-1-o)},{immediate:!0,flush:"post"}),B(e,o=>o!=null&&n.value?.[o]&&v("height",n.value?.[o].node.height)),B(n,(o,f)=>{o?.length&&r.goTo==null&&(!f?.length&&o.length&&(u.value=o.length-1),f&&f.length!==o.length&&e.value===f.length-1&&setTimeout(()=>u.value=o.length-1,1e3))});const I=c(()=>b.value?.network?.includes("arlocal")),T=async()=>{await fetch(G.gatewayURL+"mine"),await a.updateQuery.getState(!0),setTimeout(()=>u.value=n.value.length-1,1e3)},S=o=>o.isIntersecting&&a?.fetchQuery.query(),V=o=>a.refreshSwitch.value=o.isIntersecting;return(o,f)=>(_(),g("div",st,[i(qe,{index:u.value,onIndex:f[0]||(f[0]=x=>e.value=x),options:{align:"center",overscroll:!0,immediate:!0},onStart:S,onEnd:V,class:"block-carousel"},{default:k(()=>[(_(!0),g(Ie,null,Ce(t(n),x=>(_(),g("div",{key:x.node.id,class:Te(["block fade-list-item",{active:l.height&&l.height==x.node.height}])},[i(at,{block:x,active:l.height&&l.height==x.node.height,class:"box"},null,8,["block","active"])],2))),128)),t(I)&&t(n)?.length?(_(),g("div",lt,[i(Y,{icon:t(P).cube,style:{"font-size":"4em",opacity:"0.8"}},null,8,["icon"]),i(Be,{onClick:T},{default:k(()=>[D("Mine new block")]),_:1})])):$("",!0)]),_:1},8,["index"])]))}});const ot=l=>(se("data-v-8bf68310"),l=l(),le(),l),ct={class:"settings"},ut={class:"container"},it={class:"column"},rt={class:"group"},dt={style:{"text-transform":"capitalize"}},vt={class:"flex-column"},_t={class:"group"},ht=ot(()=>s("h2",null,"Weave State",-1)),gt={class:"flex-column"},pt=q({__name:"Explore",setup(l){const v=c(()=>G.gatewayURL&&new URL(G.gatewayURL).hostname),r=c(()=>{const e=b.value?.blocks,a=b.value?.height;if(e==null||a==null)return"";const n=100*Math.min(e/Math.max(a-1,1),1);return n===100?"":` (${Se(n,2)}% known)`}),u=h(void 0);return(e,a)=>(_(),g("div",ct,[s("div",ut,[s("div",it,[i(Xe,{onHeight:a[0]||(a[0]=n=>u.value=n),style:{"z-index":"2"}}),s("div",rt,[s("h2",null,[s("span",dt,y(t(v)),1),D(" Gateway State")]),s("div",vt,[s("div",null,"Peers: "+y(t(b)?.peers??"..."),1),s("div",null,"Pending Transactions: "+y(t(Ae)?.length??"..."),1),s("div",null,"Network Height: "+y(t(b)?.height??"...")+y(t(r)),1)])]),s("div",_t,[ht,s("div",gt,[s("div",null,"Weave Size: "+y(t(M)?.weave_size&&t(ee)(t(M)?.weave_size)||"..."),1),s("div",null,[D("Endowment Pool: "),i(Qe,{winston:t(M)?.reward_pool},null,8,["winston"])])])])])]),i(nt,{height:t(b)?.height,goTo:u.value},null,8,["height","goTo"])]))}});const ft=Q(pt,[["__scopeId","data-v-8bf68310"]]);export{ft as default};
//# sourceMappingURL=Explore-5f2fa435.js.map
