import{W as j,a0 as F,d as p,r as L,e as M,c as f,a as s,q as w,x as m,s as i,u as o,T as O,F as I,l as W,a1 as D,a2 as G,o as d,a5 as c,V as v,D as P}from"./vendor.241c16ad.js";import{_ as J,J as K,L as R,B as _,K as U,M as $,N as V,O as z,P as H,y as Q,Q as X,m as Y,R as Z,S as ee}from"./index.669536e6.js";const g=h=>(D("data-v-312a9226"),h=h(),G(),h),ae={class:"add-wallet flex-column"},se={class:"card"},te=g(()=>s("h2",{style:{display:"flex","justify-content":"space-between"}},[s("span",null,"Passphrase"),s("span",null,"Key file")],-1)),le={class:"flex-column"},ne=g(()=>s("div",null,null,-1)),oe=c("Create new wallet"),de=c("Import passphrase"),ie={style:{flex:"1 1 auto",display:"flex","flex-direction":"column","align-items":"center","justify-content":"space-evenly","margin-bottom":"var(--spacing)"}},ce={class:"actions-container flex-row"},re={class:"card"},ue=g(()=>s("h2",null,"Hardware",-1)),pe={class:"card"},me=g(()=>s("h2",null,"Address Only",-1)),ve=j({setup(h){const r=F(),n=p(""),k=p(""),e=L({}),x=M(()=>n.value.trim().split(/\s+/g).length>=12),y=p(!1),b=p(!1),u=p(null),A=async()=>{y.value=!0,n.value=await $();const t=V(n.value);setTimeout(async()=>u.value=await t,1e4)},B=()=>{r.push({name:"EditWallet",query:{wallet:u.value}})},C=async()=>{b.value=!0;const t=V(n.value);e.enabled=!0,e.icon="loader",e.message="Importing",e.actions=[],r.push({name:"EditWallet",query:{wallet:await t}})},S=async()=>{if(await z(n.value))return C();e.enabled=!0,e.icon="",e.message="This passphrase is not valid, do you want to import it anyway?",e.actions=[{name:"Back",action:()=>e.enabled=!1},{name:"Import Passphrase",action:()=>C()}]},q=async t=>{if(!t)return;const l=await H(JSON.parse(await t[0].text()));r.push({name:"EditWallet",query:{wallet:l}})},E=async t=>{const l=await Z(t);r.push({name:"EditWallet",query:{wallet:l}})},N=[ee],T={icon:Q,run:async()=>{const t=await X(k.value);r.push({name:"EditWallet",query:{wallet:t}})}};return(t,l)=>(d(),f("div",ae,[s("div",se,[te,s("div",le,[w(K,{modelValue:n.value,"onUpdate:modelValue":l[0]||(l[0]=a=>n.value=a),onFiles:q,disabled:y.value,placeholder:"Import passphrase or key file"},null,8,["modelValue","disabled"]),ne,!y.value&&!n.value.length?(d(),m(_,{key:0,onClick:l[1]||(l[1]=a=>A()),disabled:n.value.length&&!o(x),icon:o(R)},{default:i(()=>[oe]),_:1},8,["disabled","icon"])):y.value?(d(),m(_,{key:1,disabled:u.value==null,onClick:B,icon:u.value==null?"loader":""},{default:i(()=>[c(v(u.value==null?"Generating, write down the passphrase":"Passphrase saved? Click here to proceed"),1)]),_:1},8,["disabled","icon"])):(d(),m(_,{key:2,disabled:!o(x)||b.value,onClick:S},{default:i(()=>[de]),_:1},8,["disabled"]))]),w(O,{name:"fade-fast",mode:"in-out"},{default:i(()=>[o(e).enabled?(d(),f("div",{key:o(e).message,class:"overlay flex-column"},[s("div",ie,[o(e).icon?(d(),m(Y,{key:0,icon:o(e).icon,style:{"font-size":"2em"}},null,8,["icon"])):P("",!0),c(" "+v(o(e).message),1)]),s("div",ce,[(d(!0),f(I,null,W(o(e).actions,a=>(d(),m(_,{key:a.name,onClick:a.action},{default:i(()=>[c(v(a.name),1)]),_:2},1032,["onClick"]))),128))])])):P("",!0)]),_:1})]),s("div",re,[ue,(d(),f(I,null,W(N,a=>w(_,{key:a.metadata.name,disabled:!a.metadata.isSupported,onClick:_e=>E(a),icon:a.metadata.icon},{default:i(()=>[c(v(a.metadata.name)+" "+v(a.metadata.isSupported?"":" not supported for this browser"),1)]),_:2},1032,["disabled","onClick","icon"])),64))]),s("div",pe,[me,w(U,{modelValue:k.value,"onUpdate:modelValue":l[2]||(l[2]=a=>k.value=a),actions:[T]},null,8,["modelValue","actions"])])]))}});var fe=J(ve,[["__scopeId","data-v-312a9226"]]);export{fe as default};
//# sourceMappingURL=AddWallet.1e705fda.js.map
