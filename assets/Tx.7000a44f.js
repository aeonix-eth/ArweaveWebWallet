import{d as w,e as g,o as n,x as j,s as S,a,P as z,u as t,r as H,w as N,z as A,C as B,c as d,q as _,V as v,D as h,W as O,t as I,ai as U,a5 as $,F,a1 as q,a2 as J}from"./vendor.864071fb.js";import{_ as L,a as E,A as C,u as G,b as R,c as M,B as K,I as Q,F as X,g as Y,d as T,e as V,f as W,n as P,h as Z,i as ee}from"./index.9da1ddd5.js";const te={class:"frame-scroller"},ae=["src"],se={props:["src"],emits:["load"],setup(u,{emit:o}){const e=w(null),i=w(null),c=w(null),r=s=>{console.log(s),i.value=s.width/s.height},l=()=>{c.value=e.value&&e.value.naturalWidth/e.value.naturalHeight,o("load")},m=g(()=>i.value&&c.value&&i.value<c.value),p=g(()=>i.value&&c.value&&i.value>=c.value);return(s,f)=>(n(),j(E,{observe:"resize",onResize:r,class:z(["img",{x:t(m),y:t(p)}])},{default:S(()=>[a("div",te,[a("img",{ref_key:"imgRef",ref:e,src:u.src,onLoad:l},null,40,ae)])]),_:1},8,["class"]))}};var oe=L(se,[["__scopeId","data-v-597b5404"]]);const ne={key:"iframe",class:"selector iframe-container box"},re=["src"],le={key:"img",class:"selector img-container box"},de={key:"smartweave",class:"selector iframe-container box"},ie=["src"],ce={key:"json",class:"selector data-container box"},ue={class:"raw"},_e={props:["tx"],setup(u){const o=u,e=H({handler:null,loaded:!1,payload:null}),i=g(()=>C.gatewayURL+o.tx.id);return N(()=>o.tx,async()=>{var c,r,l,m,p,s,f,y,k,D;if(!!o.tx&&(e.handler=null,e.loaded=!1,((c=o.tx.data)==null?void 0:c.size)!=="0")){if(G(o.tx.tags)["Bundle-Version"])return;if(((r=o.tx.data)==null?void 0:r.type)==="application/x.arweave-manifest+json"||((l=o.tx.data)==null?void 0:l.type)==="text/html"||((m=o.tx.data)==null?void 0:m.type)==="application/pdf")e.handler="iframe";else if(((s=(p=o.tx.data)==null?void 0:p.type)==null?void 0:s.split("/")[0])==="image")e.handler="img";else if(((y=(f=o.tx.tags)==null?void 0:f.find(b=>b.name==="App-Name"))==null?void 0:y.value)==="SmartWeaveContract"||((D=(k=o.tx.tags)==null?void 0:k.find(b=>b.name==="App-Name"))==null?void 0:D.value)==="SmartWeaveContractSource")e.handler="smartweave";else{e.handler="raw";try{if(e.payload=await R.transactions.getData(o.tx.id,{decode:!0,string:!0}),e.payload[0]==="{")try{e.payload=JSON.stringify(JSON.parse(e.payload),null,2),e.handler="json"}catch{}}catch{}}}},{immediate:!0}),(c,r)=>t(e).handler==="iframe"?A((n(),d("div",ne,[a("iframe",{class:"iframe",src:t(i),onLoad:r[0]||(r[0]=l=>t(e).loaded=!0)},null,40,re)],512)),[[B,t(e).loaded]]):t(e).handler==="img"?A((n(),d("div",le,[_(oe,{src:t(i),onLoad:r[1]||(r[1]=l=>t(e).loaded=!0)},null,8,["src"])],512)),[[B,t(e).loaded]]):t(e).handler==="smartweave"?(n(),d("div",de,[a("iframe",{class:"iframe",src:"https://arcode.studio/#/"+u.tx.id,onLoad:r[2]||(r[2]=l=>t(e).loaded=!0)},null,40,ie)])):t(e).handler==="json"||t(e).handler==="raw"?(n(),d("div",ce,[a("pre",ue,v(t(e).payload),1)])):h("",!0)}};var ve=L(_e,[["__scopeId","data-v-0c4b26b3"]]);const x=u=>(q("data-v-108f08a9"),u=u(),J(),u),he={class:"meta flex-column"},me={class:"card"},pe={class:"row flex-row"},fe={class:"item",style:{"font-size":"1.5em"}},ge={class:"row flex-row"},xe={class:"item"},ye={class:"row flex-row"},ke={class:"item"},we=x(()=>a("h3",null,"Properties",-1)),be={class:"card flex-column"},Se=x(()=>a("h3",null,"ID",-1)),Ie={class:"ellipsis"},$e={key:0},Le=["href"],Ce={key:1},De=["href"],je={key:0},ze=x(()=>a("h3",null,"Pending",-1)),Ne={key:0},Ae={key:1},Be=x(()=>a("h3",null,"Block",-1)),Fe={class:"ellipsis"},Re=x(()=>a("h3",null,"Data",-1)),Te=$(" Fee "),Ve=x(()=>a("h3",null,"Tags",-1)),We={style:{background:"var(--background2)","border-radius":"var(--border-radius)"}},Pe={key:1},He=O({props:{txId:null},setup(u){const o=u,e=M(I(o,"txId")),i=g(()=>{var s;return((s=e.value.data)==null?void 0:s.size)!=0}),c=g(()=>!e.value.block),r=g(()=>{if(!e.value.block)return"";const s=new Date(e.value.block.timestamp*1e3);return s.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})+" "+s.toLocaleTimeString()}),l=w(null);I(K,"currentHeight");const m=g(()=>{if(!e.value.tags)return;const s=[];for(const f of e.value.tags)s.push({items:[{name:"",value:f.name,attrs:{disabled:!0}},{name:"",value:f.value,attrs:{disabled:!0}}]});return s});N(()=>o.txId,async()=>{Y(),R.transactions.getStatus(o.txId).then(s=>l.value=s.status).catch(()=>l.value="Not Found")},{immediate:!0});const p=I(Q.breakpoints,"verticalContent");return(s,f)=>t(e)?(n(),j(X,{key:0},U({left:S(()=>{var y,k;return[a("div",he,[a("div",me,[a("div",pe,[a("div",fe,[_(T,{ar:t(e).quantity.ar},null,8,["ar"])])]),a("div",ge,[a("div",xe,[_(V,{address:t(e).owner.address},null,8,["address"]),_(W,{class:"secondary-text",address:t(e).owner.address},null,8,["address"])])]),a("div",ye,[a("div",ke,[_(V,{address:t(e).recipient},null,8,["address"]),_(W,{class:"secondary-text",address:t(e).recipient},null,8,["address"])])])]),we,a("div",be,[a("div",null,[Se,a("div",Ie,v(t(e).id),1),t(i)?(n(),d("div",$e,[a("a",{href:t(C).gatewayURL+t(e).id,target:"_blank"},"Link",8,Le)])):h("",!0),((y=t(e).data)==null?void 0:y.type)==="application/x.arweave-manifest+json"?(n(),d("div",Ce,[a("a",{href:t(C).gatewayURL+"tx/"+t(e).id+"/data.json",target:"_blank"},"Manifest",8,De)])):h("",!0)]),t(c)?(n(),d("div",je,[ze,l.value?(n(),d("div",Ne,"Status: "+v(l.value),1)):h("",!0)])):(n(),d("div",Ae,[Be,a("div",Fe,v(t(e).block.id),1),a("span",null,[$(v(t(e).block.height)+" ",1),((k=t(P))==null?void 0:k.height)?(n(),d(F,{key:0},[$("/ "+v(t(P).height),1)],64)):h("",!0)]),a("div",null,v(t(r)),1)])),a("div",null,[Re,a("div",null,"Data size "+v(t(Z)(t(e).data.size)),1),a("div",null,[Te,_(T,{ar:t(e).fee.ar},null,8,["ar"])])])]),t(m).length?(n(),d(F,{key:0},[Ve,a("div",We,[_(ee,{schema:t(m),disabled:""},null,8,["schema"])])],64)):h("",!0),t(p)?(n(),d("br",Pe)):h("",!0)])]}),_:2},[t(i)?{name:"right",fn:S(()=>[_(ve,{tx:t(e),class:z({inline:!t(p)})},null,8,["tx","class"])])}:void 0]),1024)):h("",!0)}});var qe=L(He,[["__scopeId","data-v-108f08a9"]]);export{qe as default};
//# sourceMappingURL=Tx.7000a44f.js.map
