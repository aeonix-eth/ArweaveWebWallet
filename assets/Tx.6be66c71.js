import{Y as R,d as A,e as l,o as n,y as w,x as m,a as s,Q as U,u as e,r as H,w as T,c as r,s as u,X as _,C as J,D as G,a9 as z,a2 as M,E as i,a7 as g,af as Q,k as N,ak as X,p as Y,a3 as K,a4 as Z}from"./vendor.284ce6b0.js";import{_ as $,a as ee,A as L,B as te,u as ae,b as W,c as P,I as se,T as O,d as C,n as D,h as ne,e as oe,f as re,F as ie,g as F}from"./index.09b4da7b.js";import{I as le}from"./download.8d2831c7.js";import{P as V}from"./ProfilePreview.7b4a21ac.js";import{O as de}from"./OverlayPrompt.dce24575.js";const ce={class:"frame-scroller"},ue=["src"],_e=R({props:["src"],emits:["load"],setup(v,{emit:o}){const a=A(null),t=A(null),d=A(null),x=f=>{console.log(f),t.value=f.contentRect.width/f.contentRect.height},h=()=>{d.value=a.value&&a.value.naturalWidth/a.value.naturalHeight,o("load")},c=l(()=>t.value&&d.value&&t.value<d.value),k=l(()=>t.value&&d.value&&t.value>=d.value);return(f,B)=>(n(),w(ee,{observe:"resize",onResize:x,class:U(["img",{x:e(c),y:e(k)}])},{default:m(()=>[s("div",ce,[s("img",{ref_key:"imgRef",ref:a,src:v.src,onLoad:h},null,40,ue)])]),_:1},8,["class"]))}});var ve=$(_e,[["__scopeId","data-v-3baf12d9"]]);const he=g("Load large file"),pe={key:"json",class:"selector data-container box"},me={class:"raw"},fe=R({props:["tx"],setup(v){const o=v,a=H({handler:void 0,payload:void 0,loaded:!1,intent:!1}),t=l(()=>L.gatewayURL+o.tx.id),d=l(()=>"https://arcode.studio/#/"+o.tx.id+"?theme=dark-blue&hideToolbar=true"),x=async()=>{if(!o.tx||o.tx.data?.size==="0")return;const h=ae(o.tx.tags);if(!h["Bundle-Version"]){if(o.tx.data?.type==="application/x.arweave-manifest+json"||o.tx.data?.type==="text/html"||o.tx.data?.type==="application/pdf")return a.handler={is:"iframe",attrs:{src:t.value,class:["hover"]},containerAttrs:{class:["iframe-container"]}};if(o.tx.data?.type?.split("/")[0]==="video")return a.handler={is:"iframe",attrs:{src:t.value},containerAttrs:{class:["iframe-container"]}};if(o.tx.data?.size>104857600&&!a.intent)return a.handler="intent";if(o.tx.data?.type?.split("/")[0]==="image")return a.handler={is:Q(ve),attrs:{src:t.value},containerAttrs:{class:["img-container"]}};if(h["App-Name"]==="SmartWeaveContract"||h["App-Name"]==="SmartWeaveContractSource")return a.handler={is:"iframe",attrs:{src:d.value},containerAttrs:{class:["iframe-container"]}};a.handler="raw";try{if(a.payload=(await W.api.get(o.tx.id)).data,a.payload[0]==="{")try{a.payload=JSON.stringify(JSON.parse(a.payload),null,2),a.handler="json"}catch{}}catch{}}};return T(()=>o.tx.id,()=>{a.handler=void 0,a.payload=void 0,a.loaded=!1,a.intent=!1,x()},{immediate:!0}),T(()=>a.intent,()=>{a.intent&&x()}),(h,c)=>e(a).handler==="intent"?(n(),r("div",{key:0,onClick:c[0]||(c[0]=k=>e(a).intent=!0),class:"selector data-container box",style:{display:"flex","justify-content":"center","padding-top":"5em"}},[u(te,{icon:e(le)},{default:m(()=>[he]),_:1},8,["icon"])])):e(a).handler==="json"||e(a).handler==="raw"?(n(),r("div",pe,[s("pre",me,_(e(a).payload),1)])):e(a).handler?J((n(),r("div",z({key:2},e(a).handler.containerAttrs,{class:"selector box"}),[(n(),w(M(e(a).handler.is),z(e(a).handler.attrs,{onLoad:c[1]||(c[1]=k=>e(a).loaded=!0)}),null,16))],16)),[[G,e(a).loaded]]):i("",!0)}});var ye=$(fe,[["__scopeId","data-v-4234eda6"]]);const y=v=>(K("data-v-5a5170c8"),v=v(),Z(),v),xe={key:0,style:{position:"relative",width:"100%","min-height":"var(--current-vh)",color:"var(--element-secondary)"}},ge={key:0},ke={key:1},be={class:"meta flex-column"},we={class:"box",style:{padding:"0"}},Ie={key:1,class:"spacer"},Se={key:2,class:"divider"},Ae=y(()=>s("h3",null,"Transaction",-1)),Le={class:"flex-column"},Ce={key:0},De=["href"],Te={key:1},Re=["href"],$e={class:"secondary-text"},Be=g("ID:\xA0"),je={key:3},ze=y(()=>s("h3",null,"Bundle",-1)),Ne={class:"flex-column"},Pe={class:"secondary-text"},Oe=g("ID:\xA0"),Fe={key:4},Ve=y(()=>s("h3",null,"Pending",-1)),Ue={key:0},We={key:5},qe=y(()=>s("h3",null,"Block",-1)),Ee={key:0,class:"secondary-text"},He=y(()=>s("div",{class:"spacer"},null,-1)),Je={class:"secondary-text"},Ge=g("ID:\xA0"),Me=y(()=>s("h3",null,"Data",-1)),Qe=g(" Fee: "),Xe={key:6},Ye=y(()=>s("h3",null,"Tags",-1)),Ke=[Ye],Ze={key:0,style:{background:"var(--background2)","border-radius":"var(--border-radius)"}},et=R({props:{txId:null},setup(v){const o=v,a=P(N(o,"txId")),t=a.state,d=a.queryStatus,x=l(()=>t.value?.bundledIn?.id),h=P(x).state,c=l(()=>t.value?.owner&&F(t.value?.owner.address)),k=l(()=>t.value?.recipient&&F(t.value?.recipient)),f=l(()=>t.value?.data?.size!=0),B=l(()=>!t.value?.block),q=l(()=>{if(!t.value?.block)return"";const p=new Date(t.value?.block.timestamp*1e3);return p.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})+" "+p.toLocaleTimeString()}),I=A(null),j=l(()=>D.value?.height-t.value?.block?.height+1),S=l(()=>{if(!t.value?.tags)return;const p=[];for(const b of t.value?.tags)p.push({items:[{name:"",value:b.name,attrs:{disabled:!0}},{name:"",value:b.value,attrs:{disabled:!0}}]});return p});T(()=>o.txId,async()=>{const p=t.value?.bundledIn?.id||o.txId;!p||W.transactions.getStatus(p).then(b=>I.value=b.status).catch(()=>I.value="Not Found")},{immediate:!0});const E=N(se.breakpoints,"verticalContent");return(p,b)=>e(t)?(n(),w(ie,{key:1},X({left:m(()=>[s("div",be,[s("div",we,[s("div",{class:"box-padding flex-column",style:Y([e(S).length&&"padding-bottom: 0"])},[u(O,{tx:e(t),options:{half:!0}},null,8,["tx"]),e(t).recipient?(n(),w(V,{key:0,wallet:e(k)},null,8,["wallet"])):i("",!0),e(t).recipient?(n(),r("div",Ie)):i("",!0),e(t).recipient?(n(),r("div",Se)):i("",!0),u(V,{wallet:e(c)},null,8,["wallet"]),s("div",null,[Ae,s("div",Le,[s("div",null,[e(f)?(n(),r("div",Ce,[s("a",{href:e(L).gatewayURL+e(t).id,target:"_blank"},_(e(L).gatewayURLObject?.hostname),9,De)])):i("",!0),e(t).data?.type==="application/x.arweave-manifest+json"?(n(),r("div",Te,[s("a",{href:e(L).gatewayURL+"tx/"+e(t).id+"/data.json",target:"_blank"},"Manifest",8,Re)])):i("",!0)]),s("div",$e,[u(C,{address:e(t).id},{default:m(()=>[Be]),_:1},8,["address"])])])]),e(t).bundledIn?.id?(n(),r("div",je,[ze,s("div",Ne,[e(h)?(n(),w(O,{key:0,tx:e(h),options:{space:!0}},null,8,["tx"])):i("",!0),s("div",Pe,[u(C,{address:e(t).bundledIn?.id},{default:m(()=>[Oe]),_:1},8,["address"])])])])):i("",!0),e(B)?(n(),r("div",Fe,[Ve,I.value?(n(),r("div",Ue,"Status: "+_(I.value),1)):i("",!0)])):(n(),r("div",We,[qe,s("div",null,[g(" Height: "+_(e(t).block.height)+" ",1),e(D)?.height?(n(),r("span",Ee,"/ "+_(e(D).height)+" ("+_(e(j))+" confirmation"+_(e(j)>1?"s":"")+")",1)):i("",!0)]),s("div",null,_(e(q)),1),He,s("div",Je,[u(C,{address:e(t).block.id},{default:m(()=>[Ge]),_:1},8,["address"])])])),s("div",null,[Me,s("div",null,"Size: "+_(e(ne)(e(t).data.size)),1),s("div",null,[Qe,u(oe,{ar:e(t).fee.ar},null,8,["ar"])])]),e(S).length?(n(),r("div",Xe,Ke)):i("",!0)],4),e(S).length?(n(),r("div",Ze,[u(re,{schema:e(S),disabled:""},null,8,["schema"])])):i("",!0)])])]),_:2},[e(t)&&e(f)?{name:"right",fn:m(()=>[u(ye,{tx:e(t),class:U({inline:!e(E)})},null,8,["tx","class"])])}:void 0]),1024)):(n(),r("div",xe,[u(de,{options:{icon:"loader"},class:"box"},{default:m(()=>[e(d).error?(n(),r("h2",ge,_(e(d).error),1)):(n(),r("h2",ke,"Loading"))]),_:1})]))}});var rt=$(et,[["__scopeId","data-v-5a5170c8"]]);export{rt as default};
//# sourceMappingURL=Tx.6be66c71.js.map
