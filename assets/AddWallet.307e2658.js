import{_ as E,N as q,O as N,B as p,P as j,Q as F,R as P,S as T,U as L,w as M,V as U,X as D,Y as G}from"./index.14e94aa3.js";import{Y as R,a2 as X,d as o,e as Y,c as I,a as t,s as m,y as f,x as v,u as w,F as $,n as H,a3 as J,a4 as K,o as i,a7 as _,X as g}from"./vendor.cfbcc066.js";import{O as Q}from"./OverlayPrompt.f745bffe.js";const h=r=>(J("data-v-0c90a12c"),r=r(),K(),r),z={class:"add-wallet flex-column"},Z={class:"card"},ee=h(()=>t("h2",{style:{display:"flex","justify-content":"space-between"}},[t("span",null,"Passphrase"),t("span",null,"Key file")],-1)),ae={class:"flex-column"},se=h(()=>t("div",null,null,-1)),te=_("Create new wallet"),le=_("Import passphrase"),oe={class:"card"},ne=h(()=>t("h2",null,"Hardware",-1)),de={class:"card"},ie=h(()=>t("h2",null,"Address Only",-1)),re=R({setup(r){const n=X(),l=o(""),y=o(""),c=o(void 0),k=Y(()=>l.value.trim().split(/\s+/g).length>=12),u=o(!1),b=o(!1),d=o(null),W=async()=>{u.value=!0,l.value=await F();const e=P(l.value);setTimeout(async()=>d.value=await e,1e4)},C=()=>{n.push({name:"EditWallet",query:{wallet:d.value}})},x=async()=>{b.value=!0;const e=P(l.value);c.value={icon:"loader",message:"importing"},n.push({name:"EditWallet",query:{wallet:await e}})},V=async()=>{if(await T(l.value))return x();c.value={message:"This passphrase is not valid, do you want to import it anyway?",actions:[{name:"Back",run:()=>c.value=void 0},{name:"Import Passphrase",run:()=>x()}]}},A=async e=>{if(!e)return;const s=await L(JSON.parse(await e[0].text()));n.push({name:"EditWallet",query:{wallet:s}})},B=async e=>{const s=await D(e);n.push({name:"EditWallet",query:{wallet:s}})},S=[G],O={icon:M,run:async()=>{const e=await U(y.value);n.push({name:"EditWallet",query:{wallet:e}})}};return(e,s)=>(i(),I("div",z,[t("div",Z,[ee,t("div",ae,[m(q,{modelValue:l.value,"onUpdate:modelValue":s[0]||(s[0]=a=>l.value=a),onFiles:A,disabled:u.value,placeholder:"Import passphrase or key file"},null,8,["modelValue","disabled"]),se,!u.value&&!l.value.length?(i(),f(p,{key:0,onClick:s[1]||(s[1]=a=>W()),disabled:l.value.length&&!w(k),icon:w(N)},{default:v(()=>[te]),_:1},8,["disabled","icon"])):u.value?(i(),f(p,{key:1,disabled:d.value==null,onClick:C,icon:d.value==null?"loader":""},{default:v(()=>[_(g(d.value==null?"Generating, write down the passphrase":"Passphrase saved? Click here to proceed"),1)]),_:1},8,["disabled","icon"])):(i(),f(p,{key:2,disabled:!w(k)||b.value,onClick:V},{default:v(()=>[le]),_:1},8,["disabled"]))]),m(Q,{options:c.value},null,8,["options"])]),t("div",oe,[ne,(i(),I($,null,H(S,a=>m(p,{key:a.metadata.name,disabled:!a.metadata.isSupported,onClick:ce=>B(a),icon:a.metadata.icon},{default:v(()=>[_(g(a.metadata.name)+" "+g(a.metadata.isSupported?"":" not supported for this browser"),1)]),_:2},1032,["disabled","onClick","icon"])),64))]),t("div",de,[ie,m(j,{modelValue:y.value,"onUpdate:modelValue":s[2]||(s[2]=a=>y.value=a),actions:[O]},null,8,["modelValue","actions"])])]))}});var ve=E(re,[["__scopeId","data-v-0c90a12c"]]);export{ve as default};
//# sourceMappingURL=AddWallet.307e2658.js.map
