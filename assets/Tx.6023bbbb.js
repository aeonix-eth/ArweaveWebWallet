import{d as I,e as m,o as n,x as j,s as S,a,P as C,u as t,r as P,w as D,z,C as N,c as d,q as c,V as g,D as p,W as H,t as R,ai as J,n as q,a5 as $,a1 as E,a2 as G}from"./vendor.864071fb.js";import{_ as L,a as M,A,u as K,b as B,c as Q,g as W,I as X,F as Y,T as Z,d as V,W as F,e as O,n as U,h as ee,f as te,i as ae}from"./index.78fb96b6.js";const se={class:"frame-scroller"},ne=["src"],oe={props:["src"],emits:["load"],setup(u,{emit:s}){const e=I(null),_=I(null),i=I(null),o=r=>{console.log(r),_.value=r.width/r.height},v=()=>{i.value=e.value&&e.value.naturalWidth/e.value.naturalHeight,s("load")},x=m(()=>_.value&&i.value&&_.value<i.value),h=m(()=>_.value&&i.value&&_.value>=i.value);return(r,k)=>(n(),j(M,{observe:"resize",onResize:o,class:C(["img",{x:t(x),y:t(h)}])},{default:S(()=>[a("div",se,[a("img",{ref_key:"imgRef",ref:e,src:u.src,onLoad:v},null,40,ne)])]),_:1},8,["class"]))}};var le=L(oe,[["__scopeId","data-v-597b5404"]]);const de={key:"iframe",class:"selector iframe-container box"},re=["src"],ie={key:"img",class:"selector img-container box"},ce={key:"smartweave",class:"selector iframe-container box"},ue=["src"],_e={key:"json",class:"selector data-container box"},ve={class:"raw"},he={props:["tx"],setup(u){const s=u,e=P({handler:null,loaded:!1,payload:null}),_=m(()=>A.gatewayURL+s.tx.id);return D(()=>s.tx,async()=>{var i,o,v,x,h,r,k,l,y,b;if(!!s.tx&&(e.handler=null,e.loaded=!1,((i=s.tx.data)==null?void 0:i.size)!=="0")){if(K(s.tx.tags)["Bundle-Version"])return;if(((o=s.tx.data)==null?void 0:o.type)==="application/x.arweave-manifest+json"||((v=s.tx.data)==null?void 0:v.type)==="text/html"||((x=s.tx.data)==null?void 0:x.type)==="application/pdf")e.handler="iframe";else if(((r=(h=s.tx.data)==null?void 0:h.type)==null?void 0:r.split("/")[0])==="image")e.handler="img";else if(((l=(k=s.tx.tags)==null?void 0:k.find(w=>w.name==="App-Name"))==null?void 0:l.value)==="SmartWeaveContract"||((b=(y=s.tx.tags)==null?void 0:y.find(w=>w.name==="App-Name"))==null?void 0:b.value)==="SmartWeaveContractSource")e.handler="smartweave";else{e.handler="raw";try{if(e.payload=await B.transactions.getData(s.tx.id,{decode:!0,string:!0}),e.payload[0]==="{")try{e.payload=JSON.stringify(JSON.parse(e.payload),null,2),e.handler="json"}catch{}}catch{}}}},{immediate:!0}),(i,o)=>t(e).handler==="iframe"?z((n(),d("div",de,[a("iframe",{class:"iframe",src:t(_),onLoad:o[0]||(o[0]=v=>t(e).loaded=!0)},null,40,re)],512)),[[N,t(e).loaded]]):t(e).handler==="img"?z((n(),d("div",ie,[c(le,{src:t(_),onLoad:o[1]||(o[1]=v=>t(e).loaded=!0)},null,8,["src"])],512)),[[N,t(e).loaded]]):t(e).handler==="smartweave"?(n(),d("div",ce,[a("iframe",{class:"iframe",src:"https://arcode.studio/#/"+u.tx.id+"?theme=dark-blue&hideToolbar=true",onLoad:o[2]||(o[2]=v=>t(e).loaded=!0),style:{opacity:"1"}},null,40,ue)])):t(e).handler==="json"||t(e).handler==="raw"?(n(),d("div",_e,[a("pre",ve,g(t(e).payload),1)])):p("",!0)}};var me=L(he,[["__scopeId","data-v-377acd9f"]]);const f=u=>(E("data-v-9392e44c"),u=u(),G(),u),pe={class:"meta flex-column"},fe={class:"box",style:{padding:"0"}},ge=f(()=>a("div",{class:"spacer"},null,-1)),xe={class:"row flex-column",style:{"align-items":"center"}},ye={class:"address-icon-margin"},we=f(()=>a("div",{class:"spacer"},null,-1)),ke={key:0,class:"row flex-column",style:{"align-items":"center"}},be={class:"address-icon-margin"},Se=f(()=>a("div",{class:"spacer"},null,-1)),Ie=f(()=>a("h3",null,"Transaction",-1)),$e=$("ID:\xA0"),Ae={key:0},Le=["href"],Te={key:1},je=["href"],Ce={key:1},De=f(()=>a("h3",null,"Pending",-1)),ze={key:0},Ne={key:2},Re=f(()=>a("h3",null,"Block",-1)),Be=$("ID:\xA0"),We={key:0,class:"secondary-text"},Ve=f(()=>a("h3",null,"Data",-1)),Fe=$(" Fee: "),Oe={key:3},Ue=f(()=>a("h3",null,"Tags",-1)),Pe=[Ue],He={key:0,style:{background:"var(--background2)","border-radius":"var(--border-radius)"}},Je=H({props:{txId:null},setup(u){const s=u,e=Q(R(s,"txId")),_=m(()=>e.value.owner&&W(e.value.owner.address)),i=m(()=>e.value.recipient&&W(e.value.recipient)),o=m(()=>{var l;return((l=e.value.data)==null?void 0:l.size)!=0}),v=m(()=>!e.value.block),x=m(()=>{if(!e.value.block)return"";const l=new Date(e.value.block.timestamp*1e3);return l.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})+" "+l.toLocaleTimeString()}),h=I(null),r=m(()=>{if(!e.value.tags)return;const l=[];for(const y of e.value.tags)l.push({items:[{name:"",value:y.name,attrs:{disabled:!0}},{name:"",value:y.value,attrs:{disabled:!0}}]});return l});D(()=>s.txId,async()=>{B.transactions.getStatus(s.txId).then(l=>h.value=l.status).catch(()=>h.value="Not Found")},{immediate:!0});const k=R(X.breakpoints,"verticalContent");return(l,y)=>t(e)?(n(),j(Y,{key:0},J({left:S(()=>{var b,w,T;return[a("div",pe,[a("div",fe,[a("div",{class:"box-padding flex-column",style:q([t(r).length&&"padding-bottom: 0"])},[c(Z,{tx:t(e),half:"true"},null,8,["tx"]),ge,a("div",xe,[a("div",ye,[c(V,{address:t(e).owner.address},null,8,["address"])]),c(F,{wallet:t(_)},null,8,["wallet"]),we]),t(e).recipient?(n(),d("div",ke,[a("div",be,[c(V,{address:t(e).recipient},null,8,["address"])]),c(F,{wallet:t(i)},null,8,["wallet"]),Se])):p("",!0),a("div",null,[Ie,c(O,{address:t(e).id},{default:S(()=>[$e]),_:1},8,["address"]),t(o)?(n(),d("div",Ae,[a("a",{href:t(A).gatewayURL+t(e).id,target:"_blank"},g((b=t(A).gatewayURLObject)==null?void 0:b.hostname),9,Le)])):p("",!0),((w=t(e).data)==null?void 0:w.type)==="application/x.arweave-manifest+json"?(n(),d("div",Te,[a("a",{href:t(A).gatewayURL+"tx/"+t(e).id+"/data.json",target:"_blank"},"Manifest",8,je)])):p("",!0)]),t(v)?(n(),d("div",Ce,[De,h.value?(n(),d("div",ze,"Status: "+g(h.value),1)):p("",!0)])):(n(),d("div",Ne,[Re,c(O,{address:t(e).block.id},{default:S(()=>[Be]),_:1},8,["address"]),a("div",null,[$(" Height: "+g(t(e).block.height)+" ",1),((T=t(U))==null?void 0:T.height)?(n(),d("span",We,"/ "+g(t(U).height),1)):p("",!0)]),a("div",null,g(t(x)),1)])),a("div",null,[Ve,a("div",null,"Size: "+g(t(ee)(t(e).data.size)),1),a("div",null,[Fe,c(te,{ar:t(e).fee.ar},null,8,["ar"])])]),t(r).length?(n(),d("div",Oe,Pe)):p("",!0)],4),t(r).length?(n(),d("div",He,[c(ae,{schema:t(r),disabled:""},null,8,["schema"])])):p("",!0)])])]}),_:2},[t(o)?{name:"right",fn:S(()=>[c(me,{tx:t(e),class:C({inline:!t(k)})},null,8,["tx","class"])])}:void 0]),1024)):p("",!0)}});var Ge=L(Je,[["__scopeId","data-v-9392e44c"]]);export{Ge as default};
//# sourceMappingURL=Tx.6023bbbb.js.map
