import{d as C,o as d,h as v,b as a,i as o,a5 as Z,a6 as X,e as L,a7 as U,c as u,a8 as ee,I as A,K as te,r as f,a9 as T,g as B,u as e,aa as P,ab as M,a as j,l as k,w as y,z as D,T as G,k as W,Y as H,Z as F,C as h,ac as ae,E as se,_ as le,ad as O,t as p,$ as J,ae as ne,af as oe,ag as ce,M as b,a2 as ie,a1 as ue,B as re,j as R,ah as de,A as V,n as _e,ai as ve,W as he,aj as pe,ak as z}from"./index-647b994f.js";const me={class:"profile-card flex-row row",style:{"align-items":"center"}},ge={class:"address-icon-margin"},fe=C({__name:"ProfileCard",props:{wallet:null},setup(n){return(t,s)=>(d(),v("div",me,[a("div",ge,[o(Z,{address:n.wallet.key},null,8,["address"])]),o(X,{wallet:n.wallet},null,8,["wallet"])]))}});const ye=L(fe,[["__scopeId","data-v-ba12ef0f"]]),q=n=>(H("data-v-25c98e20"),n=n(),F(),n),xe={class:"global-search"},we={class:"input-container flex-row"},be={key:0,class:"results input-box"},ke={class:"query-list input-box flex-column"},$e={key:0,class:"flex-column"},Ce=q(()=>a("div",{class:"secondary-text"},"User",-1)),Ie=q(()=>a("div",null,null,-1)),Se=q(()=>a("div",{class:"secondary-text"},"Transactions",-1)),Te=C({__name:"GlobalSearch",setup(n){const t=U("",1e3),s=U("",1e3),r=u(()=>ee.metadata.isAddress(t.value)),i=u(()=>({run:()=>{},icon:!s.value.length&&A.search,disabled:!0})),l=u(()=>r.value&&c?.state?.value?.length&&te(t.value)),x=()=>[h(u(()=>({owners:[t.value]})),"global search user"),h(u(()=>({recipients:[t.value]})),"global search user")],I=()=>[h(u(()=>({ids:[t.value]})),"global search id")],N=()=>s.value?[h(u(()=>({tags:[{name:t.value,values:[s.value]}]})))]:[h(u(()=>({tags:[{name:"App-Name",values:["arweave-id"]},{name:"Name",values:[t.value]}]}))),h(u(()=>({tags:[{name:"App-Name",values:[t.value]}]}))),h(u(()=>t.value.toLowerCase()!==t.value?{tags:[{name:"App-Name",values:[t.value.toLowerCase()]}]}:void 0)),h(u(()=>({tags:[{name:"app",values:[t.value]}]}))),h(u(()=>t.value.toLowerCase()!==t.value?{tags:[{name:"app",values:[t.value.toLowerCase()]}]}:void 0))],w=f([]),c=T(w),_=f([]),m=T(_),S=f([]),K=T(S);B(()=>[t.value,s.value],($,g)=>{!$[0]&&g?.[0]&&(s.value=""),r.value?(w.value.length===0&&(w.value=x()),_.value.length===0&&(_.value=I()),S.value=[]):(w.value=[],_.value=[],(S.value.length===0||!!$[1]!=!!g?.[1])&&(S.value=N()))},{immediate:!0});const Y=T([m,c,K]),E=f(0);return B(t,$=>E.value=$.length>0?1:-1,{immediate:!0,flush:"post"}),($,g)=>(d(),v("div",xe,[a("div",we,[o(M,{modelValue:e(t),"onUpdate:modelValue":g[0]||(g[0]=Q=>P(t)?t.value=Q:null),actions:[e(i)],placeholder:"Search - address, transaction id, username, app, tag"},null,8,["modelValue","actions"]),e(t)&&!e(r)?(d(),j(M,{key:0,modelValue:e(s),"onUpdate:modelValue":g[1]||(g[1]=Q=>P(s)?s.value=Q:null),icon:e(A).label,placeholder:"Tag value"},null,8,["modelValue","icon"])):k("",!0)]),o(W,{axis:"y",vector:E.value},{default:y(()=>[e(t).length?(d(),v("div",be,[a("div",ke,[e(l)?(d(),v("div",$e,[Ce,o(ye,{wallet:e(l),compact:"true"},null,8,["wallet"]),Ie])):k("",!0),Se,o(D,{query:e(Y),component:G,"component-props":{options:{currentAddress:e(l)?.key}}},null,8,["query","component-props"])])])):k("",!0)]),_:1},8,["vector"])]))}});const Ae=L(Te,[["__scopeId","data-v-25c98e20"]]),Be={class:"flex-row",style:{"align-items":"center","justify-content":"space-between","flex-wrap":"wrap"}},Le={class:"flex-row",style:{"align-items":"center"}},Ne={key:0,style:{"text-align":"end",flex:"1 1 auto"}},Qe={key:0,class:"container-scroll"},ze=C({__name:"BlockCard",props:{block:null},setup(n){const t=n,s=f(!1),r=h({block:{min:t.block.node.height,max:t.block.node.height}}),i=ae({name:"single block header",awaitEffect:()=>s.value,query:async()=>se.blocks.get(t.block.node.id),processResult:l=>typeof l=="string"?JSON.parse(l):l,seconds:10,completed:l=>l}).state;return(l,x)=>(d(),j(oe,{class:"block-card"},{header:y(()=>[o(le,{onIntersecting:x[0]||(x[0]=I=>s.value=!0),threshold:.5},{default:y(()=>[a("div",Be,[a("h2",Le,[o(O,{icon:e(A).cube,style:{"font-size":"1.5em",color:"var(--orange)"}},null,8,["icon"]),a("span",null,"Block "+p(n.block.node.height),1)]),o(W,null,{default:y(()=>[e(i)?(d(),v("div",Ne,[a("div",null,p(e(i).txs?.length)+" Transactions | "+p(e(J)(e(i).block_size)),1),a("div",null,[o(ne,{timestamp:e(i).timestamp*1e3},null,8,["timestamp"])])])):k("",!0)]),_:1})])]),_:1},8,["threshold"])]),default:y(()=>[s.value?(d(),v("div",Qe,[o(D,{query:e(r),component:G,componentProps:{options:{space:!0}}},null,8,["query"])])):k("",!0)]),_:1}))}});const Re=L(ze,[["__scopeId","data-v-fcb4d0a5"]]),Ve={class:"block-carousel"},qe={key:0,class:"block fade-list-item box flex-column",style:{"align-items":"center","justify-content":"center"}},Ee=C({__name:"BlockCarousel",props:{height:null,onHeight:null},emits:["height"],setup(n,{emit:t}){const s=f(void 0),r=f(void 0),i=ce({}),l=u(()=>i.state.value&&[...i.state.value].reverse());B(r,c=>c!=null&&l.value?.[c]&&t("height",l.value?.[c].node.height)),B(l,(c,_)=>{c&&(!_?.length&&c.length&&(s.value=c.length-1),_&&_.length!==c.length&&r.value===_.length-1&&setTimeout(()=>s.value=c.length-1,1e3))});const x=u(()=>b.value?.network?.includes("arlocal")),I=async()=>{await fetch(V.gatewayURL+"mine"),await i.updateQuery.getState(!0),setTimeout(()=>s.value=l.value.length-1,1e3)},N=c=>c.isIntersecting&&i?.fetchQuery.query(),w=c=>i.refreshSwitch.value=c.isIntersecting;return(c,_)=>(d(),v("div",Ve,[o(de,{index:s.value,onIndex:_[0]||(_[0]=m=>r.value=m),options:{align:"center",overscroll:!0,immediate:!0},onStart:N,onEnd:w,class:"block-carousel"},{default:y(()=>[(d(!0),v(ie,null,ue(e(l),m=>(d(),v("div",{key:m.node.id,class:_e(["block fade-list-item",{active:n.height&&n.height==m.node.height}])},[o(Re,{block:m,class:"box"},null,8,["block"])],2))),128)),e(x)&&e(l)?.length?(d(),v("div",qe,[o(O,{icon:e(A).cube,style:{"font-size":"4em",opacity:"0.8"}},null,8,["icon"]),o(re,{onClick:I},{default:y(()=>[R("Mine new block")]),_:1})])):k("",!0)]),_:1},8,["index"])]))}});const Ue=n=>(H("data-v-26b46fc9"),n=n(),F(),n),Pe={class:"settings"},Me={class:"container"},je={class:"column"},De={class:"group"},Ge={style:{"text-transform":"capitalize"}},We={class:"flex-column"},He={class:"group"},Fe=Ue(()=>a("h2",null,"Weave State",-1)),Oe={class:"flex-column"},Je=C({__name:"Explore",setup(n){const t=u(()=>V.gatewayURL&&new URL(V.gatewayURL).hostname),s=u(()=>{const r=b.value?.blocks,i=b.value?.height;if(r==null||i==null)return"";const l=100*Math.min(r/Math.max(i-1,1),1);return l===100?"":` (${ve(l,2)}% known)`});return(r,i)=>(d(),v("div",Pe,[a("div",Me,[a("div",je,[o(Ae),a("div",De,[a("h2",null,[a("span",Ge,p(e(t)),1),R(" Gateway State")]),a("div",We,[a("div",null,"Peers: "+p(e(b)?.peers??"..."),1),a("div",null,"Pending Transactions: "+p(e(pe)?.length??"..."),1),a("div",null,"Network Height: "+p(e(b)?.height??"...")+p(e(s)),1)])]),a("div",He,[Fe,a("div",Oe,[a("div",null,"Weave Size: "+p(e(z)?.weave_size&&e(J)(e(z)?.weave_size)||"..."),1),a("div",null,[R("Endowment Pool: "),o(he,{winston:e(z)?.reward_pool},null,8,["winston"])])])])])]),o(Ee,{height:e(b)?.height},null,8,["height"])]))}});const Ye=L(Je,[["__scopeId","data-v-26b46fc9"]]);export{Ye as default};
//# sourceMappingURL=Explore-19830550.js.map
