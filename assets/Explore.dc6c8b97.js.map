{"version":3,"file":"Explore.dc6c8b97.js","sources":["../../src/functions/UtilsVue.ts","../../src/components/composed/GlobalSearch.vue","../../src/assets/icons/cube.svg?component","../../src/components/composed/BlockCard.vue","../../src/components/composed/BlockCarousel.vue"],"sourcesContent":["import { customRef } from 'vue'\n\nexport function useDebouncedRef<T>(value: T, delay = 200) {\n\tlet timeout: any\n\treturn customRef((track, trigger) => {\n\t\treturn {\n\t\t\tget() {\n\t\t\t\ttrack()\n\t\t\t\treturn value\n\t\t\t},\n\t\t\tset(newValue: T) {\n\t\t\t\tclearTimeout(timeout)\n\t\t\t\ttimeout = setTimeout(() => {\n\t\t\t\t\tvalue = newValue\n\t\t\t\t\ttrigger()\n\t\t\t\t}, delay)\n\t\t\t}\n\t\t}\n\t})\n}","<template>\n\t<div class=\"global-search\">\n\t\t<div class=\"input-container\">\n\t\t\t<Input v-model=\"search\" :actions=\"[searchAction]\" placeholder=\"Search - username, address, transaction id\" style=\"flex:1 1 0;\" />\n\t\t</div>\n\t\t<TransitionsManager>\n\t\t\t<div v-if=\"data.query?.length\" class=\"results input-box\">\n\t\t\t\t<List class=\"query-list input-box\">\n\t\t\t\t\t<List v-if=\"wallet\" class=\"flex-column\">\n\t\t\t\t\t\t<div class=\"secondary-text\">User</div>\n\t\t\t\t\t\t<ProfileCard :wallet=\"wallet\" compact=\"true\" />\n\t\t\t\t\t\t<div />\n\t\t\t\t\t</List>\n\t\t\t\t\t<div class=\"secondary-text\">Transactions</div>\n\t\t\t\t\t<div v-for=\"item in data.query\" :key=\"item\" class=\"result\">\n\t\t\t\t\t\t<TxCard :tx=\"item.node\" :current-address=\"wallet?.key\"></TxCard>\n\t\t\t\t\t</div>\n\t\t\t\t</List>\n\t\t\t</div>\n\t\t</TransitionsManager>\n\t</div>\n</template>\n\n\n\n<script setup lang=\"ts\">\nimport Input from '@/components/atomic/Input.vue'\nimport List from '@/components/layout/List.vue'\nimport IconSearch from '@/assets/icons/search.svg?component'\nimport { computed, reactive, ref, watch } from 'vue'\nimport { arweaveQuery, queryAggregator } from '@/store/ArweaveStore'\nimport TxCard from '@/components/composed/TxCard.vue'\nimport TransitionsManager from '@/components/visual/TransitionsManager.vue'\nimport ProfileCard from '@/components/composed/ProfileCard.vue'\nimport { getAccountByAddress } from '@/functions/Wallets'\nimport { useDebouncedRef } from '@/functions/UtilsVue'\n\n\nconst search = useDebouncedRef('')\nconst isId = computed(() => search.value.match(/^[a-z0-9_-]{43}$/i))\nconst searchAction = { run: () => {}, icon: IconSearch }\n\nlet query: any\nconst data = ref({} as any)\nconst wallet = computed(() => isId.value && !data.value.idQuery?.state?.length && getAccountByAddress(search.value))\n\nwatch(search, () => {\n\tquery = undefined\n\tdata.value = {}\n\tif (isId.value) {\n\t\tconst idQuery = arweaveQuery({ ids: [search.value] })\n\t\tdata.value.idQuery = idQuery\n\t\tquery = queryAggregator([\n\t\t\tidQuery,\n\t\t\tarweaveQuery({ owners: [search.value] }),\n\t\t\tarweaveQuery({ recipients: [search.value] }),\n\t\t])\n\t}\n\telse if (search.value.length) { query = queryAggregator([\n\t\tarweaveQuery({ tags: [{ name: 'App-Name', values: ['arweave-id'] }, { name: 'Name', values: [search.value] }] }),\n\t])}\n\tdata.value.query = query?.state\n\tquery?.fetchQuery.query()\n})\n</script>\n\n\n\n<style scoped>\n.global-search {\n\tposition: relative;\n}\n\n.input-container {\n\tbackground: var(--background2);\n\tborder-radius: var(--border-radius);\n\tposition: relative;\n\tz-index: 2;\n}\n\n.results {\n\ttop: calc(100% - var(--border-radius));\n\tbackground: var(--background2);\n\tborder-top-left-radius: 0;\n\tborder-top-right-radius: 0;\n\tposition: absolute;\n\twidth: 100%;\n\toverflow: hidden;\n\tz-index: 1;\n}\n\n.query-list {\n\tborder: 0;\n\tborder-radius: 0;\n\tpadding: var(--spacing);\n\t/*padding-top: var(--border-radius);*/\n}\n\n.result {\n}\n</style>","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  fill: \"currentColor\"\n}\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"path\", {\n  fill: \"none\",\n  d: \"M0 0h24v24H0z\"\n}, null, -1)\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"path\", { d: \"M3 4c0-.55.45-1 1-1h2V1H4C2.34 1 1 2.34 1 4v2h2V4zm0 16v-2H1v2c0 1.66 1.34 3 3 3h2v-2H4c-.55 0-1-.45-1-1zM20 1h-2v2h2c.55 0 1 .45 1 1v2h2V4c0-1.66-1.34-3-3-3zm1 19c0 .55-.45 1-1 1h-2v2h2c1.66 0 3-1.34 3-3v-2h-2v2zm-2-5.13V9.13c0-.72-.38-1.38-1-1.73l-5-2.88c-.31-.18-.65-.27-1-.27s-.69.09-1 .27L6 7.39c-.62.36-1 1.02-1 1.74v5.74c0 .72.38 1.38 1 1.73l5 2.88c.31.18.65.27 1 .27s.69-.09 1-.27l5-2.88c.62-.35 1-1.01 1-1.73zm-8 2.3-4-2.3v-4.63l4 2.33v4.6zm1-6.33L8.04 8.53 12 6.25l3.96 2.28L12 10.84zm5 4.03-4 2.3v-4.6l4-2.33v4.63z\" }, null, -1)\nconst _hoisted_4 = [\n  _hoisted_2,\n  _hoisted_3\n]\n\nexport function render(_ctx, _cache) {\n  return (_openBlock(), _createElementBlock(\"svg\", _hoisted_1, _hoisted_4))\n}\nexport default { render: render }","<template>\n\t<ListContainer class=\"block-card\">\n\t\t<template #header>\n\t\t\t<div class=\"flex-row\" style=\"align-items: center; justify-content: space-between\">\n\t\t\t\t<h2 class=\"flex-row\" style=\"align-items: center;\">\n\t\t\t\t\t<Icon :icon=\"IconCube\" style=\"font-size: 1.5em; color: var(--orange);\" />\n\t\t\t\t\t<span>Block {{ block.node.height }}</span>\n\t\t\t\t</h2>\n\t\t\t\t<Observer @intersection=\"visible = true\">\n\t\t\t\t\t<TransitionsManager>\n\t\t\t\t\t\t<div v-if=\"data\" style=\"text-align: end\">\n\t\t\t\t\t\t\t<div>{{ data.txs?.length }} Transactions | {{ humanFileSize(data.block_size) }}</div>\n\t\t\t\t\t\t\t<div><Date :timestamp=\"data.timestamp * 1000\" /></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</TransitionsManager>\n\t\t\t\t</Observer>\n\t\t\t</div>\n\t\t</template>\n\t\t<template #default>\n\t\t</template>\n\t</ListContainer>\n</template>\n\n\n\n<script setup lang=\"ts\">\nimport Observer from '@/components/function/Observer.vue'\nimport { ref, watch } from 'vue'\nimport { arweave } from '@/store/ArweaveStore'\nimport { humanFileSize } from '@/functions/Utils'\nimport Date from '@/components/atomic/Date.vue'\nimport ListContainer from '@/components/layout/ListContainer.vue'\nimport TransitionsManager from '@/components/visual/TransitionsManager.vue'\nimport Icon from '@/components/atomic/Icon.vue'\nimport IconCube from '@/assets/icons/cube.svg?component'\n\nconst props = defineProps<{ block: any }>()\n\nconst visible = ref(false)\nconst data = ref(undefined as any)\n\n\nwatch(visible, async visible => visible && !data.value && (data.value = await arweave.blocks.get(props.block.node.id)))\n</script>\n\n\n\n<style scoped>\n\n</style>","<template>\n\t<div class=\"block-carousel\">\n\t\t<Carousel v-model=\"index\" :options=\"{ align: 'center', overscroll: true }\" @start=\"start\" @end=\"end\" class=\"block-carousel\">\n\t\t\t<div v-for=\"block in state\" :key=\"block.node.id\" class=\"block fade-list-item\">\n\t\t\t\t<BlockCard :block=\"block\" class=\"box\" />\n\t\t\t</div>\n\t\t</Carousel>\n\t</div>\n</template>\n\n\n\n<script setup lang=\"ts\">\nimport Carousel from '@/components/layout/Carousel.vue'\nimport { ref, computed, watch } from 'vue'\nimport { getAccountByAddress } from '@/functions/Wallets'\nimport { arweaveQuery, arweaveQueryBlocks, queryAggregator } from '@/store/ArweaveStore'\nimport BlockCard from '@/components/composed/BlockCard.vue'\n\nconst index = ref(undefined as undefined | number)\n\nconst query = arweaveQueryBlocks({})\nconst state = computed(() => query.state.value && [...query.state.value].reverse())\nwatch(state, (state, oldState) => !oldState?.length && state?.length && (index.value = state.length - 1))\nquery?.fetchQuery.query()\n\nconst start = (val: IntersectionObserverEntry) => val.isIntersecting && query?.fetchQuery.query()\nconst end = (val: IntersectionObserverEntry) => val.isIntersecting\n</script>\n\n\n\n<style>\n.block-carousel {\n\tdisplay: flex;\n\tjustify-content: stretch;\n\tflex-direction: column;\n\tmin-height: 500px;\n}\n\n.carousel {\n\theight: 100%;\n\tflex: 1 1 0;\n}\n\n.block {\n\tpadding-top: var(--spacing);\n\theight: 100%;\n\twidth: var(--current-vw);\n\tmax-width: var(--column-width-small);\n\t/*padding: 0;*/\n\tdisplay: inline-flex;\n\tflex-direction: column;\n}\n\n.box {\n\tflex: 1 1 0;\n}\n</style>"],"names":["_hoisted_1","_hoisted_2","_createElementVNode","_hoisted_3","_hoisted_4","_openBlock","_createElementBlock"],"mappings":"u6BAEmC,EAAU,EAAQ,IAAK,IACrD,SACG,IAAU,CAAC,EAAO,IACjB,EACN,KAAM,YAEE,GAER,IAAI,EAAa,cACH,KACH,WAAW,IAAM,GAClB,OAEN,0TCuBD,GAAS,GAAgB,IACzB,EAAO,EAAS,IAAM,EAAO,MAAM,MAAM,sBACzC,EAAe,CAAE,IAAK,IAAM,GAAI,KAAM,MAExC,QACE,GAAO,EAAI,IACX,EAAS,EAAS,aAAM,SAAK,OAAS,CAAC,SAAK,MAAM,UAAX,cAAoB,QAApB,cAA2B,SAAU,EAAoB,EAAO,kBAEvG,EAAQ,IAAM,MACX,SACH,MAAQ,GACT,EAAK,MAAO,MACT,GAAU,EAAa,CAAE,IAAK,CAAC,EAAO,WACvC,MAAM,QAAU,IACb,EAAgB,CACvB,EACA,EAAa,CAAE,OAAQ,CAAC,EAAO,SAC/B,EAAa,CAAE,WAAY,CAAC,EAAO,eAG5B,GAAO,MAAM,WAAkB,EAAgB,CACvD,EAAa,CAAE,KAAM,CAAC,CAAE,KAAM,WAAY,OAAQ,CAAC,eAAiB,CAAE,KAAM,OAAQ,OAAQ,CAAC,EAAO,gBAEhG,MAAM,MAAQ,iBAAO,iBACnB,WAAW,0yBC5DnB,KAAMA,IAAa,CACjB,MAAO,6BACP,QAAS,YACT,KAAM,gBAEFC,GAA0BC,EAAoB,OAAQ,CAC1D,KAAM,OACN,EAAG,iBACF,KAAM,IACHC,GAA0BD,EAAoB,OAAQ,CAAE,EAAG,ihBAAmhB,KAAM,IACplBE,GAAa,CACjBH,GACAE,IAGK,YAAgB,EAAM,EAAQ,CACnC,MAAQE,KAAcC,EAAoB,MAAON,GAAYI,IAE/D,OAAe,CAAE,OAAQ,wOCkBnB,EAAU,EAAI,IACd,EAAO,EAAI,iBAGX,EAAS,KAAM,IAAW,GAAW,CAAC,EAAK,UAAe,MAAQ,KAAM,GAAQ,OAAO,IAAI,EAAM,MAAM,KAAK,+nBCvB5G,GAAQ,EAAI,QAEZ,EAAQ,EAAmB,IAC3B,EAAQ,EAAS,IAAM,EAAM,MAAM,OAAS,CAAC,GAAG,EAAM,MAAM,OAAO,aACnE,EAAO,CAAC,EAAO,IAAa,CAAC,kBAAU,SAAU,kBAAO,YAAiB,MAAQ,EAAM,OAAS,eAC/F,WAAW,aAEZ,GAAQ,AAAC,GAAmC,EAAI,gBAAkB,kBAAO,WAAW,SACpF,EAAM,AAAC,GAAmC,EAAI"}