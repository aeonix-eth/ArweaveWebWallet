{"version":3,"file":"WalletsOptions.6f2428dd.js","sources":["../../src/assets/icons/shield_warning.svg?component","../../src/components/composed/WalletsOptions.vue"],"sourcesContent":["import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = {\n  viewBox: \"0 0 48 48\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n}\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"path\", {\n  d: \"M24 24.6c.433 0 .792-.142 1.075-.425.283-.283.425-.642.425-1.075v-7.35c0-.433-.142-.792-.425-1.075-.283-.283-.642-.425-1.075-.425-.433 0-.792.142-1.075.425-.283.283-.425.642-.425 1.075v7.35c0 .433.142.792.425 1.075.283.283.642.425 1.075.425Zm0 6.7c.467 0 .867-.167 1.2-.5.333-.333.5-.733.5-1.2 0-.467-.167-.867-.5-1.2a1.637 1.637 0 0 0-1.2-.5c-.467 0-.867.167-1.2.5-.333.333-.5.733-.5 1.2 0 .467.167.867.5 1.2.333.333.733.5 1.2.5Zm0 12.55c-.133 0-.258-.008-.375-.025a1.912 1.912 0 0 1-.325-.075c-4.467-1.333-8.133-4.075-11-8.225C9.433 31.375 8 26.817 8 21.85v-9.8c0-.633.183-1.208.55-1.725A3.166 3.166 0 0 1 9.95 9.2l13-4.85c.367-.133.717-.2 1.05-.2.333 0 .683.067 1.05.2l13 4.85a3.166 3.166 0 0 1 1.4 1.125c.367.517.55 1.092.55 1.725v9.8c0 4.967-1.433 9.525-4.3 13.675s-6.533 6.892-11 8.225l-.7.1Zm0-3c3.833-1.267 6.958-3.658 9.375-7.175S37 26.217 37 21.85v-9.8l-13-4.9-13 4.9v9.8c0 4.367 1.208 8.308 3.625 11.825 2.417 3.517 5.542 5.908 9.375 7.175Z\",\n  style: {\"fill-rule\":\"nonzero\"},\n  transform: \"translate(-5.018 -5.018) scale(1.20907)\"\n}, null, -1)\nconst _hoisted_3 = [\n  _hoisted_2\n]\n\nexport function render(_ctx, _cache) {\n  return (_openBlock(), _createElementBlock(\"svg\", _hoisted_1, _hoisted_3))\n}\nexport default { render: render }","<template>\n\t<div>\n\t\t<div class=\"flex-row\" style=\"justify-content: space-between; align-items: baseline\">\n\t\t\t<h2>Wallet{{ selectedWallets.length > 1 ? 's' : '' }}</h2>\n\t\t\t<Link class=\"update-message\" v-if=\"hasUpdate\" @click=\"updateEncryption\" :disabled=\"!hasPassword\">\n\t\t\t\t<Icon :icon=\"IconWarning\" style=\"vertical-align: text-top\" />\n\t\t\t\t<span v-if=\"hasPassword\"> Click to update encryption</span>\n\t\t\t\t<span v-else> Create a new password to encrypt selected wallets</span>\n\t\t\t</Link>\n\t\t</div>\n\t\t<div class=\"flex-column\">\n\t\t\t<template v-for=\"wallet in selectedWallets\" :key=\"wallet.id\">\n\t\t\t\t<WalletOptions :wallet=\"wallet\" />\n\t\t\t\t<Button v-if=\"canConnect\" @click=\"() => sharedState.walletId = wallet.id\">Connect</Button>\n\t\t\t\t<div></div>\n\t\t\t</template>\n\t\t</div>\n\t\t<Button v-if=\"!Wallets.length\" style=\"font-size:1.5em; background:var(--background3); width: 100%;\" @click=\"$router.push({ name: 'AddWallet' })\" icon=\"+\" />\n\t</div>\n</template>\n\n\n\n<script setup lang=\"ts\">\nimport WalletOptions from '@/components/composed/WalletOptions.vue'\nimport Button from '@/components/atomic/Button.vue'\nimport Icon from '@/components/atomic/Icon.vue'\nimport { Wallets } from '@/functions/Wallets'\nimport { state } from '@/functions/Channels'\nimport { sharedState } from '@/functions/Connect'\nimport { hasPassword, hasUpdate, updateEncryption } from '@/functions/Password'\nimport { computed, watch } from 'vue'\nimport { onBeforeRouteLeave, useRoute } from 'vue-router'\n\nimport IconWarning from '@/assets/icons/shield_warning.svg?component'\nimport Link from '@/components/function/Link.vue'\nimport { notify } from '@/store/NotificationStore'\n\nconst route = useRoute()\n\nconst selectedWallets = computed(() => {\n\tconst editWallet = route.query.wallet\n\tif (!editWallet) { return Wallets.value }\n\tconst editWalletArray = Array.isArray(editWallet) ? editWallet : [editWallet]\n\treturn Wallets.value.filter(wallet => editWalletArray.includes(wallet.id + ''))\n})\nconst canConnect = computed(() => ['popup', 'iframe', 'ws'].includes(state.value.type!) && !sharedState.value.walletId)\n\nonBeforeRouteLeave(() => {\n\tif (!hasUpdate.value) { return }\n\tconst { promise, close } = notify.confirm('exit?')\n\twatch(hasUpdate, value => value && close())\n\treturn promise\n})\n</script>\n\n\n\n<style scoped>\n.update-message {\n\tcolor: var(--red);\n}\n</style>"],"names":["_hoisted_1","_hoisted_2","_createElementVNode","_hoisted_3","_openBlock","_createElementBlock"],"mappings":"qhCAEA,KAAMA,GAAa,CACjB,QAAS,YACT,MAAO,4BACT,EACMC,EAA0BC,EAAoB,OAAQ,CAC1D,EAAG,07BACH,MAAO,CAAC,YAAY,SAAS,EAC7B,UAAW,yCACb,EAAG,KAAM,EAAE,EACLC,EAAa,CACjBF,CACF,EAEO,YAAgB,EAAM,EAAQ,CACnC,MAAQG,GAAY,EAAEC,EAAoB,MAAOL,EAAYG,CAAU,CACzE,CACA,GAAe,IAAA,CAAE,OAAQ,EAAM,yPCoB/B,KAAM,GAAQ,IAER,EAAkB,EAAS,IAAM,CAChC,KAAA,GAAa,EAAM,MAAM,OAC/B,GAAI,CAAC,EAAc,MAAO,GAAQ,MAClC,KAAM,GAAkB,MAAM,QAAQ,CAAU,EAAI,EAAa,CAAC,CAAU,EACrE,MAAA,GAAQ,MAAM,OAAO,AAAA,GAAU,EAAgB,SAAS,EAAO,GAAK,EAAE,CAAC,CAAA,CAC9E,EACK,EAAa,EAAS,IAAM,CAAC,QAAS,SAAU,IAAI,EAAE,SAAS,EAAM,MAAM,IAAK,GAAK,CAAC,EAAY,MAAM,QAAQ,EAEtH,SAAmB,IAAM,CACpB,GAAA,CAAC,EAAU,MAAS,OACxB,KAAM,CAAE,UAAS,SAAU,EAAO,QAAQ,OAAO,EACjD,SAAM,EAAW,AAAA,GAAS,GAAS,EAAO,CAAA,EACnC,CAAA,CACP"}