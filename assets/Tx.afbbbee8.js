import{d as $,e as f,o as s,x as C,s as w,a,P as D,u as t,c as o,r as U,w as z,q as i,z as T,C as B,V as y,D as u,a5 as b,W as M,t as N,ai as P,n as J,a1 as q,a2 as E}from"./vendor.864071fb.js";import{_ as L,a as G,A as I,B as K,u as Q,b as V,c as X,g as F,I as Y,F as Z,T as ee,d as R,W as H,e as W,n as O,h as te,f as ae,i as se}from"./index.a531c49a.js";const ne={class:"frame-scroller"},oe=["src"],le={props:["src"],emits:["load"],setup(c,{emit:n}){const e=$(null),_=$(null),h=$(null),p=d=>{console.log(d),_.value=d.width/d.height},l=()=>{h.value=e.value&&e.value.naturalWidth/e.value.naturalHeight,n("load")},v=f(()=>_.value&&h.value&&_.value<h.value),m=f(()=>_.value&&h.value&&_.value>=h.value);return(d,k)=>(s(),C(G,{observe:"resize",onResize:p,class:D(["img",{x:t(v),y:t(m)}])},{default:w(()=>[a("div",ne,[a("img",{ref_key:"imgRef",ref:e,src:c.src,onLoad:l},null,40,oe)])]),_:1},8,["class"]))}};var re=L(le,[["__scopeId","data-v-597b5404"]]);const de={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#FFF"},ie=a("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),ce=a("path",{d:"M19 9h-4V3H9v6H5l7 7 7-7zm-8 2V5h2v6h1.17L12 13.17 9.83 11H11zm-6 7h14v2H5z"},null,-1),ue=[ie,ce];function _e(c,n){return s(),o("svg",de,ue)}var he={render:_e};const ve=b("Load large file"),pe={key:"iframe",class:"selector iframe-container box"},me=["src"],fe={key:"img",class:"selector img-container box"},ge={key:"smartweave",class:"selector iframe-container box"},ye=["src"],xe={key:"json",class:"selector data-container box"},we={class:"raw"},ke={props:["tx"],setup(c){const n=c,e=U({handler:null,loaded:!1,payload:null,intent:!1}),_=f(()=>I.gatewayURL+n.tx.id),h=async()=>{var l,v,m,d,k,r,x;if(!n.tx||((l=n.tx.data)==null?void 0:l.size)==="0")return;const p=Q(n.tx.tags);if(!p["Bundle-Version"]){if(((v=n.tx.data)==null?void 0:v.size)>104857600&&!e.intent)return e.handler="intent";if(((m=n.tx.data)==null?void 0:m.type)==="application/x.arweave-manifest+json"||((d=n.tx.data)==null?void 0:d.type)==="text/html"||((k=n.tx.data)==null?void 0:k.type)==="application/pdf")return e.handler="iframe";if(((x=(r=n.tx.data)==null?void 0:r.type)==null?void 0:x.split("/")[0])==="image")return e.handler="img";if(p["App-Name"]==="SmartWeaveContract"||p["App-Name"]==="SmartWeaveContractSource")return e.handler="smartweave";e.handler="raw";try{if(e.payload=await V.transactions.getData(n.tx.id,{decode:!0,string:!0}),e.payload[0]==="{")try{e.payload=JSON.stringify(JSON.parse(e.payload),null,2),e.handler="json"}catch{}}catch{}}};return z(()=>n.tx.id,()=>{e.intent=!1,e.handler=null,e.loaded=!1,h()},{immediate:!0}),z(()=>e.intent,()=>{e.intent&&h()}),(p,l)=>t(e).handler==="intent"?(s(),o("div",{key:0,onClick:l[0]||(l[0]=v=>t(e).intent=!0),class:"selector data-container box",style:{display:"flex","justify-content":"center","padding-top":"5em"}},[i(K,{icon:t(he)},{default:w(()=>[ve]),_:1},8,["icon"])])):t(e).handler==="iframe"?T((s(),o("div",pe,[a("iframe",{class:"iframe",src:t(_),onLoad:l[1]||(l[1]=v=>t(e).loaded=!0)},null,40,me)],512)),[[B,t(e).loaded]]):t(e).handler==="img"?T((s(),o("div",fe,[i(re,{src:t(_),onLoad:l[2]||(l[2]=v=>t(e).loaded=!0)},null,8,["src"])],512)),[[B,t(e).loaded]]):t(e).handler==="smartweave"?(s(),o("div",ge,[a("iframe",{class:"iframe",src:"https://arcode.studio/#/"+c.tx.id+"?theme=dark-blue&hideToolbar=true",onLoad:l[3]||(l[3]=v=>t(e).loaded=!0),style:{opacity:"1"}},null,40,ye)])):t(e).handler==="json"||t(e).handler==="raw"?(s(),o("div",xe,[a("pre",we,y(t(e).payload),1)])):u("",!0)}};var be=L(ke,[["__scopeId","data-v-66a4f8f2"]]);const g=c=>(q("data-v-1689e922"),c=c(),E(),c),Se={class:"meta flex-column"},$e={class:"box",style:{padding:"0"}},Ie=g(()=>a("div",{class:"spacer"},null,-1)),ze={class:"row flex-column",style:{"align-items":"center"}},Le={class:"address-icon-margin"},Ae=g(()=>a("div",{class:"spacer"},null,-1)),je={key:0,class:"divider"},Ce={key:1,class:"spacer"},De={key:2,class:"row flex-column",style:{"align-items":"center"}},Te={class:"address-icon-margin"},Be=g(()=>a("div",{class:"spacer"},null,-1)),Ne=g(()=>a("h3",null,"Transaction",-1)),Ve=b("ID:\xA0"),Fe={key:0},Re=["href"],He={key:1},We=["href"],Oe={key:3},Ue=g(()=>a("h3",null,"Pending",-1)),Me={key:0},Pe={key:4},Je=g(()=>a("h3",null,"Block",-1)),qe=b("ID:\xA0"),Ee={key:0,class:"secondary-text"},Ge=g(()=>a("h3",null,"Data",-1)),Ke=b(" Fee: "),Qe={key:5},Xe=g(()=>a("h3",null,"Tags",-1)),Ye=[Xe],Ze={key:0,style:{background:"var(--background2)","border-radius":"var(--border-radius)"}},et=M({props:{txId:null},setup(c){const n=c,e=X(N(n,"txId")),_=f(()=>e.value.owner&&F(e.value.owner.address)),h=f(()=>e.value.recipient&&F(e.value.recipient)),p=f(()=>{var r;return((r=e.value.data)==null?void 0:r.size)!=0}),l=f(()=>!e.value.block),v=f(()=>{if(!e.value.block)return"";const r=new Date(e.value.block.timestamp*1e3);return r.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})+" "+r.toLocaleTimeString()}),m=$(null),d=f(()=>{if(!e.value.tags)return;const r=[];for(const x of e.value.tags)r.push({items:[{name:"",value:x.name,attrs:{disabled:!0}},{name:"",value:x.value,attrs:{disabled:!0}}]});return r});z(()=>n.txId,async()=>{V.transactions.getStatus(n.txId).then(r=>m.value=r.status).catch(()=>m.value="Not Found")},{immediate:!0});const k=N(Y.breakpoints,"verticalContent");return(r,x)=>t(e)?(s(),C(Z,{key:0},P({left:w(()=>{var S,A,j;return[a("div",Se,[a("div",$e,[a("div",{class:"box-padding flex-column",style:J([t(d).length&&"padding-bottom: 0"])},[i(ee,{tx:t(e),half:"true"},null,8,["tx"]),Ie,a("div",ze,[a("div",Le,[i(R,{address:t(e).owner.address},null,8,["address"])]),i(H,{wallet:t(_)},null,8,["wallet"])]),Ae,t(e).recipient?(s(),o("div",je)):u("",!0),t(e).recipient?(s(),o("div",Ce)):u("",!0),t(e).recipient?(s(),o("div",De,[a("div",Te,[i(R,{address:t(e).recipient},null,8,["address"])]),i(H,{wallet:t(h)},null,8,["wallet"]),Be])):u("",!0),a("div",null,[Ne,i(W,{address:t(e).id},{default:w(()=>[Ve]),_:1},8,["address"]),t(p)?(s(),o("div",Fe,[a("a",{href:t(I).gatewayURL+t(e).id,target:"_blank"},y((S=t(I).gatewayURLObject)==null?void 0:S.hostname),9,Re)])):u("",!0),((A=t(e).data)==null?void 0:A.type)==="application/x.arweave-manifest+json"?(s(),o("div",He,[a("a",{href:t(I).gatewayURL+"tx/"+t(e).id+"/data.json",target:"_blank"},"Manifest",8,We)])):u("",!0)]),t(l)?(s(),o("div",Oe,[Ue,m.value?(s(),o("div",Me,"Status: "+y(m.value),1)):u("",!0)])):(s(),o("div",Pe,[Je,i(W,{address:t(e).block.id},{default:w(()=>[qe]),_:1},8,["address"]),a("div",null,[b(" Height: "+y(t(e).block.height)+" ",1),((j=t(O))==null?void 0:j.height)?(s(),o("span",Ee,"/ "+y(t(O).height),1)):u("",!0)]),a("div",null,y(t(v)),1)])),a("div",null,[Ge,a("div",null,"Size: "+y(t(te)(t(e).data.size)),1),a("div",null,[Ke,i(ae,{ar:t(e).fee.ar},null,8,["ar"])])]),t(d).length?(s(),o("div",Qe,Ye)):u("",!0)],4),t(d).length?(s(),o("div",Ze,[i(se,{schema:t(d),disabled:""},null,8,["schema"])])):u("",!0)])])]}),_:2},[t(p)?{name:"right",fn:w(()=>[i(be,{tx:t(e),class:D({inline:!t(k)})},null,8,["tx","class"])])}:void 0]),1024)):u("",!0)}});var st=L(et,[["__scopeId","data-v-1689e922"]]);export{st as default};
//# sourceMappingURL=Tx.afbbbee8.js.map
