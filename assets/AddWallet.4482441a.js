import{W as D,d as p,r as j,e as F,c as f,a as s,q as w,x as m,s as i,u as o,T as L,F as C,k as W,X as M,Y as O,o as d,a2 as r,V as v,D as P}from"./vendor.7f4d5d23.js";import{_ as G,D as H,L as J,E as _,G as K,H as U,J as V,K as $,M as z,N as Q,O as R,q as X,P as Y,Q as Z}from"./index.902b7715.js";const g=h=>(M("data-v-12f5b215"),h=h(),O(),h),ee={class:"add-wallet flex-column"},ae={class:"card"},se=g(()=>s("h2",{style:{display:"flex","justify-content":"space-between"}},[s("span",null,"Passphrase"),s("span",null,"Key file")],-1)),te={class:"flex-column"},le=g(()=>s("div",null,null,-1)),ne=r("Create new wallet"),oe=r("Import passphrase"),de={style:{flex:"1 1 auto",display:"flex","flex-direction":"column","align-items":"center","justify-content":"space-evenly","margin-bottom":"var(--spacing)"}},ie={class:"actions-container flex-row"},re={class:"card"},ce=g(()=>s("h2",null,"Hardware",-1)),ue={class:"card"},pe=g(()=>s("h2",null,"Address Only",-1)),me={setup(h){const c=D(),n=p(""),k=p(""),e=j({}),b=F(()=>n.value.trim().split(/\s+/g).length>=12),y=p(!1),x=p(!1),u=p(null),A=async()=>{y.value=!0,n.value=await U();const t=V(n.value);setTimeout(async()=>u.value=await t,1e4)},q=()=>{c.push({name:"EditWallet",query:{wallet:u.value}})},I=async()=>{x.value=!0;const t=V(n.value);e.enabled=!0,e.icon="loader",e.message="Importing",e.actions=[],c.push({name:"EditWallet",query:{wallet:await t}})},B=async()=>{if(await $(n.value))return I();e.enabled=!0,e.icon="",e.message="This passphrase is not valid, do you want to import it anyway?",e.actions=[{name:"Back",action:()=>e.enabled=!1},{name:"Import Passphrase",action:()=>I()}]},E=async t=>{if(!t)return;const l=await z(JSON.parse(await t[0].text()));c.push({name:"EditWallet",query:{wallet:l}})},S=async t=>{const l=await Y(t);c.push({name:"EditWallet",query:{wallet:l}})},N=[Z],T={icon:Q,run:async()=>{const t=await R(k.value);c.push({name:"EditWallet",query:{wallet:t}})}};return(t,l)=>(d(),f("div",ee,[s("div",ae,[se,s("div",te,[w(H,{modelValue:n.value,"onUpdate:modelValue":l[0]||(l[0]=a=>n.value=a),onFiles:E,disabled:y.value,placeholder:"Import passphrase or key file"},null,8,["modelValue","disabled"]),le,!y.value&&!n.value.length?(d(),m(_,{key:0,onClick:l[1]||(l[1]=a=>A()),disabled:n.value.length&&!o(b),icon:o(J)},{default:i(()=>[ne]),_:1},8,["disabled","icon"])):y.value?(d(),m(_,{key:1,disabled:u.value==null,onClick:q,icon:u.value==null?"loader":""},{default:i(()=>[r(v(u.value==null?"Generating, write down the passphrase":"Passphrase saved? Click here to proceed"),1)]),_:1},8,["disabled","icon"])):(d(),m(_,{key:2,disabled:!o(b)||x.value,onClick:B},{default:i(()=>[oe]),_:1},8,["disabled"]))]),w(L,{name:"fade-fast",mode:"in-out"},{default:i(()=>[o(e).enabled?(d(),f("div",{key:o(e).message,class:"overlay flex-column"},[s("div",de,[o(e).icon?(d(),m(X,{key:0,icon:o(e).icon,style:{"font-size":"2em"}},null,8,["icon"])):P("",!0),r(" "+v(o(e).message),1)]),s("div",ie,[(d(!0),f(C,null,W(o(e).actions,a=>(d(),m(_,{key:a.name,onClick:a.action},{default:i(()=>[r(v(a.name),1)]),_:2},1032,["onClick"]))),128))])])):P("",!0)]),_:1})]),s("div",re,[ce,(d(),f(C,null,W(N,a=>w(_,{key:a.name,disabled:!a.isSupported,onClick:ve=>S(a),icon:a.icon},{default:i(()=>[r(v(a.name)+" "+v(a.isSupported?"":" not supported for this browser"),1)]),_:2},1032,["disabled","onClick","icon"])),64))]),s("div",ue,[pe,w(K,{modelValue:k.value,"onUpdate:modelValue":l[2]||(l[2]=a=>k.value=a),actions:[T]},null,8,["modelValue","actions"])])]))}};var ye=G(me,[["__scopeId","data-v-12f5b215"]]);export{ye as default};
//# sourceMappingURL=AddWallet.4482441a.js.map
