import{_ as O,d as L,r as o,c as j,o as s,g as u,b as e,q as p,u as m,aF as F,aG as G,a as d,w as i,aH as U,B as h,h as w,t as k,x,O as z,$ as P,Z as B,aI as H,aJ as K,S as R,U as J,ac as Q,aK as Y,aL as D,aM as b,aN as Z,ai as X,aO as E,a3 as aa,aP as ea,D as ta,ag as sa,C as la,aQ as na,aR as oa}from"./index.6ff8868d.js";const v=g=>(R("data-v-aa293380"),g=g(),J(),g),da={class:"add-wallet flex-column"},ia={class:"card"},ca=v(()=>e("h2",{style:{display:"flex","justify-content":"space-between"}},[e("span",null,"Passphrase"),e("span",null,"Key file")],-1)),ra={class:"flex-column"},ua=v(()=>e("div",null,null,-1)),pa=w("Create new wallet"),ma=w("Import passphrase"),ha={key:0,style:{"text-align":"center"}},va=v(()=>e("p",null,"This passphrase was not generated by arweave.app",-1)),_a=v(()=>e("p",null,"Make sure that it was entered correctly, without typing errors or extra characters. You can still import the wallet and use it normally",-1)),wa=[va,_a],ga={class:"flex-row",style:{"align-items":"center"}},ya={class:"flex-column"},fa={class:"flex-row"},ka={class:"flex-row"},xa={key:0,class:"popup"},ba={class:"card flex-column",style:{"min-width":"300px"}},Ca={class:"flex-row",style:{"justify-content":"space-between","align-items":"center"}},Ia=v(()=>e("h2",null,"Settings",-1)),Aa={class:"card"},Wa=v(()=>e("h2",null,"Address Only",-1)),Sa=L({setup(g){const y=Q(),l=o(""),C=o(""),_=o(void 0),A=j(()=>l.value.trim().split(/\s+/g).length>=12),f=o(!1),W=o(!1),c=o(null),T=async()=>{f.value=!0,l.value=await Y();const n=D(l.value);setTimeout(async()=>c.value=await n,1e4),b.account("Account Create")},$=()=>{!c.value||y.push({name:"EditWallet",query:{wallet:c.value.id}})},S=async()=>{W.value=!0;const n=D(l.value);_.value={icon:"loader",message:"importing"},y.push({name:"EditWallet",query:{wallet:(await n).id}}),b.account("Account Import")},q=async()=>{if(await Z(l.value))return S();_.value={messageType:"invalid",actions:[{name:"Back",run:()=>_.value=void 0},{name:"Import",run:()=>S()}]}},M=async n=>{try{const t=await E(void 0,n);y.push({name:"EditWallet",query:{wallet:t.id}}),b.account("Account Ledger")}catch(t){console.error(t),oa.error(t.message||t)}},N={icon:X,run:async()=>{const n=await E(C.value);y.push({name:"EditWallet",query:{wallet:n.id}}),b.account("Account Watch")}},I=o(-1);return(n,t)=>(s(),u("div",da,[e("div",ia,[ca,e("div",ra,[p(G,{modelValue:l.value,"onUpdate:modelValue":t[0]||(t[0]=a=>l.value=a),onFiles:t[1]||(t[1]=a=>m(F)(a,"keyfile")),disabled:f.value,placeholder:"Import passphrase or key file"},null,8,["modelValue","disabled"]),ua,!f.value&&!l.value.length?(s(),d(h,{key:0,onClick:T,disabled:l.value.length&&!m(A),icon:m(U),class:"main",glow:!0,color:"#81a1c1"},{default:i(()=>[pa]),_:1},8,["disabled","icon"])):f.value?(s(),d(h,{key:1,disabled:c.value==null,onClick:$,icon:c.value==null?"loader":"",class:"main",glow:!0,color:"#81a1c1"},{default:i(()=>[w(k(c.value==null?"Generating, write down the passphrase":"Passphrase saved? Click here to proceed"),1)]),_:1},8,["disabled","icon"])):(s(),d(h,{key:2,disabled:!m(A)||W.value,onClick:q,class:"main",glow:!0,color:"#81a1c1"},{default:i(()=>[ma]),_:1},8,["disabled"]))]),p(z,{options:_.value},{default:i(()=>[_.value.messageType==="invalid"?(s(),u("div",ha,wa)):x("",!0)]),_:1},8,["options"])]),(s(!0),u(P,null,B(m(H),(a,V)=>(s(),u("div",{class:"card",key:a.metadata.name},[e("h2",ga,[p(aa,{icon:a.metadata.icon},null,8,["icon"]),e("span",null,k(a.metadata.name)+" Hardware Wallet (awaiting release)",1)]),e("div",ya,[e("div",fa,[p(h,{disabled:a.metadata.disabled,onClick:r=>M(a),icon:a.metadata.icon,class:"main",glow:!0,color:"#81a1c1"},{default:i(()=>[w(k(a.metadata.disabled?`${a.metadata.name} not supported for this browser`:`Connect with ${a.metadata.name}`),1)]),_:2},1032,["disabled","onClick","icon"]),a.metadata.componentSettings?(s(),d(h,{key:0,icon:m(ea),class:"secondary",onClick:r=>I.value=V},null,8,["icon","onClick"])):x("",!0)]),e("div",ka,[(s(!0),u(P,null,B(a.metadata.actions,r=>(s(),d(h,ta({key:r.name},r),{default:i(()=>[w(k(r.name),1)]),_:2},1040))),128))]),a.metadata.componentSettings?(s(),d(na,{key:0,background:!0},{default:i(()=>[I.value===V?(s(),u("div",xa,[e("div",ba,[e("div",Ca,[Ia,p(sa,{onExit:t[2]||(t[2]=r=>I.value=-1)})]),(s(),d(la(a.metadata.componentSettings)))])])):x("",!0)]),_:2},1024)):x("",!0)])]))),128)),e("div",Aa,[Wa,p(K,{modelValue:C.value,"onUpdate:modelValue":t[3]||(t[3]=a=>C.value=a),submit:N},null,8,["modelValue"])])]))}});var Pa=O(Sa,[["__scopeId","data-v-aa293380"]]);export{Pa as default};
//# sourceMappingURL=AddWallet.34faf81e.js.map
