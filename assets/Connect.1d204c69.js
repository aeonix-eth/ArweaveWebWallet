var ge=Object.defineProperty,ye=Object.defineProperties;var he=Object.getOwnPropertyDescriptors;var Q=Object.getOwnPropertySymbols;var xe=Object.prototype.hasOwnProperty,we=Object.prototype.propertyIsEnumerable;var Y=(e,t,s)=>t in e?ge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,J=(e,t)=>{for(var s in t||(t={}))xe.call(t,s)&&Y(e,s,t[s]);if(Q)for(var s of Q(t))we.call(t,s)&&Y(e,s,t[s]);return e},Z=(e,t)=>ye(e,he(t));import{W as E,X as ke,e as g,d as T,a8 as be,ak as $e,w as P,a9 as Ie,o as a,c as l,q as _,s as C,D as y,$ as ee,aa as j,n as D,u as c,P as A,a1 as F,a2 as H,a as d,F as b,k as L,i as Ve,x as S,V as $,z as Ce,C as Se,T as Te,a5 as W,t as ze}from"./vendor.864071fb.js";import{_ as I,j as te,k as O,d as ae,l as z,m as N,o as Be,I as se,h as Ee,p as Le,T as Me,q as ne,r as le,s as oe,t as ie,v as Pe,w as ce,x as de,y as re,z as ue}from"./index.a23674a5.js";import{I as ve}from"./y.dc90e8e0.js";const We={class:"margin fade-list-item",key:"margin1"},je={class:"margin fade-list-item",key:"margin2"},Ae=E({props:{modelValue:null,options:null},emits:["update:modelValue"],setup(e,{emit:t}){const s=e,n=ke("transitionState",null),r=g({get(){return s.modelValue},set(i){t("update:modelValue",i)}}),o=T(null),u=i=>{if(!(!i||!o.value))return s.options.align==="center"?i.offsetLeft+i.offsetWidth/2-o.value.offsetWidth/2:s.options.align==="end"?i.offsetLeft+i.offsetWidth-o.value.offsetWidth:i.offsetLeft},m=g(()=>{var i;return w.value,((i=o.value)==null?void 0:i.children)?Array(...o.value.children).filter(k=>!k.classList.contains("margin")):[]}),h=g(()=>{var i;return{"--position":((i=s.options)==null?void 0:i.align)||"start"}}),p=async(i,k)=>{var B;!k&&s.options.awaitTransition&&await te(()=>!n.running),i=Math.max(i||0,0),(B=o.value)==null||B.scroll({left:u(m.value[i]),behavior:k?"instant":"smooth"})};let x;const w=T(0);return be(async()=>{x=new MutationObserver(async()=>{w.value++}),x.observe(o.value,{subtree:!1,childList:!0}),await $e(),await te(()=>m.value.length),setTimeout(()=>{const i=!s.options.immediate&&r.value&&r.value>0||!1;p(i?0:r.value,!0),P(r,k=>p(k),{immediate:i})})}),Ie(()=>x&&x.disconnect()),(i,k)=>(a(),l("div",{ref_key:"root",ref:o,class:"carousel flex-row no-scrollbar",style:D(c(h))},[_(j,{name:"fade-list"},{default:C(()=>{var B,M;return[((B=e.options)==null?void 0:B.overscroll)?(a(),l("div",We)):y("",!0),ee(i.$slots,"default",{},void 0,!0),((M=e.options)==null?void 0:M.overscroll)?(a(),l("div",je)):y("",!0)]}),_:3})],4))}});var _e=I(Ae,[["__scopeId","data-v-5e316723"]]);const me=e=>(F("data-v-7b045f16"),e=e(),H(),e),Ne={class:"wallet-selector"},De=me(()=>d("div",{class:"exit-background"},null,-1)),Fe=me(()=>d("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},[d("path",{d:"M0 0h24v24H0V0z",fill:"none"}),d("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"})],-1)),He=[De,Fe],Oe=E({props:{modelValue:String,default:String,exit:Boolean,active:Boolean},emits:["update:modelValue","selectWallet","exit"],setup(e,{emit:t}){const s=e,n=g({get(){return s.modelValue||s.default},set(o){t("update:modelValue",o)}}),r=g(()=>{var o;return(o=O(n.value))==null?void 0:o.key});return(o,u)=>(a(),l("div",Ne,[c(n)?(a(),l("button",{key:0,type:"button",onClick:u[0]||(u[0]=m=>o.$emit("selectWallet")),class:A(["tab",{active:e.active}])},[_(ae,{address:c(r)},null,8,["address"])],2)):y("",!0),e.exit?(a(),l("button",{key:1,class:"exit",type:"button",onClick:u[1]||(u[1]=m=>o.$emit("exit"))},He)):y("",!0)]))}});var Re=I(Oe,[["__scopeId","data-v-7b045f16"]]);const Ue={class:"wallet-tabs"},qe=["onClick"],Ke=E({props:["modelValue"],emits:["update:modelValue"],setup(e,{emit:t}){const s=e,n=g({get(){return s.modelValue},set(o){t("update:modelValue",o)}}),r=g(()=>z.value.findIndex(o=>o.id===n.value));return(o,u)=>(a(),l("div",Ue,[_(_e,{modelValue:c(r),"onUpdate:modelValue":u[0]||(u[0]=m=>Ve(r)?r.value=m:null),options:{align:"center",overscroll:!0,immediate:!0}},{default:C(()=>[(a(!0),l(b,null,L(c(z),m=>(a(),l("button",{key:m.id,type:"button",onClick:h=>n.value=m.id,class:A(["tab",{active:m.id==c(n)}])},[_(ae,{address:m.key},null,8,["address"])],10,qe))),128))]),_:1},8,["modelValue"])]))}});var Xe=I(Ke,[["__scopeId","data-v-35e1b97b"]]);const Ge={class:"icon-background"},Qe={props:["icon","img"],setup(e){return(t,s)=>(a(),l("div",Ge,[e.img?(a(),S(N,{key:0,class:"page-logo",icon:e.img},null,8,["icon"])):(a(),S(N,{key:1,class:"page-logo placeholder",icon:e.icon},null,8,["icon"]))]))}};var fe=I(Qe,[["__scopeId","data-v-7bef1ba0"]]);const pe=e=>(F("data-v-9a5c4e1a"),e=e(),H(),e),Ye=pe(()=>d("path",{d:"M24 24H0V0h24v24z",fill:"none",opacity:".87"},null,-1)),Je=pe(()=>d("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6-1.41-1.41z"},null,-1)),Ze=[Ye,Je],et={props:["modelValue"],emits:["update:modelValue"],setup(e,{emit:t}){const s=e,n=g({get(){return s.modelValue},set(r){t("update:modelValue",r)}});return(r,o)=>(a(),l("button",{type:"button",class:"expand",onClick:o[0]||(o[0]=u=>n.value=!c(n))},[(a(),l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",class:A({expanded:c(n)})},Ze,2))]))}};var tt=I(et,[["__scopeId","data-v-9a5c4e1a"]]);const at={class:"actions-list flex-row"},st=["onClick"],nt={props:["actions"],setup(e){return(t,s)=>(a(),l("div",at,[(a(!0),l(b,null,L(e.actions,n=>(a(),l("button",{key:n.name,onClick:n.run,type:"button",class:"action flex-row"},[_(N,{icon:n.icon},null,8,["icon"]),d("div",null,$(n.name),1)],8,st))),128))]))}};var R=I(nt,[["__scopeId","data-v-99d382fa"]]);const lt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#FFF"},ot=d("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),it=d("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"},null,-1),ct=[ot,it];function dt(e,t){return a(),l("svg",lt,ct)}var rt={render:dt};const ut={class:"flex-row"},vt={class:"flex-row",style:{flex:"1 1 0"}},_t={class:"content"},mt={class:"title"},ft={class:"secondary-text"},pt={props:["data"],setup(e){return(t,s)=>(a(),l("div",{class:A(["notification",{expanded:e.data.expanded}])},[d("div",ut,[d("div",vt,[_(fe,{icon:e.data.icon||c(rt),img:e.data.img},null,8,["icon","img"]),d("div",_t,[e.data.expanded?(a(),S(Be,{key:0,class:"secondary-text",timestamp:e.data.timestamp},null,8,["timestamp"])):y("",!0),d("div",mt,$(e.data.title),1),d("div",ft,[ee(t.$slots,"default",{},void 0,!0)]),e.data.expanded?(a(),S(R,{key:1,actions:e.data.actions},null,8,["actions"])):y("",!0)])]),_(tt,{modelValue:e.data.expanded,"onUpdate:modelValue":s[0]||(s[0]=n=>e.data.expanded=n)},null,8,["modelValue"])])],2))}};var gt=I(pt,[["__scopeId","data-v-7ece1c50"]]);const yt={class:"tx-card-extension"},ht={key:0,class:"flex-row",style:{"justify-content":"space-between"}},xt={key:0},wt={key:1},kt={key:1,class:"tags secondary-text"},bt={props:["tx"],setup(e){return g(()=>se.breakpoints.verticalLayout),(t,s)=>(a(),l("div",yt,[e.tx.tags.length||e.tx.data_size?(a(),l("div",ht,[e.tx.tags.length?(a(),l("div",xt,"Tags:")):y("",!0),e.tx.data_size?(a(),l("div",wt,"Data: "+$(c(Ee)(e.tx.data_size)),1)):y("",!0)])):y("",!0),e.tx.tags.length?(a(),l("ul",kt,[(a(!0),l(b,null,L(e.tx.tags,n=>(a(),l("li",null,$(n.name+" | "+n.value),1))),256))])):y("",!0)]))}};var $t=I(bt,[["__scopeId","data-v-5ae3361a"]]);const It={class:"permission-card"},Vt=W(" Share the public key "),Ct=W(" Share the arweave config "),St=W(" Sign data "),Tt=W(" Decrypt data "),zt=E({props:{messageEntry:null},setup(e){const t=e,s=T(null),n=g(()=>{var h,p,x,w;if(((h=s.value)==null?void 0:h.method)!=="signTransaction")return;const u=(x=(p=s.value)==null?void 0:p.params)==null?void 0:x[0],m=(w=u.tags)==null?void 0:w.map(({name:i,value:k})=>({name:window.atob(i),value:window.atob(k)}));return Z(J({},u),{tags:m})});P(()=>t.messageEntry,async()=>{s.value=await Le(t.messageEntry)},{immediate:!0});const r=[{name:"Accept",icon:ve,run:()=>t.messageEntry.status="accepted"},{name:"Reject",icon:ne,run:()=>t.messageEntry.status="rejected"}],o=[{name:"Pending",icon:le,run:()=>{}}];return(u,m)=>{var h,p,x,w,i;return Ce((a(),l("div",It,[((h=s.value)==null?void 0:h.method)==="signTransaction"?(a(),l(b,{key:0},[_(Me,{tx:c(n)},null,8,["tx"]),_($t,{tx:c(n)},null,8,["tx"])],64)):((p=s.value)==null?void 0:p.method)==="getPublicKey"?(a(),l(b,{key:1},[Vt],64)):((x=s.value)==null?void 0:x.method)==="getArweaveConfig"?(a(),l(b,{key:2},[Ct],64)):((w=s.value)==null?void 0:w.method)==="sign"?(a(),l(b,{key:3},[St],64)):((i=s.value)==null?void 0:i.method)==="decrypt"?(a(),l(b,{key:4},[Tt],64)):y("",!0),_(Te,{name:"fade",mode:"out-in"},{default:C(()=>[e.messageEntry.status?(a(),S(R,{key:1,actions:o})):(a(),S(R,{key:0,actions:r}))]),_:1})],512)),[[Se,s.value]])}}});var Bt=I(zt,[["__scopeId","data-v-0e1a76fc"]]);const Et={class:"connection-card flex-column no-scrollbar"},Lt={key:"connect"},Mt=E({props:{walletId:null},setup(e){const t=e,s={connect:"Connect automatically",signTransaction:"Sign transaction",getPublicKey:"Share public key",sign:"Sign arbitrary data",decrypt:"Decrypt data",getArweaveConfig:"Share arweave gateway configuration"},n=u=>!u||u.options&&!u.options.permissions?[]:Object.getOwnPropertyNames(Object.getPrototypeOf(u.messageRunner)).filter(m=>u.messageRunner[m]&&m!=="constructor"),r=g(()=>O(t.walletId)),o=g(()=>n(r.value));return(u,m)=>(a(),l("div",Et,[d("div",Lt,$(c(s).connect),1),(a(!0),l(b,null,L(c(o),h=>(a(),l("div",{key:h},$(c(s)[h]),1))),128))]))}}),Pt={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#fff"},Wt=d("path",{d:"M0 0h24v24H0V0z",fill:"none"},null,-1),jt=d("path",{d:"M19 19H5V5h7V3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"},null,-1),At=[Wt,jt];function Nt(e,t){return a(),l("svg",Pt,At)}var Dt={render:Nt};const Ft=e=>(F("data-v-6829b7b2"),e=e(),H(),e),Ht={class:"connection-card flex-column no-scrollbar"},Ot={class:"flex-row"},Rt=["disabled"],Ut={style:{"min-width":"0"}},qt={class:"ellipsis"},Kt={class:"secondary-text ellipsis"},Xt={class:"flex-column",style:{flex:"1 1 0"}},Gt={class:"container"},Qt={class:"page-container",key:"0"},Yt={key:0},Jt={class:"status fade-list-item",key:"1"},Zt={key:1},ea=Ft(()=>d("div",{class:"status fade-list-item",key:"1"},"WIP",-1)),ta=E({props:{state:null},setup(e){var q;const t=e,s=(q=z.value[0])==null?void 0:q.id;g(()=>z.value.map(v=>v.key));const n=T(t.state.walletId||s);g(()=>O(s));const r=[{name:"Requests",color:"var(--orange)"},{name:"Permissions",color:"var(--green)"}],o=T(n.value?r[0].name:null);P(()=>t.state.walletId,v=>{!v||(p.value=!1,n.value=v,o.value=r[0].name)});const u=()=>t.state.walletId=!1,m=()=>{p.value=!1,t.state.walletId=n.value+""},h=()=>{var v;!t.state.walletId||(n.value!==(t.state.walletId||((v=z.value[0])==null?void 0:v.id))&&w.value++,p.value=!1,n.value=t.state.walletId)},p=T(!t.state.walletId),x=g(()=>p.value&&z.value.length>1),w=T(0),i=()=>{var v,f;if(!p.value){p.value=!0;return}n.value!==(t.state.walletId||((v=z.value[0])==null?void 0:v.id))&&w.value++,n.value=t.state.walletId||((f=z.value[0])==null?void 0:f.id),p.value=!1},k=g(()=>{var f;const v=t.state.walletId?`Switch to ${n.value}`:`Connect to ${((f=t.state.appInfo)==null?void 0:f.name)||t.state.origin} from the account ${n.value}`;return{title:t.state.walletId?"Switch":"Connect",timestamp:Date.now(),actions:[{name:"Connect",icon:ve,run:m},{name:t.state.walletId?"Cancel":"Switch",icon:ne,run:t.state.walletId?h:i}],expanded:!0,content:v}}),B=g(()=>{var v;return n.value!==t.state.walletId?[]:(v=t.state.messageQueue)==null?void 0:v.filter(f=>!f.fulfilled)});ze(se.breakpoints,"verticalLayout");const M=T(null),U=(v,f)=>M.value=v-f;return P(()=>r.findIndex(v=>v.name===o.value),U),P(()=>z.value.findIndex(v=>v.id===n.value),U),(v,f)=>{var K,X;return a(),l("div",Ht,[d("div",Ot,[d("button",{type:"button",class:"info flex-row",onClick:f[0]||(f[0]=(...V)=>c(oe)&&c(oe)(...V)),disabled:!c(ie)(e.state.origin,e.state.session)},[_(fe,{img:(K=e.state.appInfo)==null?void 0:K.logo,icon:c(le)},null,8,["img","icon"]),d("div",Ut,[d("div",qt,$(((X=e.state.appInfo)==null?void 0:X.name)||"Connector"),1),d("div",Kt,$(e.state.origin),1)]),c(ie)(e.state.origin,e.state.session)?(a(),S(N,{key:0,icon:c(Dt)},null,8,["icon"])):y("",!0)],8,Rt),_(Re,{modelValue:e.state.walletId,"onUpdate:modelValue":f[1]||(f[1]=V=>e.state.walletId=V),default:c(s),exit:!0,active:!c(x),onSelectWallet:i,onExit:u},null,8,["modelValue","default","active"])]),d("div",Xt,[_(Pe,{tabs:r,modelValue:o.value,"onUpdate:modelValue":f[2]||(f[2]=V=>o.value=V),disabled:!n.value},null,8,["modelValue","disabled"]),d("div",Gt,[_(ce,{vector:M.value,axis:"x"},{default:C(()=>[(a(),l("div",{class:"container-scroll",key:w.value},[_(j,{name:"fade-list"},{default:C(()=>[c(x)?(a(),S(Xe,{modelValue:n.value,"onUpdate:modelValue":f[3]||(f[3]=V=>n.value=V),class:"fade-list-item",key:"-1"},null,8,["modelValue"])):y("",!0),d("div",Qt,[_(ce,{vector:M.value,axis:"x"},{default:C(()=>[(a(),l("div",{key:(n.value||"")+o.value,class:"content"},[o.value==="Requests"?(a(),l("div",Yt,[_(j,{name:"fade-list"},{default:C(()=>{var V;return[d("div",{class:"fade-list-item",key:"0",style:D({padding:0,border:0,outline:"0.5px solid var(--border)"})},null,4),((V=c(B))==null?void 0:V.length)===0&&e.state.walletId&&e.state.walletId===n.value?(a(),l("div",Jt,"Connected")):y("",!0),n.value!==e.state.walletId?(a(),S(gt,{data:c(k),class:"fade-list-item",key:"2"},{default:C(()=>[W($(c(k).content),1)]),_:1},8,["data"])):y("",!0),(a(!0),l(b,null,L(c(B),G=>(a(),S(Bt,{key:G.uuid,messageEntry:G,style:{padding:"var(--spacing)"},class:"flex-column fade-list-item"},null,8,["messageEntry"]))),128))]}),_:1})])):o.value==="Permissions"?(a(),l("div",Zt,[_(j,{name:"fade-list"},{default:C(()=>[d("div",{class:"fade-list-item",key:"0",style:D({padding:0,border:0,outline:"0.5px solid var(--border)"})},null,4),ea,_(Mt,{walletId:n.value,class:"fade-list-item",key:"2"},null,8,["walletId"])]),_:1})])):y("",!0)]))]),_:1},8,["vector"])])]),_:1})]))]),_:1},8,["vector"])])])])}}});var aa=I(ta,[["__scopeId","data-v-6829b7b2"]]);const sa={class:"connect flex-column"},na={class:"bottom-info secondary-text",style:{opacity:"0.0","pointer-events":"none"}},la=E({setup(e){const t=T(de.value.findIndex(s=>s.origin===re.origin&&s.session===re.session));return(s,n)=>(a(),l("div",sa,[_(_e,{modelValue:t.value,"onUpdate:modelValue":n[0]||(n[0]=r=>t.value=r),options:{align:"start",overscroll:!0},class:"connectors"},{default:C(()=>[(a(!0),l(b,null,L(c(de),r=>(a(),l("div",{key:r.session,class:"connection-card-container fade-list-item"},[_(aa,{state:r,class:"box"},null,8,["state"])]))),128))]),_:1},8,["modelValue"]),d("div",na,[d("div",null,"All Channels "+$(Object.keys(c(ue)).length),1),(a(!0),l(b,null,L(c(ue),(r,o)=>(a(),l("div",{key:o},$(r),1))),128))])]))}});var ra=I(la,[["__scopeId","data-v-7c3f5fef"]]);export{ra as default};
//# sourceMappingURL=Connect.1d204c69.js.map
